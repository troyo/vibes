var wo=Object.defineProperty;var bo=(t,a,e)=>a in t?wo(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var h=(t,a,e)=>bo(t,typeof a!="symbol"?a+"":a,e);import{_ as $}from"./map-XSi3F034.js";import{i as z,B as Ao}from"./i18n-VWbTNjcU.js";const L=(()=>{if(typeof window<"u"){const t=localStorage.getItem("worldmonitor-variant");if(t==="tech"||t==="full"||t==="finance")return t}return"full"})(),LS=[{symbol:"XLK",name:"Tech"},{symbol:"XLF",name:"Finance"},{symbol:"XLE",name:"Energy"},{symbol:"XLV",name:"Health"},{symbol:"XLY",name:"Consumer"},{symbol:"XLI",name:"Industrial"},{symbol:"XLP",name:"Staples"},{symbol:"XLU",name:"Utilities"},{symbol:"XLB",name:"Materials"},{symbol:"XLRE",name:"Real Est"},{symbol:"XLC",name:"Comms"},{symbol:"SMH",name:"Semis"}],DS=[{symbol:"^VIX",name:"VIX",display:"VIX"},{symbol:"GC=F",name:"Gold",display:"GOLD"},{symbol:"CL=F",name:"Crude Oil",display:"OIL"},{symbol:"NG=F",name:"Natural Gas",display:"NATGAS"},{symbol:"SI=F",name:"Silver",display:"SILVER"},{symbol:"HG=F",name:"Copper",display:"COPPER"}],OS=[{symbol:"^GSPC",name:"S&P 500",display:"SPX"},{symbol:"^DJI",name:"Dow Jones",display:"DOW"},{symbol:"^IXIC",name:"NASDAQ",display:"NDX"},{symbol:"AAPL",name:"Apple",display:"AAPL"},{symbol:"MSFT",name:"Microsoft",display:"MSFT"},{symbol:"NVDA",name:"NVIDIA",display:"NVDA"},{symbol:"GOOGL",name:"Alphabet",display:"GOOGL"},{symbol:"AMZN",name:"Amazon",display:"AMZN"},{symbol:"META",name:"Meta",display:"META"},{symbol:"BRK-B",name:"Berkshire",display:"BRK.B"},{symbol:"TSM",name:"TSMC",display:"TSM"},{symbol:"LLY",name:"Eli Lilly",display:"LLY"},{symbol:"TSLA",name:"Tesla",display:"TSLA"},{symbol:"AVGO",name:"Broadcom",display:"AVGO"},{symbol:"WMT",name:"Walmart",display:"WMT"},{symbol:"JPM",name:"JPMorgan",display:"JPM"},{symbol:"V",name:"Visa",display:"V"},{symbol:"UNH",name:"UnitedHealth",display:"UNH"},{symbol:"NVO",name:"Novo Nordisk",display:"NVO"},{symbol:"XOM",name:"Exxon",display:"XOM"},{symbol:"MA",name:"Mastercard",display:"MA"},{symbol:"ORCL",name:"Oracle",display:"ORCL"},{symbol:"PG",name:"P&G",display:"PG"},{symbol:"COST",name:"Costco",display:"COST"},{symbol:"JNJ",name:"J&J",display:"JNJ"},{symbol:"HD",name:"Home Depot",display:"HD"},{symbol:"NFLX",name:"Netflix",display:"NFLX"},{symbol:"BAC",name:"BofA",display:"BAC"}],Pa=[{id:"ream_naval_base",name:"Ream Naval Base",lat:10.5034,lon:103.609,type:"china",country:"Cambodia",arm:"PLA Navy(Access Right)",status:"controversial",description:"PLA Navy(Access Right). Host: Cambodia. Status disputed."},{id:"chinese_pla_support_base",name:"Chinese PLA Support Base",lat:11.5915,lon:43.0602,type:"china",country:"Djibouti",arm:"Navy",status:"active",description:"Navy. Host: Djibouti."},{id:"chinese_naval_intelligence_base",name:"Chinese Naval Intelligence Base",lat:14.1463,lon:93.3588,type:"china",country:"Myanmar",arm:"Army",status:"controversial",description:"Army. Host: Myanmar. Status disputed."},{id:"military_base",name:"Military Base",lat:37.4381,lon:74.9128,type:"china",country:"Tajikistan",arm:"Army",status:"controversial",description:"Army. Host: Tajikistan. Status disputed."},{id:"unnamed_military_base",name:"Unnamed Military Base",lat:9.54583,lon:112.8875,type:"china",country:"Disputed",arm:"Combined arms",status:"active",description:"Combined arms."},{id:"unnamed_military_base_2",name:"Unnamed Military Base",lat:10.92361,lon:114.08472,type:"china",country:"Disputed",arm:"Combined arms",status:"active",description:"Combined arms."},{id:"unnamed_military_base_3",name:"Unnamed Military Base",lat:9.9,lon:115.53333,type:"china",country:"Disputed",arm:"Combined arms",status:"active",description:"Combined arms."},{id:"unnamed_military_base_4",name:"Unnamed Military Base",lat:16.83444,lon:112.33972,type:"china",country:"Disputed",arm:"Combined arms",status:"active",description:"Combined arms."},{id:"ndjamena_air_force_base",name:"N'Djamena Air Force Base",lat:12.13361,lon:15.03389,type:"france",country:"Chad",arm:"Air Force",status:"active",description:"Air Force. Host: Chad."},{id:"naval_base_of_hron",name:"Naval base of Héron",lat:11.55663,lon:43.14419,type:"france",country:"Djibouti",arm:"Navy",status:"active",description:"Navy. Host: Djibouti."},{id:"les_lments_franais_au_gabon",name:"Les éléments français au Gabon",lat:.42048,lon:9.43806,type:"france",country:"Gabon",arm:"Combined arms",status:"active",description:"Combined arms. Host: Gabon."},{id:"fassberg_air_base",name:"Fassberg Air Base",lat:52.91944,lon:10.18889,type:"france",country:"Germany",arm:"Franco-German training facilities",status:"active",description:"Franco-German training facilities. Host: Germany."},{id:"les_forces_franaises_en_cte_divoire_ffci",name:"Les forces françaises en Côte d'Ivoire (FFCI)",lat:7.50357,lon:-5.54897,type:"france",country:"Ivory Coast",arm:"Combined arms",status:"active",description:"Combined arms. Host: Ivory Coast."},{id:"rayak_air_base",name:"Rayak Air Base",lat:33.85222,lon:35.99028,type:"france",country:"Lebanon",arm:"Combined arms",status:"active",description:"Combined arms. Host: Lebanon."},{id:"niamey_air_force_base",name:"Niamey Air Force Base",lat:13.48167,lon:2.17028,type:"france",country:"Niger",arm:"Air Force",status:"active",description:"Air Force. Host: Niger."},{id:"les_lments_franais_au_sngal",name:"Les éléments français au Sénégal",lat:14.75069,lon:-17.45357,type:"france",country:"Senegal",arm:"Combined arms",status:"active",description:"Combined arms. Host: Senegal."},{id:"unnamed_military_base_5",name:"Unnamed Military Base",lat:36.89111,lon:38.35361,type:"france",country:"Syria",arm:"Combined arms",status:"active",description:"Combined arms. Host: Syria."},{id:"unnamed_military_base_6",name:"Unnamed Military Base",lat:36.5875,lon:38.29972,type:"france",country:"Syria",arm:"Combined arms",status:"active",description:"Combined arms. Host: Syria."},{id:"unnamed_military_base_7",name:"Unnamed Military Base",lat:36.38528,lon:38.85944,type:"france",country:"Syria",arm:"Combined arms",status:"active",description:"Combined arms. Host: Syria."},{id:"abu_dhabi_base",name:"Abu Dhabi Base",lat:24.52151,lon:54.39611,type:"france",country:"United Arab Emirates",arm:"Navy, Air Force",status:"active",description:"Navy, Air Force. Host: United Arab Emirates."},{id:"indian_military_training_team",name:"Indian military training team",lat:27.36042,lon:89.30152,type:"india",country:"Bhutan",arm:"Radar facilities",status:"active",description:"Radar facilities. Host: Bhutan."},{id:"port_of_shahid_beheshti",name:"Port of Shahid Beheshti",lat:25.29752,lon:60.61111,type:"india",country:"Iran",arm:"Navy & Air Force (Access Right)",status:"active",description:"Navy & Air Force (Access Right). Host: Iran."},{id:"port_of_sittwe",name:"Port of Sittwe",lat:20.13937,lon:92.90043,type:"india",country:"Myanmar",arm:"Listening Post",status:"planned",description:"Listening Post. Host: Myanmar. Planned/under construction."},{id:"ras_al_hadd_listening_post",name:"Ras al Hadd Listening post",lat:22.53308,lon:59.79831,type:"india",country:"Oman",arm:"Listening Post",status:"active",description:"Listening Post. Host: Oman."},{id:"muscat_naval_base",name:"Muscat naval base",lat:23.58764,lon:58.27884,type:"india",country:"Oman",arm:"Navy(Berthing right)",status:"active",description:"Navy(Berthing right). Host: Oman."},{id:"duqm_port",name:"Duqm port",lat:19.666,lon:57.72627,type:"india",country:"Oman",arm:"Navy(Berthing right)",status:"active",description:"Navy(Berthing right). Host: Oman."},{id:"naval_facilities_coastal_surveillance_ra",name:"Naval Facilities, Coastal Surveillance Radar (CSR) station",lat:-9.73661,lon:46.51097,type:"india",country:"Seychelles",arm:"Navy",status:"planned",description:"Navy. Host: Seychelles. Planned/under construction."},{id:"farkhor_air_base",name:"Farkhor air base",lat:37.47011,lon:69.38089,type:"india",country:"Tajikistan",arm:"Combined arms",status:"active",description:"Combined arms. Host: Tajikistan."},{id:"coastal_surveillance_radar_station",name:"Coastal Surveillance Radar station",lat:-.62728,lon:73.09722,type:"india",country:"Maldives",arm:"Radar facilities",status:"active",description:"Radar facilities. Host: Maldives."},{id:"coastal_surveillance_radar_csr_station",name:"Coastal Surveillance Radar (CSR) station",lat:-12.01845,lon:49.26322,type:"india",country:"Madagascar",arm:"Radar facilities",status:"active",description:"Radar facilities. Host: Madagascar."},{id:"coastal_surveillance_radar_csr_station_2",name:"Coastal Surveillance Radar (CSR) station",lat:-19.99894,lon:57.62941,type:"india",country:"Mauritius",arm:"Radar facilities",status:"active",description:"Radar facilities. Host: Mauritius."},{id:"listening_post_and_coastal_surveillance_",name:"Listening post and Coastal Surveillance Radar station",lat:21.91089,lon:90.0497,type:"india",country:"Bangladesh",arm:"Radar facilities",status:"planned",description:"Radar facilities. Host: Bangladesh. Planned/under construction."},{id:"berth_rights_and_right_to_station_its_tr",name:"Berth rights and right to station its troops in Qatar",lat:25.30761,lon:51.2093,type:"india",country:"Qatar",arm:"Combined arms",status:"active",description:"Combined arms. Host: Qatar."},{id:"japan_selfdefense_force_base_djibouti",name:"Japan Self-Defense Force Base Djibouti",lat:11.55311,lon:43.14423,type:"japan",country:"Djibouti",arm:"India shares the maritime assets of Japan",status:"active",description:"India shares the maritime assets of Japan. Host: Djibouti."},{id:"heart_miliraty_base",name:"Heart miliraty base",lat:34.35091,lon:62.20565,type:"italy",country:"Afghanistan",arm:"Combined arms",status:"active",description:"Combined arms. Host: Afghanistan."},{id:"djibouti_militaray_base",name:"Djibouti militaray base",lat:11.54816,lon:43.17267,type:"italy",country:"Djibouti",arm:"Combined arms",status:"active",description:"Combined arms. Host: Djibouti."},{id:"ahmad_aljaber_air_base",name:"Ahmad al-Jaber Air Base",lat:28.93492,lon:47.79197,type:"italy",country:"Kuwait",arm:"Air Force",status:"active",description:"Air Force. Host: Kuwait."},{id:"libya_military_base",name:"Libya Military Base",lat:24.96046,lon:10.17728,type:"italy",country:"Libya",arm:"Combined arms",status:"active",description:"Combined arms. Host: Libya."},{id:"al_minhad_air_base",name:"Al Minhad air base",lat:25.02694,lon:55.36611,type:"italy",country:"United Arab Emirates",arm:"Air Force",status:"active",description:"Air Force. Host: United Arab Emirates."},{id:"russian_102nd_military_base",name:"Russian 102nd Military Base",lat:40.79,lon:43.825,type:"russia",country:"Armenia",arm:"Combined arms",status:"active",description:"Combined arms. Host: Armenia."},{id:"russian_3624th_airbase",name:"Russian 3624th Airbase",lat:40.128,lon:44.472,type:"russia",country:"Armenia",arm:"Air Force",status:"active",description:"Air Force. Host: Armenia."},{id:"vileyka_vlf_transmitter",name:"Vileyka VLF transmitter",lat:54.4636,lon:26.778,type:"russia",country:"Belarus",arm:"Navy",status:"active",description:"Navy. Host: Belarus."},{id:"hantsavichy_radar_station",name:"Hantsavichy Radar Station",lat:52.857,lon:26.481,type:"russia",country:"Belarus",arm:"Russian Aerospace Defence Forces",status:"active",description:"Russian Aerospace Defence Forces. Host: Belarus."},{id:"7th_krasnodar_base",name:"7th Krasnodar base",lat:43.101,lon:40.624,type:"russia",country:"Georgia",arm:"Combined arms",status:"active",description:"Combined arms. Host: Georgia."},{id:"russian_4th_military_base",name:"Russian 4th Military Base",lat:42.39,lon:43.922,type:"russia",country:"Georgia",arm:"Combined arms",status:"active",description:"Combined arms. Host: Georgia."},{id:"baikonur_cosmodrome",name:"Baikonur Cosmodrome",lat:45.964,lon:63.305,type:"russia",country:"Kazakhstan",arm:"Spaceport",status:"active",description:"Spaceport. Host: Kazakhstan."},{id:"sary_shagan",name:"Sary Shagan",lat:46.383,lon:72.866,type:"russia",country:"Kazakhstan",arm:"Anti-ballistic missile testing range",status:"active",description:"Anti-ballistic missile testing range. Host: Kazakhstan."},{id:"balkhash_radar_station",name:"Balkhash Radar Station",lat:46.603,lon:74.53,type:"russia",country:"Kazakhstan",arm:"Russian early warning radars",status:"active",description:"Russian early warning radars. Host: Kazakhstan."},{id:"kant_air_base",name:"Kant (air base)",lat:42.853,lon:74.846,type:"russia",country:"Kyrgyzstan",arm:"military air base",status:"active",description:"military air base. Host: Kyrgyzstan."},{id:"russian_forces_in_moldova",name:"Russian forces in Moldova",lat:46.84,lon:29.643,type:"russia",country:"Moldova",arm:"Task Force",status:"active",description:"Task Force. Host: Moldova."},{id:"khmeimim_air_base",name:"Khmeimim Air Base",lat:35.411,lon:35.945,type:"russia",country:"Syria",arm:"Russian Aerospace Defence Forces",status:"active",description:"Russian Aerospace Defence Forces. Host: Syria."},{id:"russian_naval_facility_in_tartus",name:"Russian naval facility in Tartus",lat:34.915,lon:35.874,type:"russia",country:"Syria",arm:"Navy",status:"active",description:"Navy. Host: Syria."},{id:"tiyas_military_airbase",name:"Tiyas Military Airbase",lat:34.5225,lon:37.62972,type:"russia",country:"Syria",arm:"Air Force",status:"active",description:"Air Force. Host: Syria."},{id:"shayrat_airbase",name:"Shayrat Airbase",lat:34.49,lon:36.90889,type:"russia",country:"Syria",arm:"Air Force",status:"active",description:"Air Force. Host: Syria."},{id:"russian_201st_military_base",name:"Russian 201st Military Base",lat:38.536,lon:68.78,type:"russia",country:"Tajikistan",arm:"Combined arms",status:"active",description:"Combined arms. Host: Tajikistan."},{id:"military_headquarters",name:"Military headquarters",lat:11.79819,lon:-66.15139,type:"russia",country:"Venezuela",arm:"Combined arms",status:"planned",description:"Combined arms. Host: Venezuela. Planned/under construction."},{id:"unnamed_military_base_8",name:"Unnamed Military Base",lat:13.01534,lon:42.73724,type:"uae",country:"Eritrea",arm:"Combined arms",status:"controversial",description:"Combined arms. Host: Eritrea. Status disputed."},{id:"unnamed_military_base_9",name:"Unnamed Military Base",lat:31.99809,lon:21.19361,type:"uae",country:"Libya",arm:"Air Force",status:"controversial",description:"Air Force. Host: Libya. Status disputed."},{id:"unnamed_military_base_10",name:"Unnamed Military Base",lat:10.438,lon:44.997,type:"uae",country:"Republic of Somaliland",arm:"Combined arms",status:"active",description:"Combined arms. Host: Republic of Somaliland."},{id:"unnamed_military_base_11",name:"Unnamed Military Base",lat:12.51,lon:53.92,type:"uae",country:"Yemen",arm:"Combined arms",status:"active",description:"Combined arms. Host: Yemen."},{id:"rothera_research_station",name:"Rothera Research Station",lat:-67.56833,lon:-68.12583,type:"uk",country:"Disputed",arm:"British Antarctic Survey (BAS) base",status:"active",description:"British Antarctic Survey (BAS) base."},{id:"hms_jufair",name:"HMS Jufair",lat:26.205,lon:50.615,type:"uk",country:"Bahrain",arm:"British Royal Navy base",status:"active",description:"British Royal Navy base. Host: Bahrain."},{id:"raf_belize",name:"RAF Belize",lat:17.544,lon:-88.305,type:"uk",country:"Belize",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: Belize."},{id:"british_army_jungle_warfare_training_sch",name:"British Army Jungle Warfare Training School",lat:4.608,lon:114.325,type:"uk",country:"Brunei",arm:"British Army's training establishment",status:"active",description:"British Army's training establishment. Host: Brunei."},{id:"sittang_camp",name:"Sittang Camp",lat:4.82943,lon:114.668,type:"uk",country:"Brunei",arm:"British Army's training establishment",status:"active",description:"British Army's training establishment. Host: Brunei."},{id:"kuala_belait_accommodation",name:"Kuala Belait accommodation",lat:4.58665,lon:114.247,type:"uk",country:"Brunei",arm:"British Army's training establishment",status:"active",description:"British Army's training establishment. Host: Brunei."},{id:"british_army_training_unit_suffield",name:"British Army Training Unit Suffield",lat:50.273,lon:-111.175,type:"uk",country:"Canada",arm:"Army",status:"active",description:"Army. Host: Canada."},{id:"raf_troodos",name:"RAF Troodos",lat:34.912,lon:32.883,type:"uk",country:"Cyprus",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: Cyprus."},{id:"raf_akrotiri",name:"RAF Akrotiri",lat:34.59,lon:32.987,type:"uk",country:"Cyprus",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: Cyprus."},{id:"ayios_nikolaos_station",name:"Ayios Nikolaos Station",lat:35.093,lon:33.886,type:"uk",country:"Cyprus",arm:"British Armed Forces",status:"active",description:"British Armed Forces. Host: Cyprus."},{id:"westfalen_garrison",name:"Westfalen Garrison",lat:51.778,lon:8.72,type:"uk",country:"Germany",arm:"British garrison with facilities",status:"active",description:"British garrison with facilities. Host: Germany."},{id:"wulfen_barracks",name:"Wulfen barracks",lat:51.7053,lon:6.99875,type:"uk",country:"Germany",arm:"Munitions storage facility, British Forces Germany",status:"active",description:"Munitions storage facility, British Forces Germany. Host: Germany."},{id:"ayrshire_barracks",name:"Ayrshire barracks",lat:51.1708,lon:6.39294,type:"uk",country:"Germany",arm:"Vehicle storage site, British Forces Germany",status:"active",description:"Vehicle storage site, British Forces Germany. Host: Germany."},{id:"raf_gibraltar",name:"RAF Gibraltar",lat:36.15209,lon:-5.34446,type:"uk",country:"Disputed",arm:"Royal Air Force",status:"active",description:"Royal Air Force."},{id:"port_of_gibraltar",name:"Port of Gibraltar",lat:36.1485,lon:-5.3652,type:"uk",country:"Gibraltar",arm:"British Royal Navy",status:"active",description:"British Royal Navy. Host: Gibraltar."},{id:"british_army_training_unit_kenya",name:"British Army Training Unit Kenya",lat:.035,lon:37.054,type:"uk",country:"Kenya",arm:"Training support unit of the British Army",status:"active",description:"Training support unit of the British Army. Host: Kenya."},{id:"british_gurkha dharan",name:"British Gurkha Dharan",lat:26.8069,lon:87.2692,type:"uk",country:"Nepal",arm:"Movement base and regional recruiting centre",status:"active",description:"Movement base and regional recruiting centre. Host: Nepal."},{id:"headquarters_british_gurkhas_nepal",name:"Headquarters British Gurkhas Nepal",lat:27.6684,lon:85.3169,type:"uk",country:"Nepal",arm:"Focal point for organisation of transit to and fro",status:"active",description:"Focal point for organisation of transit to and fro. Host: Nepal."},{id:"british_gurkha_camp",name:"British Gurkha Camp",lat:28.2475,lon:83.9914,type:"uk",country:"Nepal",arm:"Main recruitment centre",status:"active",description:"Main recruitment centre. Host: Nepal."},{id:"bardufoss_air_station",name:"Bardufoss Air Station",lat:69.0521,lon:18.5169,type:"uk",country:"Norway",arm:"Cold weather training for Royal Air Force, British",status:"active",description:"Cold weather training for Royal Air Force, British. Host: Norway."},{id:"uk_joint_logistics_support_base",name:"UK Joint Logistics Support Base",lat:19.669,lon:57.71,type:"uk",country:"Oman",arm:"Submarines and Queen Elizabeth-class aircraft carr",status:"active",description:"Submarines and Queen Elizabeth-class aircraft carr. Host: Oman."},{id:"omanibritish_joint_training_area",name:"Omani-British Joint Training Area",lat:19.014,lon:57.7487,type:"uk",country:"Oman",arm:"Royal Army of Oman, British Army",status:"active",description:"Royal Army of Oman, British Army. Host: Oman."},{id:"seeb_overseas_processing_centre",name:"Seeb, Overseas Processing Centre",lat:23.6749,lon:58.1208,type:"uk",country:"Oman",arm:"GCHQ's Middle East spy hub",status:"active",description:"GCHQ's Middle East spy hub. Host: Oman."},{id:"raf_al_udeid",name:"RAF Al Udeid",lat:25.11,lon:51.319,type:"uk",country:"Qatar",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: Qatar."},{id:"british_naval_facility_base",name:"British naval facility, base",lat:1.46411,lon:103.826,type:"uk",country:"Singapore",arm:"British Defence Singapore Support Unit (BDSSU)",status:"active",description:"British Defence Singapore Support Unit (BDSSU). Host: Singapore."},{id:"raf_mount_pleasant",name:"RAF Mount Pleasant",lat:-51.822,lon:-58.447,type:"uk",country:"United Kingdoms",arm:"Royal Air Force station",status:"active",description:"Royal Air Force station. Host: United Kingdoms."},{id:"raf_ascension",name:"RAF Ascension",lat:-7.969,lon:-14.393,type:"uk",country:"United Kingdoms",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: United Kingdoms."},{id:"naval_support_facility_diego_garcia",name:"Naval Support Facility Diego Garcia",lat:7.313,lon:72.411,type:"uk",country:"United Kingdoms",arm:"Naval air facility",status:"active",description:"Naval air facility. Host: United Kingdoms."},{id:"ascension_air_force_station",name:"Ascension Air Force Station",lat:-7.9504,lon:-14.4112,type:"uk",country:"United Kingdoms",arm:"Royal Air Force",status:"active",description:"Royal Air Force. Host: United Kingdoms."},{id:"warwick_camp",name:"Warwick Camp",lat:32.2566,lon:-64.8153,type:"uk",country:"United Kingdoms",arm:"Royal Bermuda Regiment",status:"active",description:"Royal Bermuda Regiment. Host: United Kingdoms."},{id:"cayman_islands_regiment",name:"Cayman Islands Regiment",lat:19.2931,lon:-81.3784,type:"uk",country:"United Kingdoms",arm:"A single territorial infantry battalion of the Bri",status:"active",description:"A single territorial infantry battalion of the Bri. Host: United Kingdoms."},{id:"a_port_facility_and_depot_for raf_mount_",name:"A port facility and depot for RAF Mount Pleasant",lat:-51.9,lon:-58.4377,type:"uk",country:"United Kingdoms",arm:"Royal Navy",status:"active",description:"Royal Navy. Host: United Kingdoms."},{id:"rrh_an_early_warning_and_airspace_contro",name:"RRH, an early warning and airspace control network",lat:-52.153,lon:-60.5981,type:"uk",country:"United Kingdoms",arm:"British Forces South Atlantic Islands",status:"active",description:"British Forces South Atlantic Islands. Host: United Kingdoms."},{id:"rrh_an_early_warning_and_airspace_contro_2",name:"RRH, an early warning and airspace control network",lat:-51.4252,lon:-60.5643,type:"uk",country:"United Kingdoms",arm:"British Forces South Atlantic Islands",status:"active",description:"British Forces South Atlantic Islands. Host: United Kingdoms."},{id:"rrh_an_early_warning_and_airspace_contro_3",name:"RRH, an early warning and airspace control network",lat:-51.6734,lon:-58.1103,type:"uk",country:"United Kingdoms",arm:"British Forces South Atlantic Islands",status:"active",description:"British Forces South Atlantic Islands. Host: United Kingdoms."},{id:"port_stanley_airport",name:"Port Stanley Airport",lat:-51.6985,lon:-57.8415,type:"uk",country:"Disputed",arm:"Falkland Islands Defence Force Headquarters",status:"active",description:"Falkland Islands Defence Force Headquarters."},{id:"jersey_field_squadron",name:"Jersey Field Squadron",lat:49.1752,lon:-2.10827,type:"uk",country:"United Kingdoms",arm:"Royal Engineer uni",status:"active",description:"Royal Engineer uni. Host: United Kingdoms."},{id:"royal_montserrat_defence_force_headquart",name:"Royal Montserrat Defence Force Headquarters",lat:16.7937,lon:-62.2112,type:"uk",country:"United Kingdoms",arm:"Royal Montserrat Defence Force",status:"active",description:"Royal Montserrat Defence Force. Host: United Kingdoms."},{id:"firebase_fiddlers_greenfire_base",name:"Firebase Fiddler's Green(Fire base)",lat:31.44139,lon:64.10472,type:"us-nato",country:"Afghanistan",arm:"Marine Corps",status:"active",description:"Marine Corps. Host: Afghanistan."},{id:"forward_operating_base_delhi",name:"Forward Operating Base Delhi",lat:31.13278,lon:64.18944,type:"us-nato",country:"Afghanistan",arm:"Marine Corps",status:"active",description:"Marine Corps. Host: Afghanistan."},{id:"camp_dwyer",name:"Camp Dwyer",lat:31.10111,lon:64.06722,type:"us-nato",country:"Afghanistan",arm:"Combined arms",status:"active",description:"Combined arms. Host: Afghanistan."},{id:"forward_operating_base_geronimo",name:"Forward Operating Base Geronimo",lat:31.40167,lon:64.25889,type:"us-nato",country:"Afghanistan",arm:"Combined arms",status:"active",description:"Combined arms. Host: Afghanistan."},{id:"joint_region_marianas_andersen_afb",name:"Joint Region Marianas Andersen AFB",lat:13.6495,lon:144.863,type:"us-nato",country:"America",arm:"Navy",status:"active",description:"Navy. Host: America."},{id:"andersen_air_force_base",name:"Andersen Air Force Base",lat:13.5792,lon:144.923,type:"us-nato",country:"America",arm:"Air Force",status:"active",description:"Air Force. Host: America."},{id:"sector_guam",name:"Sector Guam",lat:13.4373,lon:144.713,type:"us-nato",country:"America",arm:"Coastal Guard",status:"active",description:"Coastal Guard. Host: America."},{id:"robertson_barracks",name:"Robertson Barracks",lat:-12.44,lon:130.97,type:"us-nato",country:"Australia",arm:"Marines",status:"active",description:"Marines. Host: Australia."},{id:"naval_support_activity_bahrain",name:"Naval Support Activity Bahrain",lat:26.2086,lon:50.6097,type:"us-nato",country:"Bahrain",arm:"Navy",status:"active",description:"Navy. Host: Bahrain."},{id:"isa_air_base",name:"Isa Air Base",lat:25.9121,lon:50.5931,type:"us-nato",country:"Bahrain",arm:"Air Force",status:"active",description:"Air Force. Host: Bahrain."},{id:"usag_brussels",name:"USAG Brussels",lat:50.8504,lon:4.34878,type:"us-nato",country:"Belgium",arm:"Army",status:"active",description:"Army. Host: Belgium."},{id:"aitos_logistics_center",name:"Aitos Logistics Center",lat:42.7,lon:27.25,type:"us-nato",country:"Bulgaria",arm:"Air Force",status:"active",description:"Air Force. Host: Bulgaria."},{id:"bezmer",name:"Bezmer",lat:42.4833,lon:26.5,type:"us-nato",country:"Bulgaria",arm:"Air Force",status:"active",description:"Air Force. Host: Bulgaria."},{id:"graf_ignatievo",name:"Graf Ignatievo",lat:42.15,lon:24.75,type:"us-nato",country:"Bulgaria",arm:"Air Force",status:"active",description:"Air Force. Host: Bulgaria."},{id:"contingency_location_garoua",name:"Contingency Location Garoua",lat:9.33307,lon:13.3717,type:"us-nato",country:"Cameroon",arm:"Army",status:"active",description:"Army. Host: Cameroon."},{id:"guantanamo",name:"Guantanamo",lat:20.1444,lon:-75.2092,type:"us-nato",country:"Cuba",arm:"Navy",status:"active",description:"Navy. Host: Cuba."},{id:"camp_lemonnier",name:"Camp Lemonnier",lat:11.5436,lon:43.1486,type:"us-nato",country:"Djibouti",arm:"Navy",status:"active",description:"Navy. Host: Djibouti."},{id:"raf_lakenheath",name:"RAF Lakenheath",lat:52.4175,lon:.52211,type:"us-nato",country:"United Kingdoms",arm:"Air Force",status:"active",description:"Air Force. Host: United Kingdoms."},{id:"royal_air_force_alconbury",name:"Royal Air Force Alconbury",lat:52.369,lon:-.26009,type:"us-nato",country:"United Kingdoms",arm:"Air Force",status:"active",description:"Air Force. Host: United Kingdoms."},{id:"royal_air_force_croughton",name:"Royal Air Force Croughton",lat:52.25,lon:-.83333,type:"us-nato",country:"United Kingdoms",arm:"Air Force",status:"active",description:"Air Force. Host: United Kingdoms."},{id:"raf_mildenhall",name:"RAF Mildenhall",lat:51.4256,lon:-1.69988,type:"us-nato",country:"United Kingdoms",arm:"Air Force",status:"active",description:"Air Force. Host: United Kingdoms."},{id:"campbell_barracks",name:"Campbell Barracks",lat:49.4077,lon:8.69079,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"landstuhl_medical_center",name:"Landstuhl Medical Center",lat:49.4131,lon:7.57021,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"patrick_henry_village",name:"Patrick Henry Village",lat:49.4077,lon:8.69079,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_ansbach",name:"USAG Ansbach",lat:49.3,lon:10.5833,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_bamberg",name:"USAG Bamberg",lat:49.8987,lon:10.9007,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_baumholder",name:"USAG Baumholder",lat:49.6174,lon:7.33381,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_garmisch",name:"USAG Garmisch",lat:47.4948,lon:11.1078,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_grafenwoehr",name:"USAG Grafenwoehr",lat:49.7173,lon:11.9064,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_heidelberg",name:"USAG Heidelberg",lat:49.4077,lon:8.69079,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usaf_hessen",name:"USAF Hessen",lat:50.1342,lon:8.91418,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_kaiserslautern",name:"USAG Kaiserslautern",lat:49.443,lon:7.77161,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_mannheim",name:"USAG Mannheim",lat:49.4077,lon:8.69079,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_schweinfurt",name:"USAG Schweinfurt",lat:50.0494,lon:10.2217,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_stuttgart",name:"USAG Stuttgart",lat:48.7823,lon:9.17702,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"usag_wiesbaden",name:"USAG Wiesbaden",lat:50.0826,lon:8.24932,type:"us-nato",country:"Germany",arm:"Army",status:"active",description:"Army. Host: Germany."},{id:"ramstein",name:"Ramstein",lat:49.443,lon:7.77161,type:"us-nato",country:"Germany",arm:"Air Force",status:"active",description:"Air Force. Host: Germany."},{id:"spangdahlem",name:"Spangdahlem",lat:49.7556,lon:6.63935,type:"us-nato",country:"Germany",arm:"Air Force",status:"active",description:"Air Force. Host: Germany."},{id:"panzer_kaserne",name:"Panzer Kaserne",lat:48.6849,lon:9.02955,type:"us-nato",country:"Germany",arm:"Marines",status:"active",description:"Marines. Host: Germany."},{id:"camp_victory",name:"Camp Victory",lat:33.3406,lon:44.4009,type:"us-nato",country:"Iraq",arm:"Army",status:"active",description:"Army. Host: Iraq."},{id:"forward_operating_base_abu_ghraib",name:"Forward Operating Base Abu Ghraib",lat:33.307,lon:44.1869,type:"us-nato",country:"Iraq",arm:"Army",status:"active",description:"Army. Host: Iraq."},{id:"fob_grizzly",name:"FOB Grizzly",lat:33.8081,lon:44.5334,type:"us-nato",country:"Iraq",arm:"Army",status:"active",description:"Army. Host: Iraq."},{id:"camp_baharia",name:"Camp Baharia",lat:33.3558,lon:43.7861,type:"us-nato",country:"Iraq",arm:"Marines",status:"active",description:"Marines. Host: Iraq."},{id:"ain_assad_air_base",name:"Ain Assad Air Base",lat:33.7986,lon:42.4391,type:"us-nato",country:"Iraq",arm:"Army,Air Force,Marines",status:"active",description:"Army,Air Force,Marines. Host: Iraq."},{id:"dimona_radar_facility",name:"Dimona Radar Facility",lat:30.9844,lon:35.0735,type:"us-nato",country:"Israel",arm:"US military",status:"active",description:"US military. Host: Israel."},{id:"nsa_gaeta",name:"NSA Gaeta",lat:41.2141,lon:13.5708,type:"us-nato",country:"Italy",arm:"Navy",status:"active",description:"Navy. Host: Italy."},{id:"naval_support_activity",name:"Naval Support Activity",lat:41.2142,lon:9.40833,type:"us-nato",country:"Italy",arm:"Navy",status:"active",description:"Navy. Host: Italy."},{id:"naval_support_activity_2",name:"Naval Support Activity",lat:40.8333,lon:14.25,type:"us-nato",country:"Italy",arm:"Navy",status:"active",description:"Navy. Host: Italy."},{id:"camp_darby",name:"Camp Darby",lat:43.6272,lon:10.292,type:"us-nato",country:"Italy",arm:"Army",status:"active",description:"Army. Host: Italy."},{id:"caserma_ederle",name:"Caserma Ederle",lat:45.5573,lon:11.5409,type:"us-nato",country:"Italy",arm:"Army",status:"active",description:"Army. Host: Italy."},{id:"aviano",name:"Aviano",lat:46.0706,lon:12.5947,type:"us-nato",country:"Italy",arm:"Air Force",status:"active",description:"Air Force. Host: Italy."},{id:"fleet_actvities_sasebo",name:"Fleet Actvities Sasebo",lat:33.1592,lon:129.723,type:"us-nato",country:"Japan",arm:"Navy",status:"active",description:"Navy. Host: Japan."},{id:"fleet_activities",name:"Fleet Activities",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Navy",status:"active",description:"Navy. Host: Japan."},{id:"fleep_activities",name:"Fleep Activities",lat:35.2836,lon:139.667,type:"us-nato",country:"Japan",arm:"Navy",status:"active",description:"Navy. Host: Japan."},{id:"camp_zama",name:"Camp Zama",lat:35.4889,lon:139.389,type:"us-nato",country:"Japan",arm:"Army",status:"active",description:"Army. Host: Japan."},{id:"fort_buckner",name:"Fort Buckner",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Army",status:"active",description:"Army. Host: Japan."},{id:"torii_station",name:"Torii Station",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Army",status:"active",description:"Army. Host: Japan."},{id:"kadena",name:"Kadena",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Air Force",status:"active",description:"Air Force. Host: Japan."},{id:"misawsa",name:"Misawsa",lat:40.6868,lon:141.39,type:"us-nato",country:"Japan",arm:"Air Force",status:"active",description:"Air Force. Host: Japan."},{id:"yokota",name:"Yokota",lat:35.7394,lon:139.347,type:"us-nato",country:"Japan",arm:"Air Force",status:"active",description:"Air Force. Host: Japan."},{id:"unnamed_military_base_12",name:"Unnamed Military Base",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"unnamed_military_base_13",name:"Unnamed Military Base",lat:34.15,lon:132.183,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_courtney",name:"Camp Courtney",lat:26.3761,lon:127.859,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_foster",name:"Camp Foster",lat:26.3029,lon:127.767,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_gonsalves",name:"Camp Gonsalves",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_hansen",name:"Camp Hansen",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_kinser",name:"Camp Kinser",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_schwab",name:"Camp Schwab",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_sd_butler",name:"Camp SD Butler",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"yontan_airfield",name:"Yontan Airfield",lat:25.7722,lon:126.669,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"far_east_activities",name:"Far East Activities",lat:35.7431,lon:139.35,type:"us-nato",country:"Japan",arm:"Coastal Guard",status:"active",description:"Coastal Guard. Host: Japan."},{id:"naval_air_facility_atsugi",name:"Naval Air Facility Atsugi",lat:35.4567,lon:139.45,type:"us-nato",country:"Japan",arm:"Navy",status:"active",description:"Navy. Host: Japan."},{id:"camp_fuji",name:"Camp Fuji",lat:35.3171,lon:138.933,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"fleet_activities_okinawa",name:"Fleet Activities Okinawa",lat:26.5043,lon:127.997,type:"us-nato",country:"Japan",arm:"Navy",status:"active",description:"Navy. Host: Japan."},{id:"torii_station_2",name:"TORII Station",lat:26.4938,lon:127.851,type:"us-nato",country:"Japan",arm:"Army",status:"active",description:"Army. Host: Japan."},{id:"kadena_air_base",name:"Kadena Air Base",lat:26.3545,lon:127.766,type:"us-nato",country:"Japan",arm:"Air Force",status:"active",description:"Air Force. Host: Japan."},{id:"marine_corps_base_camp_smedley_d_bulter",name:"Marine Corps Base Camp Smedley D. Bulter",lat:26.4843,lon:127.955,type:"us-nato",country:"Japan",arm:"Marines",status:"active",description:"Marines. Host: Japan."},{id:"camp_bondsteel",name:"Camp Bondsteel",lat:42.3667,lon:21.1333,type:"us-nato",country:"Kosovo",arm:"Army",status:"active",description:"Army. Host: Kosovo."},{id:"ali_al_salem_air_base",name:"Ali Al Salem Air Base",lat:29.3487,lon:47.5235,type:"us-nato",country:"Kuwait",arm:"Air Force",status:"active",description:"Air Force. Host: Kuwait."},{id:"camp_arifjan",name:"Camp Arifjan",lat:28.8751,lon:48.1589,type:"us-nato",country:"Kuwait",arm:"Air Force,Army,Marines,Navy,Coastal Guard",status:"active",description:"Air Force,Army,Marines,Navy,Coastal Guard. Host: Kuwait."},{id:"camp_buehring",name:"Camp Buehring",lat:29.6952,lon:47.4212,type:"us-nato",country:"Kuwait",arm:"Base",status:"active",description:"Base. Host: Kuwait."},{id:"kuwait_naval_base",name:"Kuwait Naval Base",lat:28.8643,lon:48.2775,type:"us-nato",country:"Kuwait",arm:"Army, Navy, Coastal Guard",status:"active",description:"Army, Navy, Coastal Guard. Host: Kuwait."},{id:"usag_schinnen",name:"USAG Schinnen",lat:50.9433,lon:5.88889,type:"us-nato",country:"Netherlands",arm:"Army",status:"active",description:"Army. Host: Netherlands."},{id:"niger_air_base_201",name:"Niger Air Base 201",lat:16.9212,lon:8.02595,type:"us-nato",country:"Niger",arm:"Air Force",status:"active",description:"Air Force. Host: Niger."},{id:"masirah_aira_base",name:"Masirah Aira Base",lat:20.6671,lon:58.8971,type:"us-nato",country:"Oman",arm:"Air Force",status:"active",description:"Air Force. Host: Oman."},{id:"rafo_thumrait",name:"RAFO Thumrait",lat:17.6641,lon:54.0255,type:"us-nato",country:"Oman",arm:"Air Force",status:"active",description:"Air Force. Host: Oman."},{id:"antonio_bautista_air_base",name:"Antonio Bautista Air Base",lat:9.74346,lon:118.76,type:"us-nato",country:"Philippines",arm:"Air Force",status:"active",description:"Air Force. Host: Philippines."},{id:"cesar_basa_air_base",name:"Cesar Basa Air Base",lat:14.9862,lon:120.494,type:"us-nato",country:"Philippines",arm:"Air Force",status:"active",description:"Air Force. Host: Philippines."},{id:"fort_magsaysay",name:"Fort Magsaysay",lat:15.435,lon:121.091,type:"us-nato",country:"Philippines",arm:"Army",status:"active",description:"Army. Host: Philippines."},{id:"lumbia_airfield",name:"Lumbia Airfield",lat:8.4055,lon:124.61,type:"us-nato",country:"Philippines",arm:"Air Force",status:"active",description:"Air Force. Host: Philippines."},{id:"mactanbenito_ebuen_air_base",name:"Mactan-Benito Ebuen Air Base",lat:10.3129,lon:123.978,type:"us-nato",country:"Philippines",arm:"Air Force",status:"active",description:"Air Force. Host: Philippines."},{id:"lajes_field",name:"Lajes Field",lat:38.3833,lon:-28.2667,type:"us-nato",country:"Portugal",arm:"Air Force",status:"active",description:"Air Force. Host: Portugal."},{id:"camp_santiago",name:"Camp Santiago",lat:17.9775,lon:-66.298,type:"us-nato",country:"Puerto Rico",arm:"Army",status:"active",description:"Army. Host: Puerto Rico."},{id:"al_udeid",name:"Al Udeid",lat:25.2793,lon:51.5224,type:"us-nato",country:"Quatar",arm:"Air Force",status:"active",description:"Air Force. Host: Quatar."},{id:"prince_sultan_air_base",name:"Prince Sultan Air Base",lat:24.0769,lon:47.564,type:"us-nato",country:"Saudi Arabia",arm:"Air Force",status:"active",description:"Air Force. Host: Saudi Arabia."},{id:"comlog_westpac",name:"COMLOG Westpac",lat:1.28967,lon:103.85,type:"us-nato",country:"Singapore",arm:"Navy",status:"active",description:"Navy. Host: Singapore."},{id:"fleet_actvities_chinhae",name:"Fleet Actvities Chinhae",lat:35.1028,lon:129.04,type:"us-nato",country:"South Korea",arm:"Navy",status:"active",description:"Navy. Host: South Korea."},{id:"camp_red_cloud",name:"Camp Red Cloud",lat:37.7415,lon:127.047,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"camp_stanley",name:"Camp Stanley",lat:37.7415,lon:127.047,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"usag_daegu",name:"USAG Daegu",lat:35.8703,lon:128.591,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"kunsan_ab",name:"Kunsan AB",lat:35.9022,lon:126.625,type:"us-nato",country:"South Korea",arm:"Air Force",status:"active",description:"Air Force. Host: South Korea."},{id:"us_army_garrison_humphreys",name:"U.S. Army Garrison Humphreys",lat:36.9651,lon:127.033,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"osan_air_base",name:"Osan Air Base",lat:37.091,lon:127.031,type:"us-nato",country:"South Korea",arm:"Air Force",status:"active",description:"Air Force. Host: South Korea."},{id:"k16_air_base",name:"K-16 Air Base",lat:37.4377,lon:127.109,type:"us-nato",country:"South Korea",arm:"Air Force",status:"active",description:"Air Force. Host: South Korea."},{id:"usag_yongsan",name:"USAG Yongsan",lat:37.5331,lon:126.983,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"us_army_garrison_casey",name:"U.S. Army Garrison CASEY",lat:37.8842,lon:127.05,type:"us-nato",country:"South Korea",arm:"Army",status:"active",description:"Army. Host: South Korea."},{id:"naval_station",name:"Naval Station",lat:36.6224,lon:-6.35859,type:"us-nato",country:"Spain",arm:"Navy",status:"active",description:"Navy. Host: Spain."},{id:"izmir",name:"Izmir",lat:38.4127,lon:27.1384,type:"us-nato",country:"Turkey",arm:"Air Force",status:"active",description:"Air Force. Host: Turkey."},{id:"al_dhafra_air_base",name:"Al Dhafra Air Base",lat:24.24,lon:54.551,type:"us-nato",country:"United Arab Emirates",arm:"Air Force,Army",status:"active",description:"Air Force,Army. Host: United Arab Emirates."},{id:"port_of_jebel_ali",name:"Port of Jebel Ali",lat:25.0249,lon:55.0399,type:"us-nato",country:"United Arab Emirates",arm:"Air Force, Navy",status:"active",description:"Air Force, Navy. Host: United Arab Emirates."},{id:"fujairah_naval_base",name:"Fujairah Naval Base",lat:25.2523,lon:56.3652,type:"us-nato",country:"United Arab Emirates",arm:"Navy",status:"active",description:"Navy. Host: United Arab Emirates."},{id:"navy_support_facility",name:"Navy Support Facility",lat:-7.29861,lon:72.4016,type:"us-nato",country:"United Kingdom",arm:"Navy",status:"active",description:"Navy. Host: United Kingdom."}],pn=[{id:"sahel",name:"Sahel",subtext:"Insurgency/Coups",lat:14,lon:-1,location:"Sahel Region (Mali, Burkina Faso, Niger)",keywords:["burkina faso","mali","niger","sahel","junta","coup","wagner","africa corps"],agencies:["Wagner","Junta Forces"],description:"Region of instability, military coups, and Islamist insurgency. Russian influence growing.",status:"Monitoring",escalationScore:4,escalationTrend:"escalating",escalationIndicators:["4 coups since 2020","French forces expelled","Wagner/Africa Corps expansion","ECOWAS sanctions"],history:{lastMajorEvent:"Niger coup",lastMajorEventDate:"2023-07-26",precedentCount:4,precedentDescription:"4 military coups in 3 years (Mali 2020/2021, Burkina Faso 2022, Niger 2023)",cyclicalRisk:"Dry season offensives (Oct-May)"},whyItMatters:"Russian influence expanding in former French sphere; jihadist groups gaining territory; migration pressure on Europe"},{id:"haiti",name:"Port-au-Prince",subtext:"Haiti Crisis",lat:18.5,lon:-72.3,location:"Haiti, Caribbean",keywords:["haiti","port-au-prince","gangs","kenya mission","barbecue"],agencies:["UN","HNP","Kenya Police"],description:"Gang violence, government collapse, international security mission.",status:"Monitoring",escalationScore:4,escalationTrend:"stable",escalationIndicators:["Gangs control 80% of capital","PM resigned under pressure","Kenya-led mission deployed","Mass displacement"],history:{lastMajorEvent:"PM Henry resignation",lastMajorEventDate:"2024-03-11",precedentCount:3,precedentDescription:"Repeated state collapse (2004 Aristide, 2021 Moïse assassination, 2024 gang takeover)",cyclicalRisk:"Hurricane season vulnerability (Jun-Nov)"},whyItMatters:"Humanitarian catastrophe at US doorstep; migration surge potential; test of African-led peacekeeping"},{id:"horn_africa",name:"Horn of Africa",subtext:"Piracy/Conflict",lat:10,lon:49,location:"Somalia, Ethiopia, Djibouti",keywords:["somalia","piracy","al-shabaab","ethiopia","somaliland","red sea"],agencies:["USAFRICOM","EUNAVFOR"],description:"Resurgent piracy, Al-Shabaab activity, Ethiopia-Somaliland port dispute.",status:"Monitoring",escalationScore:4,escalationTrend:"escalating",escalationIndicators:["Houthi attacks on shipping","Somali piracy resurgence","Ethiopia-Somaliland MoU dispute","Sudan civil war spillover"],history:{lastMajorEvent:"Sudan war outbreak",lastMajorEventDate:"2023-04-15",precedentCount:5,precedentDescription:"Ethiopia-Eritrea war, Tigray war, Somali civil war, Sudan coups, piracy waves",cyclicalRisk:"Monsoon affects naval operations (Jun-Sep)"},whyItMatters:"Bab el-Mandeb chokepoint security; 12% of global trade at risk; Red Sea shipping rerouting"},{id:"dc",name:"DC",subtext:"Pentagon Pizza Index",lat:38.9,lon:-77,location:"Washington D.C., USA",keywords:["pentagon","white house","congress","cia","nsa","washington","biden","trump","house","senate","supreme court","vance","elon","us "],agencies:["Pentagon","CIA","NSA","State Dept"],description:"US government and military headquarters. Intelligence community center.",status:"Monitoring"},{id:"silicon_valley",name:"Silicon Valley",subtext:"Tech/AI Hub",lat:37.4,lon:-122.1,location:"California, USA",keywords:["google","apple","meta","nvidia","openai","anthropic","silicon valley","san francisco","palo alto","tech layoffs","ai","artificial intelligence"],agencies:["Big Tech","AI Labs","VC"],description:"Global tech center. AI development hub. Major economic indicator.",status:"Monitoring"},{id:"wall_street",name:"Wall Street",subtext:"Financial Hub",lat:40.7,lon:-74,location:"New York City, USA",keywords:["wall street","fed","federal reserve","nyse","nasdaq","dow","sp500","stock market","goldman","jpmorgan","blackrock"],agencies:["Fed","SEC","NYSE"],description:"Global financial center. Market movements. Fed policy.",status:"Monitoring"},{id:"houston",name:"Houston",subtext:"Energy/Space",lat:29.76,lon:-95.37,location:"Texas, USA",keywords:["houston","nasa","spacex","oil","energy","texas","exxon","chevron","lng"],agencies:["NASA","Energy Corps"],description:"Energy sector HQ. NASA mission control. Space industry.",status:"Monitoring"},{id:"moscow",name:"Moscow",subtext:"Kremlin Activity",lat:55.75,lon:37.6,location:"Russia",keywords:["kremlin","putin","russia","fsb","moscow","russian"],agencies:["Kremlin","FSB","GRU","SVR"],description:"Russian Federation command center. Military operations hub.",status:"Monitoring",escalationScore:4,escalationTrend:"stable",escalationIndicators:["Ukraine war ongoing","Mobilization potential","Nuclear rhetoric","Wagner aftermath"],history:{lastMajorEvent:"Wagner mutiny",lastMajorEventDate:"2023-06-24",precedentCount:2,precedentDescription:"Crimea annexation 2014, Ukraine invasion 2022",cyclicalRisk:"Victory Day (May 9) speeches, Putin addresses"},whyItMatters:"Nuclear power at war; energy leverage over Europe; global order revisionism"},{id:"beijing",name:"Beijing",subtext:"PLA/MSS Activity",lat:39.9,lon:116.4,location:"China",keywords:["beijing","xi","china","pla","ccp","chinese","jinping"],agencies:["PLA","MSS","CCP Politburo"],description:"Chinese Communist Party headquarters. PLA command center.",status:"Monitoring",escalationScore:3,escalationTrend:"stable",escalationIndicators:["Taiwan Strait exercises","South China Sea militarization","Tech decoupling","Xi third term"],history:{lastMajorEvent:"Xi unprecedented third term",lastMajorEventDate:"2022-10-22",precedentCount:3,precedentDescription:"Tiananmen 1989, Hong Kong crackdown 2020, COVID lockdowns 2022",cyclicalRisk:"Party Congress (every 5 years), Tiananmen anniversary (June 4)"},whyItMatters:"Largest economy by PPP; primary US strategic competitor; Taiwan contingency risk"},{id:"kyiv",name:"Kyiv",subtext:"Conflict Zone",lat:50.45,lon:30.5,location:"Ukraine",keywords:["kyiv","ukraine","zelensky","ukrainian","kiev"],agencies:["Ukrainian Armed Forces","SBU"],description:"Active conflict zone. NATO support operations.",status:"Monitoring",escalationScore:5,escalationTrend:"stable",escalationIndicators:["Active combat operations","Western weapons deliveries","Drone warfare escalation","Nuclear plant risks"],history:{lastMajorEvent:"Russian full invasion",lastMajorEventDate:"2022-02-24",precedentCount:2,precedentDescription:"Crimea annexation 2014, Donbas war 2014-2022",cyclicalRisk:"Spring/summer offensive season, Winter energy attacks"},whyItMatters:"Largest European war since WWII; NATO Article 5 test; global food/energy security"},{id:"taipei",name:"Taipei",subtext:"Strait Watch",lat:25.03,lon:121.5,location:"Taiwan",keywords:["taiwan","taipei","tsmc","strait","taiwanese"],agencies:["ROC Military","TSMC"],description:"Taiwan Strait tensions. Semiconductor supply chain.",status:"Monitoring",escalationScore:3,escalationTrend:"stable",escalationIndicators:["PLA exercises around Taiwan","US arms sales","TSMC Arizona fab","DPP governance"],history:{lastMajorEvent:"Pelosi Taiwan visit",lastMajorEventDate:"2022-08-02",precedentCount:3,precedentDescription:"1954-55 Strait Crisis, 1995-96 missile crisis, 2022 exercises",cyclicalRisk:"US-Taiwan political visits, PRC National Day (Oct 1)"},whyItMatters:"TSMC produces 90% of advanced chips; conflict would devastate global tech supply chains"},{id:"tehran",name:"Tehran",subtext:"IRGC Activity",lat:35.7,lon:51.4,location:"Iran",keywords:["iran","tehran","irgc","khamenei","persian","iranian"],agencies:["IRGC","Quds Force","MOIS"],description:"Iranian nuclear program. Regional proxy operations.",status:"Monitoring",escalationScore:4,escalationTrend:"escalating",escalationIndicators:["Near-weapons-grade enrichment","Proxy attacks on Israel","Houthi coordination","Succession uncertainty"],history:{lastMajorEvent:"JCPOA collapse acceleration",lastMajorEventDate:"2023-01-01",precedentCount:4,precedentDescription:"Revolution 1979, Iran-Iraq War, JCPOA negotiations, Soleimani assassination",cyclicalRisk:"Quds Day (annually), Khamenei health status"},whyItMatters:"Near-nuclear threshold state; controls Strait of Hormuz; Axis of Resistance coordinator"},{id:"telaviv",name:"Tel Aviv",subtext:"Mossad/IDF",lat:32.1,lon:34.8,location:"Israel",keywords:["israel","idf","mossad","gaza","netanyahu","israeli","hamas","hezbollah"],agencies:["IDF","Mossad","Shin Bet"],description:"Military operations. Regional security. Intelligence activities.",status:"Monitoring",escalationScore:5,escalationTrend:"stable",escalationIndicators:["Gaza operations ongoing","Hezbollah northern front","Iran shadow war","Judicial crisis paused"],history:{lastMajorEvent:"October 7 attacks",lastMajorEventDate:"2023-10-07",precedentCount:5,precedentDescription:"1948 War, 1967 Six-Day War, 1973 Yom Kippur, Lebanon 2006, Gaza wars",cyclicalRisk:"Jewish holidays, Ramadan tensions, election cycles"},whyItMatters:"Regional escalation risk to multi-front war; US treaty ally; Iran confrontation flashpoint"},{id:"pyongyang",name:"Pyongyang",subtext:"DPRK Watch",lat:39,lon:125.75,location:"North Korea",keywords:["north korea","kim","pyongyang","dprk","korean"],agencies:["KPA","RGB","Lazarus Group"],description:"Nuclear weapons program. Missile testing. Cyber operations.",status:"Monitoring",escalationScore:3,escalationTrend:"stable",escalationIndicators:["ICBM testing resumed","Russia arms cooperation","Satellite launches","Constitution change on ROK"],history:{lastMajorEvent:"Hwasong-18 ICBM test",lastMajorEventDate:"2023-12-18",precedentCount:4,precedentDescription:"Korean War 1950-53, nuclear tests 2006-2017, Trump summits, missile tests ongoing",cyclicalRisk:"Kim Il-sung birthday (April 15), party anniversaries"},whyItMatters:"Nuclear-armed hermit state; ICBM can reach US mainland; cyber threat actor; Russia military supplier"},{id:"london",name:"London",subtext:"GCHQ/MI6",lat:51.5,lon:-.12,location:"United Kingdom",keywords:["london","uk","britain","gchq","mi6","british"],agencies:["MI6","GCHQ","MI5"],description:"UK intelligence headquarters. Five Eyes member.",status:"Monitoring"},{id:"brussels",name:"Brussels",subtext:"NATO HQ",lat:50.85,lon:4.35,location:"Belgium (NATO HQ)",keywords:["nato","brussels","eu","european union","europe"],agencies:["NATO","EU Commission"],description:"NATO alliance headquarters. European Union center.",status:"Monitoring"},{id:"caracas",name:"Caracas",subtext:"Venezuela Crisis",lat:10.5,lon:-66.9,location:"Venezuela",keywords:["venezuela","maduro","caracas","venezuelan"],agencies:["Maduro Govt","SEBIN"],description:"Political crisis. Economic sanctions. Regional instability.",status:"Monitoring"},{id:"nuuk",name:"Nuuk",subtext:"Greenland Intel",lat:64.18,lon:-51.7,location:"Greenland (Denmark)",keywords:["greenland","nuuk","arctic","denmark","danish"],agencies:["Danish Defence","US Space Force","Arctic Council"],description:"Arctic strategic territory. US military presence, sovereignty questions.",status:"Monitoring"},{id:"riyadh",name:"Riyadh",subtext:"Saudi GIP/MBS",lat:24.7,lon:46.7,location:"Saudi Arabia",keywords:["saudi","riyadh","mbs","aramco","opec","saudi arabia"],agencies:["GIP","Saudi Royal Court","Aramco"],description:"Saudi Arabia power center. OPEC+ decisions. Regional influence.",status:"Monitoring"},{id:"cairo",name:"Cairo",subtext:"Egypt/GIS",lat:30,lon:31.2,location:"Egypt",keywords:["egypt","cairo","sisi","egyptian","suez"],agencies:["GIS","Egyptian Armed Forces"],description:"Egyptian command. Gaza border control. Suez Canal security.",status:"Monitoring"},{id:"baghdad",name:"Baghdad",subtext:"Iraq/PMF",lat:33.3,lon:44.4,location:"Iraq",keywords:["iraq","baghdad","iraqi","pmf","militia"],agencies:["Iraqi Security Forces","PMF","US Embassy"],description:"Iraqi government. Iran-backed militias. US military presence.",status:"Monitoring"},{id:"damascus",name:"Damascus",subtext:"Syria Crisis",lat:33.5,lon:36.3,location:"Syria",keywords:["syria","damascus","assad","syrian","hts"],agencies:["Syrian Govt","HTS","Russian Forces","Turkish Forces"],description:"Syrian civil war aftermath. Multiple foreign interventions.",status:"Monitoring"},{id:"doha",name:"Doha",subtext:"Qatar/Al Udeid",lat:25.3,lon:51.5,location:"Qatar",keywords:["qatar","doha","qatari","al jazeera"],agencies:["Qatari State Security","CENTCOM Forward HQ"],description:"Qatar diplomatic hub. US CENTCOM base. Al Jazeera HQ.",status:"Monitoring"},{id:"ankara",name:"Ankara",subtext:"Turkey/MIT",lat:39.9,lon:32.9,location:"Turkey",keywords:["turkey","ankara","erdogan","turkish","mit"],agencies:["MIT","Turkish Armed Forces","AKP"],description:"NATO member. Kurdish conflict. Syria/Libya operations.",status:"Monitoring"},{id:"beirut",name:"Beirut",subtext:"Lebanon/Hezbollah",lat:33.9,lon:35.5,location:"Lebanon",keywords:["lebanon","beirut","hezbollah","lebanese","nasrallah"],agencies:["LAF","Hezbollah","UNIFIL"],description:"Lebanon crisis. Hezbollah stronghold. Israel border tensions.",status:"Monitoring"},{id:"sanaa",name:"Sana'a",subtext:"Yemen/Houthis",lat:15.4,lon:44.2,keywords:["yemen","houthi","sanaa","yemeni","red sea"],agencies:["Houthi Forces","Saudi Coalition","US Navy"],description:"Yemen conflict. Houthi Red Sea attacks. Shipping disruption.",status:"Monitoring",escalationScore:4,escalationTrend:"escalating",escalationIndicators:["Red Sea shipping attacks","US/UK strikes on Yemen","Iran weapon supplies","Commercial ship seizures"],history:{lastMajorEvent:"Red Sea campaign begins",lastMajorEventDate:"2023-11-19",precedentCount:3,precedentDescription:"Civil war since 2014, Saudi intervention 2015, US strikes 2024",cyclicalRisk:"Ramadan, Gaza war linkage"},whyItMatters:"Disrupting 12% of global trade via Suez; insurance costs spiking; Iran proxy demonstration"},{id:"abudhabi",name:"Abu Dhabi",subtext:"UAE/ECSR",lat:24.5,lon:54.4,keywords:["uae","abu dhabi","emirates","emirati","dubai"],agencies:["ECSR","UAE Armed Forces"],description:"UAE strategic hub. Regional military operations.",status:"Monitoring"}],na=[{id:"taiwan_strait",name:"TAIWAN STRAIT",lat:24,lon:119.5,description:"Critical shipping lane, PLA activity"},{id:"malacca_strait",name:"MALACCA STRAIT",lat:2.5,lon:101.5,description:"Major oil shipping route"},{id:"hormuz_strait",name:"STRAIT OF HORMUZ",lat:26.5,lon:56.5,description:"Oil chokepoint, Iran control"},{id:"bosphorus",name:"BOSPHORUS STRAIT",lat:41.1,lon:29,description:"Black Sea access, Turkey control"},{id:"suez",name:"SUEZ CANAL",lat:30.5,lon:32.3,description:"Europe-Asia shipping"},{id:"panama",name:"PANAMA CANAL",lat:9.1,lon:-79.7,description:"Americas shipping route"},{id:"gibraltar",name:"STRAIT OF GIBRALTAR",lat:35.9,lon:-5.6,description:"Mediterranean access, NATO control"},{id:"bab_el_mandeb",name:"BAB EL-MANDEB",lat:12.5,lon:43.3,description:"Red Sea chokepoint, Houthi attacks"},{id:"dardanelles",name:"DARDANELLES",lat:40.2,lon:26.4,description:"Aegean-Marmara link, Turkey control"}],FS=[{id:"apt28",name:"APT28/29",aka:"Fancy Bear/Cozy Bear",sponsor:"Russia (GRU/FSB)",lat:55,lon:40},{id:"apt41",name:"APT41",aka:"Double Dragon",sponsor:"China (MSS)",lat:38,lon:118},{id:"lazarus",name:"Lazarus",aka:"Hidden Cobra",sponsor:"North Korea (RGB)",lat:38.5,lon:127},{id:"apt33",name:"APT33/35",aka:"Elfin/Charming Kitten",sponsor:"Iran (IRGC)",lat:34,lon:53}],mn=[{id:"ukraine",name:"Ukraine Conflict",coords:[[30,52],[40,52],[40,44],[30,44]],center:[35,48],intensity:"high",parties:["Russia","Ukraine","NATO (support)"],casualties:"500,000+ (est.)",displaced:"6.5M+ refugees",keywords:["ukraine","russia","zelensky","putin","donbas","crimea"],startDate:"Feb 24, 2022",location:"Eastern Ukraine (Donetsk, Luhansk)",description:"Full-scale Russian invasion of Ukraine. Active frontlines in Donetsk, Luhansk, Zaporizhzhia, and Kherson oblasts. Heavy artillery, drone warfare, and trench combat.",keyDevelopments:["Battle of Bakhmut","Kursk incursion","Black Sea drone strikes","Infrastructure attacks"]},{id:"gaza",name:"Gaza Conflict",coords:[[34,32],[35,32],[35,31],[34,31]],center:[34.5,31.5],intensity:"high",parties:["Israel","Hamas","Hezbollah","PIJ"],casualties:"40,000+ (Gaza)",displaced:"2M+ displaced",keywords:["gaza","israel","hamas","palestinian"],startDate:"Oct 7, 2023",location:"Gaza Strip, Palestinian Territories",description:"Israeli military operations in Gaza following October 7 attacks. Ground invasion, aerial bombardment. Humanitarian crisis. Regional escalation with Hezbollah.",keyDevelopments:["Rafah ground operation","Humanitarian crisis","Hostage negotiations","Iran-backed attacks"]},{id:"sudan",name:"Sudan Civil War",coords:[[30,17],[34,17],[34,13],[30,13]],center:[32,15],intensity:"high",parties:["Sudanese Armed Forces (SAF)","Rapid Support Forces (RSF)"],casualties:"15,000+ killed",displaced:"10M+ displaced",keywords:["sudan","khartoum","darfur"],startDate:"Apr 15, 2023",location:"Khartoum & Darfur, Sudan",description:"Power struggle between SAF and RSF paramilitary. Fighting centered around Khartoum, Darfur. Major humanitarian catastrophe with famine conditions.",keyDevelopments:["Khartoum battle","Darfur massacres","El Fasher siege","Famine declared"]},{id:"myanmar",name:"Myanmar Civil War",coords:[[95,22],[98,22],[98,18],[95,18]],center:[96.5,20],intensity:"medium",parties:["Military junta","NUG","Ethnic armed groups"],casualties:"50,000+ (est.)",displaced:"2.6M+ displaced",keywords:["myanmar","burma","rohingya"],startDate:"Feb 1, 2021",location:"Myanmar (Burma)",description:"Civil war following military coup. Resistance forces gaining ground. Multiple ethnic armed organizations. Humanitarian crisis.",keyDevelopments:["Operation 1027","Junta airstrikes","Border clashes","Resistance advances"]},{id:"yemen_redsea",name:"Red Sea Crisis",coords:[[42,12],[42,16],[44,16],[45,13],[44,12]],center:[43,14],intensity:"high",parties:["Houthis","US/UK Coalition","Yemen Govt"],casualties:"Unknown (Maritime)",displaced:"4.5M+ (Yemen Civil War)",keywords:["houthi","red sea","yemen","missile","drone","ship"],startDate:"Nov 19, 2023",location:"Red Sea & Gulf of Aden, Yemen",description:"Houthi maritime campaign against commercial shipping. US/UK airstrikes on Houthi targets. Ongoing blockade attempts.",keyDevelopments:["Ship hijackings","US airstrikes","Cable cuts","Sinking of Rubymar"]},{id:"south_lebanon",name:"Israel-Lebanon Border",coords:[[35.1,33],[35.1,33.4],[35.8,33.4],[35.8,33]],center:[35.4,33.2],intensity:"high",parties:["Israel (IDF)","Hezbollah"],casualties:"500+ killed",displaced:"150k+ displaced",keywords:["hezbollah","lebanon","israel","border","rocket","airstrike"],startDate:"Oct 8, 2023",location:"Southern Lebanon / Northern Israel",description:"Cross-border artillery and rocket fire. Targeted assassinations. High risk of full-scale escalation.",keyDevelopments:["Daily rocket fire","IDF airstrikes","Buffer zone evacuation","Litani River tensions"]}],Co=[{id:"norfolk",name:"Norfolk Naval",lat:36.95,lon:-76.31,type:"us-nato",description:"World largest naval base. Atlantic Fleet HQ."},{id:"fort_liberty",name:"Fort Liberty",lat:35.14,lon:-79,type:"us-nato",description:"Army Special Ops. XVIII Airborne Corps."},{id:"pendleton",name:"Camp Pendleton",lat:33.38,lon:-117.4,type:"us-nato",description:"USMC West Coast. 1st Marine Division."},{id:"san_diego",name:"Naval San Diego",lat:32.68,lon:-117.13,type:"us-nato",description:"Pacific Fleet. Carrier homeport."},{id:"nellis",name:"Nellis AFB",lat:36.24,lon:-115.03,type:"us-nato",description:"Air combat training. Red Flag exercises."},{id:"langley",name:"Langley AFB",lat:37.08,lon:-76.36,type:"us-nato",description:"Air Combat Command HQ. F-22 wing."},{id:"cheyenne",name:"Cheyenne Mtn",lat:38.74,lon:-104.85,type:"us-nato",description:"NORAD. Missile warning, space control."},{id:"peterson",name:"Peterson SFB",lat:38.82,lon:-104.71,type:"us-nato",description:"US Space Command HQ. Space operations."},{id:"kings_bay",name:"Kings Bay",lat:30.8,lon:-81.52,type:"us-nato",description:"Ohio-class submarine base. Atlantic deterrent."},{id:"kitsap",name:"Naval Kitsap",lat:47.56,lon:-122.66,type:"us-nato",description:"Trident submarine base. Pacific deterrent."},{id:"yokosuka",name:"Yokosuka",lat:35.28,lon:139.67,type:"us-nato",description:"US 7th Fleet HQ. Carrier strike group homeport."},{id:"rota",name:"Naval Rota",lat:36.62,lon:-6.35,type:"us-nato",description:"US/Spanish naval base. Aegis destroyers, Atlantic access."},{id:"incirlik",name:"Incirlik AB",lat:37,lon:35.43,type:"us-nato",description:"US/Turkish base. Nuclear weapons storage site."},{id:"kaliningrad",name:"Kaliningrad",lat:54.71,lon:20.51,type:"russia",description:"Russian exclave. Baltic Fleet, Iskander missiles."},{id:"sevastopol",name:"Sevastopol",lat:44.6,lon:33.5,type:"russia",description:"Black Sea Fleet HQ. Crimea (occupied)."},{id:"vladivostok",name:"Vladivostok",lat:43.12,lon:131.9,type:"russia",description:"Pacific Fleet HQ. Nuclear submarines."},{id:"murmansk",name:"Murmansk",lat:68.97,lon:33.09,type:"russia",description:"Northern Fleet. Strategic nuclear submarines."}];function ko(){const t=[...Pa],a=new Set;for(const e of Pa){const n=`${Math.round(e.lat*10)}_${Math.round(e.lon*10)}`;a.add(n)}for(const e of Co){const n=`${Math.round(e.lat*10)}_${Math.round(e.lon*10)}`;a.has(n)||(t.push(e),a.add(n))}return t}const Io=ko(),ye=[{id:"marea",name:"MAREA",points:[[-73,39],[-30,42],[-9,37]],major:!0,capacityTbps:200,rfsYear:2017,owners:["Microsoft","Meta","Telxius"],landingPoints:[{country:"US",countryName:"United States",city:"Virginia Beach",lat:36.85,lon:-75.98},{country:"ES",countryName:"Spain",city:"Bilbao",lat:43.26,lon:-2.93}],countriesServed:[{country:"US",capacityShare:.05,isRedundant:!0},{country:"ES",capacityShare:.15,isRedundant:!0},{country:"GB",capacityShare:.08,isRedundant:!0},{country:"FR",capacityShare:.06,isRedundant:!0}]},{id:"grace_hopper",name:"Grace Hopper",points:[[-74,40],[-30,44],[-6,53],[-9,37]],major:!0,capacityTbps:340,rfsYear:2022,owners:["Google"],landingPoints:[{country:"US",countryName:"United States",city:"New York",lat:40.57,lon:-73.97},{country:"GB",countryName:"United Kingdom",city:"Bude",lat:50.83,lon:-4.55},{country:"ES",countryName:"Spain",city:"Bilbao",lat:43.26,lon:-2.93}],countriesServed:[{country:"US",capacityShare:.04,isRedundant:!0},{country:"GB",capacityShare:.12,isRedundant:!0},{country:"ES",capacityShare:.1,isRedundant:!0}]},{id:"havfrue",name:"Havfrue",points:[[-74,40.5],[-30,55],[5,58],[12,56]],major:!0,capacityTbps:108,rfsYear:2020,owners:["Google","Facebook","Aqua Comms"],landingPoints:[{country:"US",countryName:"United States",city:"New Jersey",lat:40.22,lon:-74.01},{country:"NO",countryName:"Norway",city:"Kristiansand",lat:58.15,lon:8},{country:"DK",countryName:"Denmark",city:"Blaabjerg",lat:55.56,lon:8.13}],countriesServed:[{country:"US",capacityShare:.02,isRedundant:!0},{country:"NO",capacityShare:.25,isRedundant:!0},{country:"DK",capacityShare:.2,isRedundant:!0}]},{id:"faster",name:"FASTER",points:[[-122,37],[-155,22],[139,35]],major:!0,capacityTbps:60,rfsYear:2016,owners:["Google","China Mobile","China Telecom","KDDI","SingTel"],landingPoints:[{country:"US",countryName:"United States",city:"Oregon",lat:43.37,lon:-124.22},{country:"JP",countryName:"Japan",city:"Chikura",lat:34.95,lon:139.95},{country:"JP",countryName:"Japan",city:"Shima",lat:34.32,lon:136.85}],countriesServed:[{country:"US",capacityShare:.03,isRedundant:!0},{country:"JP",capacityShare:.15,isRedundant:!0}]},{id:"southern_cross",name:"Southern Cross",points:[[151,-34],[-175,-40],[-122,34]],major:!0,capacityTbps:72,rfsYear:2e3,owners:["Southern Cross Cables"],landingPoints:[{country:"AU",countryName:"Australia",city:"Sydney",lat:-33.87,lon:151.21},{country:"NZ",countryName:"New Zealand",city:"Auckland",lat:-36.85,lon:174.76},{country:"US",countryName:"United States",city:"Los Angeles",lat:33.74,lon:-118.27}],countriesServed:[{country:"AU",capacityShare:.2,isRedundant:!0},{country:"NZ",capacityShare:.35,isRedundant:!1},{country:"FJ",capacityShare:.15,isRedundant:!1}]},{id:"curie",name:"Curie",points:[[-122.4,37.8],[-90,10],[-77,-12]],major:!0,capacityTbps:72,rfsYear:2019,owners:["Google"],landingPoints:[{country:"US",countryName:"United States",city:"Los Angeles",lat:33.74,lon:-118.27},{country:"CL",countryName:"Chile",city:"Valparaiso",lat:-33.05,lon:-71.62}],countriesServed:[{country:"US",capacityShare:.01,isRedundant:!0},{country:"CL",capacityShare:.25,isRedundant:!0},{country:"PA",capacityShare:.1,isRedundant:!0}]},{id:"seamewe6",name:"SEA-ME-WE 6",points:[[103.8,1.3],[80,6],[55,24],[43,12],[32.5,30],[12.5,42],[-9,38]],major:!0,capacityTbps:100,rfsYear:2025,owners:["Consortium"],landingPoints:[{country:"SG",countryName:"Singapore",city:"Singapore",lat:1.35,lon:103.82},{country:"IN",countryName:"India",city:"Mumbai",lat:19.08,lon:72.88},{country:"AE",countryName:"UAE",city:"Fujairah",lat:25.13,lon:56.34},{country:"SA",countryName:"Saudi Arabia",city:"Jeddah",lat:21.49,lon:39.19},{country:"EG",countryName:"Egypt",city:"Suez",lat:29.97,lon:32.55},{country:"FR",countryName:"France",city:"Marseille",lat:43.3,lon:5.37}],countriesServed:[{country:"SG",capacityShare:.1,isRedundant:!0},{country:"IN",capacityShare:.15,isRedundant:!0},{country:"AE",capacityShare:.12,isRedundant:!0},{country:"SA",capacityShare:.08,isRedundant:!0},{country:"EG",capacityShare:.1,isRedundant:!0}]},{id:"flag",name:"FLAG Europe-Asia",points:[[0,51],[-6,36],[32.5,30],[55,24],[73,15],[103.8,1.3],[139.7,35.7]],major:!0,capacityTbps:10,rfsYear:1997,owners:["Global Cloud Xchange"],landingPoints:[{country:"GB",countryName:"United Kingdom",city:"Porthcurno",lat:50.04,lon:-5.66},{country:"EG",countryName:"Egypt",city:"Alexandria",lat:31.2,lon:29.92},{country:"AE",countryName:"UAE",city:"Dubai",lat:25.2,lon:55.27},{country:"IN",countryName:"India",city:"Mumbai",lat:19.08,lon:72.88},{country:"SG",countryName:"Singapore",city:"Singapore",lat:1.35,lon:103.82},{country:"JP",countryName:"Japan",city:"Tokyo",lat:35.69,lon:139.69}],countriesServed:[{country:"IN",capacityShare:.23,isRedundant:!1},{country:"AE",capacityShare:.18,isRedundant:!0},{country:"SA",capacityShare:.12,isRedundant:!0},{country:"EG",capacityShare:.09,isRedundant:!0},{country:"PK",capacityShare:.07,isRedundant:!1}]},{id:"2africa",name:"2Africa",points:[[0,51],[-9,38],[-17,15],[4,6],[18,-34],[55,-20],[55,24],[32.5,30]],major:!0,capacityTbps:180,rfsYear:2024,owners:["Meta","MTN","Vodafone","Orange"],landingPoints:[{country:"GB",countryName:"United Kingdom",city:"Bude",lat:50.83,lon:-4.55},{country:"PT",countryName:"Portugal",city:"Lisbon",lat:38.72,lon:-9.14},{country:"SN",countryName:"Senegal",city:"Dakar",lat:14.69,lon:-17.44},{country:"NG",countryName:"Nigeria",city:"Lagos",lat:6.52,lon:3.38},{country:"ZA",countryName:"South Africa",city:"Cape Town",lat:-33.93,lon:18.42},{country:"KE",countryName:"Kenya",city:"Mombasa",lat:-4.04,lon:39.67},{country:"SA",countryName:"Saudi Arabia",city:"Jeddah",lat:21.49,lon:39.19},{country:"EG",countryName:"Egypt",city:"Port Said",lat:31.26,lon:32.3}],countriesServed:[{country:"NG",capacityShare:.3,isRedundant:!0},{country:"ZA",capacityShare:.2,isRedundant:!0},{country:"KE",capacityShare:.25,isRedundant:!0},{country:"SN",capacityShare:.35,isRedundant:!1},{country:"EG",capacityShare:.08,isRedundant:!0}]},{id:"wacs",name:"WACS",points:[[18,-34],[12,-6],[4,6],[-17,15],[-6,36],[0,51]],major:!0,capacityTbps:14.5,rfsYear:2012,owners:["MTN","Vodacom","Togo Telecom"],landingPoints:[{country:"ZA",countryName:"South Africa",city:"Cape Town",lat:-33.93,lon:18.42},{country:"NG",countryName:"Nigeria",city:"Lagos",lat:6.52,lon:3.38},{country:"GB",countryName:"United Kingdom",city:"London",lat:51.51,lon:-.13},{country:"PT",countryName:"Portugal",city:"Lisbon",lat:38.72,lon:-9.14}],countriesServed:[{country:"ZA",capacityShare:.15,isRedundant:!0},{country:"NG",capacityShare:.2,isRedundant:!0},{country:"GH",capacityShare:.3,isRedundant:!1},{country:"CI",capacityShare:.35,isRedundant:!1}]},{id:"eassy",name:"EASSy",points:[[18,-34],[32,-26],[40,-15],[44,-12],[50,-20],[55,24]],major:!0,capacityTbps:10,rfsYear:2010,owners:["Consortium of 16 telecom companies"],landingPoints:[{country:"ZA",countryName:"South Africa",city:"Mtunzini",lat:-28.95,lon:31.75},{country:"MZ",countryName:"Mozambique",city:"Maputo",lat:-25.97,lon:32.58},{country:"TZ",countryName:"Tanzania",city:"Dar es Salaam",lat:-6.79,lon:39.28},{country:"KE",countryName:"Kenya",city:"Mombasa",lat:-4.04,lon:39.67},{country:"DJ",countryName:"Djibouti",city:"Djibouti",lat:11.59,lon:43.15}],countriesServed:[{country:"KE",capacityShare:.2,isRedundant:!0},{country:"TZ",capacityShare:.3,isRedundant:!1},{country:"MZ",capacityShare:.25,isRedundant:!1},{country:"MG",capacityShare:.4,isRedundant:!1}]},{id:"sam1",name:"SAm-1",points:[[-43,-23],[-55,-35],[-70,-33],[-77,-12]],major:!0,capacityTbps:2,rfsYear:2001,owners:["Telxius"],landingPoints:[{country:"BR",countryName:"Brazil",city:"Rio de Janeiro",lat:-22.91,lon:-43.17},{country:"AR",countryName:"Argentina",city:"Buenos Aires",lat:-34.6,lon:-58.38},{country:"CL",countryName:"Chile",city:"Valparaiso",lat:-33.05,lon:-71.62},{country:"PE",countryName:"Peru",city:"Lima",lat:-12.05,lon:-77.04}],countriesServed:[{country:"BR",capacityShare:.05,isRedundant:!0},{country:"AR",capacityShare:.15,isRedundant:!0},{country:"CL",capacityShare:.1,isRedundant:!0},{country:"PE",capacityShare:.12,isRedundant:!0}]},{id:"ellalink",name:"EllaLink",points:[[-9,38],[-25,20],[-35,-5]],major:!0,capacityTbps:72,rfsYear:2021,owners:["EllaLink"],landingPoints:[{country:"PT",countryName:"Portugal",city:"Sines",lat:37.95,lon:-8.87},{country:"BR",countryName:"Brazil",city:"Fortaleza",lat:-3.73,lon:-38.53}],countriesServed:[{country:"BR",capacityShare:.08,isRedundant:!0},{country:"PT",capacityShare:.15,isRedundant:!0}]},{id:"apg",name:"APG",points:[[139.7,35.7],[121.5,25],[114,22.3],[103.8,1.3]],major:!0,capacityTbps:54,rfsYear:2016,owners:["NTT","China Telecom","PLDT","Viettel"],landingPoints:[{country:"JP",countryName:"Japan",city:"Tokyo",lat:35.69,lon:139.69},{country:"TW",countryName:"Taiwan",city:"Taipei",lat:25.03,lon:121.57},{country:"HK",countryName:"Hong Kong",city:"Hong Kong",lat:22.32,lon:114.17},{country:"SG",countryName:"Singapore",city:"Singapore",lat:1.35,lon:103.82},{country:"VN",countryName:"Vietnam",city:"Da Nang",lat:16.05,lon:108.22}],countriesServed:[{country:"JP",capacityShare:.08,isRedundant:!0},{country:"TW",capacityShare:.15,isRedundant:!0},{country:"VN",capacityShare:.25,isRedundant:!0},{country:"TH",capacityShare:.1,isRedundant:!0}]},{id:"indigo",name:"Indigo",points:[[103.8,1.3],[115,-8],[151,-34]],major:!0,capacityTbps:36,rfsYear:2019,owners:["Google","AARNet","Indosat","Singtel","SubPartners"],landingPoints:[{country:"SG",countryName:"Singapore",city:"Singapore",lat:1.35,lon:103.82},{country:"ID",countryName:"Indonesia",city:"Jakarta",lat:-6.21,lon:106.85},{country:"AU",countryName:"Australia",city:"Sydney",lat:-33.87,lon:151.21}],countriesServed:[{country:"AU",capacityShare:.12,isRedundant:!0},{country:"ID",capacityShare:.15,isRedundant:!0},{country:"SG",capacityShare:.05,isRedundant:!0}]},{id:"sjc",name:"SJC",points:[[103.8,1.3],[114,22.3],[139.7,35.7],[-122,34]],major:!0,capacityTbps:28,rfsYear:2013,owners:["China Mobile","China Telecom","Google","KDDI"],landingPoints:[{country:"SG",countryName:"Singapore",city:"Singapore",lat:1.35,lon:103.82},{country:"HK",countryName:"Hong Kong",city:"Hong Kong",lat:22.32,lon:114.17},{country:"JP",countryName:"Japan",city:"Chikura",lat:34.95,lon:139.95},{country:"US",countryName:"United States",city:"Los Angeles",lat:33.74,lon:-118.27}],countriesServed:[{country:"US",capacityShare:.02,isRedundant:!0},{country:"JP",capacityShare:.1,isRedundant:!0},{country:"CN",capacityShare:.05,isRedundant:!0},{country:"SG",capacityShare:.08,isRedundant:!0}]},{id:"farice",name:"FARICE",points:[[-22,64],[-7,62],[-6,53]],major:!0,capacityTbps:5,rfsYear:2004,owners:["Farice ehf"],landingPoints:[{country:"IS",countryName:"Iceland",city:"Reykjavik",lat:64.13,lon:-21.9},{country:"FO",countryName:"Faroe Islands",city:"Torshavn",lat:62.01,lon:-6.77},{country:"GB",countryName:"United Kingdom",city:"Edinburgh",lat:55.95,lon:-3.19}],countriesServed:[{country:"IS",capacityShare:.6,isRedundant:!1},{country:"FO",capacityShare:.7,isRedundant:!1}]},{id:"falcon",name:"Falcon",points:[[55,24],[56,25],[51.5,26],[48,29]],major:!0,capacityTbps:5,rfsYear:2006,owners:["GBI"],landingPoints:[{country:"AE",countryName:"UAE",city:"Fujairah",lat:25.13,lon:56.34},{country:"OM",countryName:"Oman",city:"Muscat",lat:23.59,lon:58.38},{country:"BH",countryName:"Bahrain",city:"Manama",lat:26.23,lon:50.59},{country:"KW",countryName:"Kuwait",city:"Kuwait City",lat:29.38,lon:47.98}],countriesServed:[{country:"AE",capacityShare:.08,isRedundant:!0},{country:"OM",capacityShare:.15,isRedundant:!0},{country:"BH",capacityShare:.2,isRedundant:!0},{country:"KW",capacityShare:.15,isRedundant:!0}]}],To=[{id:"los_alamos",name:"Los Alamos",lat:35.88,lon:-106.31,type:"weapons",status:"active"},{id:"sandia",name:"Sandia Labs",lat:35.04,lon:-106.54,type:"weapons",status:"active"},{id:"livermore",name:"LLNL",lat:37.69,lon:-121.7,type:"weapons",status:"active"},{id:"oak_ridge",name:"Oak Ridge",lat:35.93,lon:-84.31,type:"enrichment",status:"active"},{id:"hanford",name:"Hanford",lat:46.55,lon:-119.49,type:"weapons",status:"inactive"},{id:"pantex",name:"Pantex",lat:35.32,lon:-101.55,type:"weapons",status:"active"},{id:"palo_verde",name:"Palo Verde",lat:33.39,lon:-112.86,type:"plant",status:"active"},{id:"south_texas",name:"South Texas",lat:28.795,lon:-96.048,type:"plant",status:"active"},{id:"comanche_peak",name:"Comanche Peak",lat:32.3,lon:-97.79,type:"plant",status:"active"},{id:"vogtle",name:"Vogtle",lat:33.14,lon:-81.76,type:"plant",status:"active"},{id:"mcguire",name:"McGuire",lat:35.43,lon:-80.95,type:"plant",status:"active"},{id:"oconee",name:"Oconee",lat:34.79,lon:-82.9,type:"plant",status:"active"},{id:"catawba",name:"Catawba",lat:35.05,lon:-81.07,type:"plant",status:"active"},{id:"brunswick",name:"Brunswick",lat:33.96,lon:-78.01,type:"plant",status:"active"},{id:"calvert_cliffs",name:"Calvert Cliffs",lat:38.43,lon:-76.44,type:"plant",status:"active"},{id:"salem",name:"Salem",lat:39.46,lon:-75.54,type:"plant",status:"active"},{id:"limerick",name:"Limerick",lat:40.22,lon:-75.59,type:"plant",status:"active"},{id:"peach_bottom",name:"Peach Bottom",lat:39.76,lon:-76.27,type:"plant",status:"active"},{id:"indian_point",name:"Indian Point",lat:41.27,lon:-73.95,type:"plant",status:"inactive"},{id:"millstone",name:"Millstone",lat:41.31,lon:-72.17,type:"plant",status:"active"},{id:"seabrook",name:"Seabrook",lat:42.9,lon:-70.85,type:"plant",status:"active"},{id:"byron",name:"Byron",lat:42.08,lon:-89.28,type:"plant",status:"active"},{id:"braidwood",name:"Braidwood",lat:41.24,lon:-88.21,type:"plant",status:"active"},{id:"lasalle",name:"LaSalle",lat:41.24,lon:-88.67,type:"plant",status:"active"},{id:"dresden",name:"Dresden",lat:41.39,lon:-88.27,type:"plant",status:"active"},{id:"quad_cities",name:"Quad Cities",lat:41.73,lon:-90.34,type:"plant",status:"active"},{id:"palisades",name:"Palisades",lat:42.32,lon:-86.32,type:"plant",status:"active"},{id:"dc_cook",name:"D.C. Cook",lat:41.98,lon:-86.56,type:"plant",status:"active"},{id:"davis_besse",name:"Davis-Besse",lat:41.6,lon:-83.09,type:"plant",status:"active"},{id:"beaver_valley",name:"Beaver Valley",lat:40.62,lon:-80.43,type:"plant",status:"active"},{id:"diablo_canyon",name:"Diablo Canyon",lat:35.21,lon:-120.85,type:"plant",status:"active"},{id:"columbia_gen",name:"Columbia Generating",lat:46.47,lon:-119.33,type:"plant",status:"active"},{id:"gravelines",name:"Gravelines",lat:51.01,lon:2.14,type:"plant",status:"active"},{id:"paluel",name:"Paluel",lat:49.86,lon:.63,type:"plant",status:"active"},{id:"cattenom",name:"Cattenom",lat:49.42,lon:6.22,type:"plant",status:"active"},{id:"bugey",name:"Bugey",lat:45.8,lon:5.27,type:"plant",status:"active"},{id:"tricastin",name:"Tricastin",lat:44.33,lon:4.73,type:"plant",status:"active"},{id:"cruas",name:"Cruas",lat:44.63,lon:4.76,type:"plant",status:"active"},{id:"blayais",name:"Blayais",lat:45.26,lon:-.69,type:"plant",status:"active"},{id:"golfech",name:"Golfech",lat:44.11,lon:.85,type:"plant",status:"active"},{id:"flamanville",name:"Flamanville",lat:49.54,lon:-1.88,type:"plant",status:"active"},{id:"la_hague",name:"La Hague",lat:49.68,lon:-1.88,type:"enrichment",status:"active"},{id:"hinkley_point",name:"Hinkley Point",lat:51.21,lon:-3.13,type:"plant",status:"active"},{id:"sizewell",name:"Sizewell",lat:52.21,lon:1.62,type:"plant",status:"active"},{id:"heysham",name:"Heysham",lat:54.03,lon:-2.92,type:"plant",status:"active"},{id:"torness",name:"Torness",lat:55.97,lon:-2.41,type:"plant",status:"active"},{id:"sellafield",name:"Sellafield",lat:54.42,lon:-3.5,type:"enrichment",status:"active"},{id:"neckarwestheim",name:"Neckarwestheim",lat:49.04,lon:9.18,type:"plant",status:"inactive"},{id:"isar",name:"Isar",lat:48.61,lon:12.29,type:"plant",status:"inactive"},{id:"emsland",name:"Emsland",lat:52.47,lon:7.32,type:"plant",status:"inactive"},{id:"kursk",name:"Kursk NPP",lat:51.67,lon:35.61,type:"plant",status:"active"},{id:"novovoronezh",name:"Novovoronezh",lat:51.27,lon:39.22,type:"plant",status:"active"},{id:"leningrad",name:"Leningrad NPP",lat:59.83,lon:29.03,type:"plant",status:"active"},{id:"kalinin",name:"Kalinin NPP",lat:57.79,lon:35.06,type:"plant",status:"active"},{id:"balakovo",name:"Balakovo",lat:52.09,lon:47.95,type:"plant",status:"active"},{id:"rostov",name:"Rostov NPP",lat:47.25,lon:42.1,type:"plant",status:"active"},{id:"kola",name:"Kola NPP",lat:67.46,lon:32.47,type:"plant",status:"active"},{id:"mayak",name:"Mayak",lat:55.71,lon:60.8,type:"enrichment",status:"active"},{id:"zaporizhzhia",name:"Zaporizhzhia NPP",lat:47.51,lon:34.58,type:"plant",status:"contested"},{id:"rivne",name:"Rivne NPP",lat:51.33,lon:25.88,type:"plant",status:"active"},{id:"south_ukraine",name:"South Ukraine NPP",lat:47.81,lon:31.22,type:"plant",status:"active"},{id:"khmelnytskyi",name:"Khmelnytskyi NPP",lat:50.3,lon:26.65,type:"plant",status:"active"},{id:"chernobyl",name:"Chernobyl",lat:51.39,lon:30.1,type:"plant",status:"inactive"},{id:"daya_bay",name:"Daya Bay",lat:22.6,lon:114.54,type:"plant",status:"active"},{id:"taishan",name:"Taishan",lat:21.91,lon:112.98,type:"plant",status:"active"},{id:"yangjiang",name:"Yangjiang",lat:21.71,lon:112.26,type:"plant",status:"active"},{id:"hongyanhe",name:"Hongyanhe",lat:39.79,lon:121.48,type:"plant",status:"active"},{id:"tianwan",name:"Tianwan",lat:34.69,lon:119.46,type:"plant",status:"active"},{id:"fuqing",name:"Fuqing",lat:25.44,lon:119.44,type:"plant",status:"active"},{id:"fangjiashan",name:"Fangjiashan",lat:30.44,lon:120.96,type:"plant",status:"active"},{id:"sanmen",name:"Sanmen",lat:29.1,lon:121.41,type:"plant",status:"active"},{id:"fukushima_daini",name:"Fukushima Daini",lat:37.32,lon:141.03,type:"plant",status:"inactive"},{id:"kashiwazaki",name:"Kashiwazaki-Kariwa",lat:37.43,lon:138.6,type:"plant",status:"inactive"},{id:"hamaoka",name:"Hamaoka",lat:34.62,lon:138.14,type:"plant",status:"inactive"},{id:"takahama",name:"Takahama",lat:35.52,lon:135.51,type:"plant",status:"active"},{id:"ohi",name:"Ohi",lat:35.54,lon:135.66,type:"plant",status:"active"},{id:"sendai",name:"Sendai",lat:31.83,lon:130.19,type:"plant",status:"active"},{id:"ikata",name:"Ikata",lat:33.49,lon:132.31,type:"plant",status:"active"},{id:"rokkasho",name:"Rokkasho",lat:40.96,lon:141.33,type:"enrichment",status:"active"},{id:"kori",name:"Kori",lat:35.32,lon:129.29,type:"plant",status:"active"},{id:"hanbit",name:"Hanbit",lat:35.41,lon:126.42,type:"plant",status:"active"},{id:"hanul",name:"Hanul",lat:37.09,lon:129.38,type:"plant",status:"active"},{id:"wolsong",name:"Wolsong",lat:35.71,lon:129.47,type:"plant",status:"active"},{id:"tarapur",name:"Tarapur",lat:19.83,lon:72.65,type:"plant",status:"active"},{id:"kudankulam",name:"Kudankulam",lat:8.17,lon:77.71,type:"plant",status:"active"},{id:"kakrapar",name:"Kakrapar",lat:21.24,lon:73.35,type:"plant",status:"active"},{id:"rawatbhata",name:"Rawatbhata",lat:24.88,lon:75.59,type:"plant",status:"active"},{id:"bruce",name:"Bruce",lat:44.33,lon:-81.6,type:"plant",status:"active"},{id:"darlington",name:"Darlington",lat:43.87,lon:-78.72,type:"plant",status:"active"},{id:"pickering",name:"Pickering",lat:43.81,lon:-79.07,type:"plant",status:"active"},{id:"paks",name:"Paks",lat:46.57,lon:18.86,type:"plant",status:"active"},{id:"temelin",name:"Temelín",lat:49.18,lon:14.38,type:"plant",status:"active"},{id:"dukovany",name:"Dukovany",lat:49.09,lon:16.15,type:"plant",status:"active"},{id:"mochovce",name:"Mochovce",lat:48.28,lon:18.44,type:"plant",status:"active"},{id:"kozloduy",name:"Kozloduy",lat:43.75,lon:23.63,type:"plant",status:"active"},{id:"cernavoda",name:"Cernavoda",lat:44.32,lon:28.05,type:"plant",status:"active"},{id:"ringhals",name:"Ringhals",lat:57.26,lon:12.11,type:"plant",status:"active"},{id:"forsmark",name:"Forsmark",lat:60.41,lon:18.17,type:"plant",status:"active"},{id:"oskarshamn",name:"Oskarshamn",lat:57.42,lon:16.67,type:"plant",status:"active"},{id:"olkiluoto",name:"Olkiluoto",lat:61.24,lon:21.44,type:"plant",status:"active"},{id:"loviisa",name:"Loviisa",lat:60.37,lon:26.35,type:"plant",status:"active"},{id:"borssele",name:"Borssele",lat:51.43,lon:3.72,type:"plant",status:"active"},{id:"doel",name:"Doel",lat:51.33,lon:4.26,type:"plant",status:"active"},{id:"tihange",name:"Tihange",lat:50.53,lon:5.27,type:"plant",status:"active"},{id:"almaraz",name:"Almaraz",lat:39.81,lon:-5.7,type:"plant",status:"active"},{id:"cofrentes",name:"Cofrentes",lat:39.21,lon:-1.05,type:"plant",status:"active"},{id:"asco",name:"Ascó",lat:41.2,lon:.57,type:"plant",status:"active"},{id:"vandellos",name:"Vandellòs",lat:40.95,lon:.87,type:"plant",status:"active"},{id:"trillo",name:"Trillo",lat:40.7,lon:-2.62,type:"plant",status:"active"},{id:"krsko",name:"Krško",lat:45.94,lon:15.52,type:"plant",status:"active"},{id:"koeberg",name:"Koeberg",lat:-33.6767,lon:18.4347,type:"plant",status:"active"},{id:"atucha",name:"Atucha",lat:-33.97,lon:-59.21,type:"plant",status:"active"},{id:"embalse",name:"Embalse",lat:-32.23,lon:-64.47,type:"plant",status:"active"},{id:"angra",name:"Angra",lat:-23.01,lon:-44.46,type:"plant",status:"active"},{id:"laguna_verde",name:"Laguna Verde",lat:19.719,lon:-96.406,type:"plant",status:"active"},{id:"barakah",name:"Barakah",lat:23.95,lon:52.19,type:"plant",status:"active"},{id:"bushehr",name:"Bushehr",lat:28.83,lon:50.89,type:"plant",status:"active"},{id:"natanz",name:"Natanz",lat:33.72,lon:51.73,type:"enrichment",status:"active"},{id:"fordow",name:"Fordow",lat:34.88,lon:51,type:"enrichment",status:"active"},{id:"yongbyon",name:"Yongbyon",lat:39.8,lon:125.75,type:"weapons",status:"active"},{id:"dimona",name:"Dimona",lat:31,lon:35.15,type:"weapons",status:"active"},{id:"pakistan_kahuta",name:"Kahuta",lat:33.59,lon:73.4,type:"enrichment",status:"active"},{id:"pakistan_khushab",name:"Khushab",lat:32.02,lon:72.22,type:"weapons",status:"active"}],_S={408:"severe",728:"severe",760:"severe",364:"high",643:"high",112:"high",862:"moderate",104:"moderate",178:"moderate"},BS={world:"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json",us:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json"},xS=[{id:"nyse",name:"NYSE",type:"exchange",lat:40.7069,lon:-74.0089,country:"USA",marketHours:{open:"09:30",close:"16:00",timezone:"America/New_York"},description:"New York Stock Exchange - World's largest stock exchange"},{id:"nasdaq",name:"NASDAQ",type:"exchange",lat:40.7569,lon:-73.9896,country:"USA",marketHours:{open:"09:30",close:"16:00",timezone:"America/New_York"},description:"Tech-heavy exchange"},{id:"fed",name:"Federal Reserve",type:"central-bank",lat:38.8927,lon:-77.0459,country:"USA",description:"US Central Bank - Controls USD monetary policy"},{id:"cme",name:"CME Group",type:"exchange",lat:41.8819,lon:-87.6278,country:"USA",description:"Chicago Mercantile Exchange - Futures & derivatives"},{id:"tsx",name:"TSX",type:"exchange",lat:43.6489,lon:-79.385,country:"Canada",marketHours:{open:"09:30",close:"16:00",timezone:"America/Toronto"},description:"Toronto Stock Exchange"},{id:"bovespa",name:"B3",type:"exchange",lat:-23.5505,lon:-46.6333,country:"Brazil",description:"Brazilian Stock Exchange (B3/Bovespa)"},{id:"lse",name:"LSE",type:"exchange",lat:51.5145,lon:-.094,country:"UK",marketHours:{open:"08:00",close:"16:30",timezone:"Europe/London"},description:"London Stock Exchange"},{id:"boe",name:"Bank of England",type:"central-bank",lat:51.5142,lon:-.088,country:"UK",description:"UK Central Bank"},{id:"ecb",name:"ECB",type:"central-bank",lat:50.1096,lon:8.6732,country:"Germany",description:"European Central Bank - Controls EUR"},{id:"euronext",name:"Euronext",type:"exchange",lat:48.869,lon:2.3364,country:"France",marketHours:{open:"09:00",close:"17:30",timezone:"Europe/Paris"},description:"Pan-European Exchange (Paris, Amsterdam, Brussels, Lisbon)"},{id:"dax",name:"Deutsche Börse",type:"exchange",lat:50.1109,lon:8.6821,country:"Germany",marketHours:{open:"09:00",close:"17:30",timezone:"Europe/Berlin"},description:"Frankfurt Stock Exchange - DAX"},{id:"six",name:"SIX Swiss",type:"exchange",lat:47.3769,lon:8.5417,country:"Switzerland",description:"Swiss Exchange"},{id:"snb",name:"SNB",type:"central-bank",lat:46.948,lon:7.4474,country:"Switzerland",description:"Swiss National Bank"},{id:"tse",name:"Tokyo SE",type:"exchange",lat:35.683,lon:139.7744,country:"Japan",marketHours:{open:"09:00",close:"15:00",timezone:"Asia/Tokyo"},description:"Tokyo Stock Exchange - Nikkei"},{id:"boj",name:"Bank of Japan",type:"central-bank",lat:35.6855,lon:139.7579,country:"Japan",description:"Japan Central Bank - Controls JPY"},{id:"sse",name:"Shanghai SE",type:"exchange",lat:31.2304,lon:121.4737,country:"China",marketHours:{open:"09:30",close:"15:00",timezone:"Asia/Shanghai"},description:"Shanghai Stock Exchange"},{id:"szse",name:"Shenzhen SE",type:"exchange",lat:22.5431,lon:114.0579,country:"China",description:"Shenzhen Stock Exchange - Tech focus"},{id:"pboc",name:"PBOC",type:"central-bank",lat:39.9208,lon:116.4074,country:"China",description:"People's Bank of China - Controls CNY"},{id:"hkex",name:"HKEX",type:"exchange",lat:22.2833,lon:114.1577,country:"Hong Kong",marketHours:{open:"09:30",close:"16:00",timezone:"Asia/Hong_Kong"},description:"Hong Kong Exchange"},{id:"sgx",name:"SGX",type:"exchange",lat:1.2834,lon:103.8607,country:"Singapore",description:"Singapore Exchange"},{id:"mas",name:"MAS",type:"central-bank",lat:1.2789,lon:103.8536,country:"Singapore",description:"Monetary Authority of Singapore"},{id:"kospi",name:"KRX",type:"exchange",lat:37.5665,lon:126.978,country:"South Korea",marketHours:{open:"09:00",close:"15:30",timezone:"Asia/Seoul"},description:"Korea Exchange - KOSPI"},{id:"bse",name:"BSE",type:"exchange",lat:18.9307,lon:72.8335,country:"India",marketHours:{open:"09:15",close:"15:30",timezone:"Asia/Kolkata"},description:"Bombay Stock Exchange - Sensex"},{id:"nse",name:"NSE India",type:"exchange",lat:19.0571,lon:72.8621,country:"India",description:"National Stock Exchange - Nifty"},{id:"rbi",name:"RBI",type:"central-bank",lat:18.9322,lon:72.8351,country:"India",description:"Reserve Bank of India"},{id:"asx",name:"ASX",type:"exchange",lat:-33.8688,lon:151.2093,country:"Australia",marketHours:{open:"10:00",close:"16:00",timezone:"Australia/Sydney"},description:"Australian Securities Exchange"},{id:"rba",name:"RBA",type:"central-bank",lat:-33.8654,lon:151.2105,country:"Australia",description:"Reserve Bank of Australia"},{id:"tadawul",name:"Tadawul",type:"exchange",lat:24.6877,lon:46.7219,country:"Saudi Arabia",marketHours:{open:"10:00",close:"15:00",timezone:"Asia/Riyadh"},description:"Saudi Stock Exchange - Largest in Arab world"},{id:"adx",name:"ADX",type:"exchange",lat:24.4539,lon:54.3773,country:"UAE",marketHours:{open:"10:00",close:"14:00",timezone:"Asia/Dubai"},description:"Abu Dhabi Securities Exchange"},{id:"dfm",name:"DFM",type:"exchange",lat:25.2221,lon:55.2867,country:"UAE",marketHours:{open:"10:00",close:"14:00",timezone:"Asia/Dubai"},description:"Dubai Financial Market"},{id:"qse",name:"QSE",type:"exchange",lat:25.2854,lon:51.531,country:"Qatar",marketHours:{open:"09:30",close:"13:15",timezone:"Asia/Qatar"},description:"Qatar Stock Exchange"},{id:"bkw",name:"Boursa Kuwait",type:"exchange",lat:29.3759,lon:47.9774,country:"Kuwait",marketHours:{open:"09:00",close:"12:30",timezone:"Asia/Kuwait"},description:"Kuwait Stock Exchange"},{id:"bse_bahrain",name:"Bahrain Bourse",type:"exchange",lat:26.2285,lon:50.586,country:"Bahrain",description:"Bahrain Stock Exchange"},{id:"egx",name:"EGX",type:"exchange",lat:30.0444,lon:31.2357,country:"Egypt",marketHours:{open:"10:00",close:"14:30",timezone:"Africa/Cairo"},description:"Egyptian Exchange - Cairo"},{id:"tase",name:"TASE",type:"exchange",lat:32.0853,lon:34.7818,country:"Israel",marketHours:{open:"09:59",close:"17:14",timezone:"Asia/Jerusalem"},description:"Tel Aviv Stock Exchange"},{id:"jse",name:"JSE",type:"exchange",lat:-26.1447,lon:28.0381,country:"South Africa",marketHours:{open:"09:00",close:"17:00",timezone:"Africa/Johannesburg"},description:"Johannesburg Stock Exchange"},{id:"nse_nigeria",name:"NGX",type:"exchange",lat:6.4541,lon:3.4218,country:"Nigeria",description:"Nigerian Exchange Group - Lagos"},{id:"casa",name:"Casablanca SE",type:"exchange",lat:33.5731,lon:-7.5898,country:"Morocco",description:"Casablanca Stock Exchange"},{id:"dubai_hub",name:"DIFC",type:"financial-hub",lat:25.2116,lon:55.2708,country:"UAE",description:"Dubai International Financial Centre"},{id:"cayman",name:"Cayman Islands",type:"financial-hub",lat:19.3133,lon:-81.2546,country:"Cayman Islands",description:"Offshore financial center"},{id:"luxembourg",name:"Luxembourg",type:"financial-hub",lat:49.6116,lon:6.1319,country:"Luxembourg",description:"European investment fund center"}],HS=[{id:"ksc",name:"Kennedy Space Center",lat:28.57,lon:-80.64,country:"USA",operator:"NASA/Space Force",status:"active",launches:"High"},{id:"vandenberg",name:"Vandenberg SFB",lat:34.74,lon:-120.57,country:"USA",operator:"US Space Force",status:"active",launches:"Medium"},{id:"boca_chica",name:"Starbase",lat:25.99,lon:-97.15,country:"USA",operator:"SpaceX",status:"active",launches:"High"},{id:"baikonur",name:"Baikonur Cosmodrome",lat:45.96,lon:63.3,country:"Kazakhstan",operator:"Roscosmos",status:"active",launches:"Medium"},{id:"plesetsk",name:"Plesetsk Cosmodrome",lat:62.92,lon:40.57,country:"Russia",operator:"Roscosmos/Military",status:"active",launches:"Medium"},{id:"vostochny",name:"Vostochny Cosmodrome",lat:51.88,lon:128.33,country:"Russia",operator:"Roscosmos",status:"active",launches:"Low"},{id:"jiuquan",name:"Jiuquan SLC",lat:40.96,lon:100.29,country:"China",operator:"CNSA",status:"active",launches:"High"},{id:"xichang",name:"Xichang SLC",lat:28.24,lon:102.02,country:"China",operator:"CNSA",status:"active",launches:"High"},{id:"wenchang",name:"Wenchang SLC",lat:19.61,lon:110.95,country:"China",operator:"CNSA",status:"active",launches:"Medium"},{id:"kourou",name:"Guiana Space Centre",lat:5.23,lon:-52.76,country:"France",operator:"ESA/CNES",status:"active",launches:"Medium"},{id:"sriharikota",name:"Satish Dhawan SC",lat:13.72,lon:80.23,country:"India",operator:"ISRO",status:"active",launches:"Medium"},{id:"tanegashima",name:"Tanegashima SC",lat:30.4,lon:130.97,country:"Japan",operator:"JAXA",status:"active",launches:"Low"}],$S=[{id:"greenbushes",name:"Greenbushes",lat:-33.86,lon:116.01,mineral:"Lithium",country:"Australia",operator:"Talison Lithium",status:"producing",significance:"Largest hard-rock lithium mine"},{id:"atacama",name:"Salar de Atacama",lat:-23.5,lon:-68.33,mineral:"Lithium",country:"Chile",operator:"SQM/Albemarle",status:"producing",significance:"Largest brine lithium source"},{id:"pilgangoora",name:"Pilgangoora",lat:-21.03,lon:118.91,mineral:"Lithium",country:"Australia",operator:"Pilbara Minerals",status:"producing",significance:"Major hard-rock deposit"},{id:"silver_peak",name:"Silver Peak",lat:37.75,lon:-117.65,country:"USA",mineral:"Lithium",operator:"Albemarle",status:"producing",significance:"Only active US lithium mine"},{id:"mutanda",name:"Mutanda",lat:-10.78,lon:25.8,mineral:"Cobalt",country:"DRC",operator:"Glencore",status:"producing",significance:"World largest cobalt mine"},{id:"tenke",name:"Tenke Fungurume",lat:-10.61,lon:26.16,mineral:"Cobalt",country:"DRC",operator:"CMOC",status:"producing",significance:"Major Chinese-owned cobalt source"},{id:"bayan_obo",name:"Bayan Obo",lat:41.76,lon:109.95,mineral:"Rare Earths",country:"China",operator:"China Northern Rare Earth",status:"producing",significance:"World largest REE mine (45% global production)"},{id:"mountain_pass",name:"Mountain Pass",lat:35.47,lon:-115.53,mineral:"Rare Earths",country:"USA",operator:"MP Materials",status:"producing",significance:"Only major US REE mine"},{id:"mount_weld",name:"Mount Weld",lat:-28.86,lon:122.17,mineral:"Rare Earths",country:"Australia",operator:"Lynas",status:"producing",significance:"Major non-Chinese REE source"},{id:"wedabay",name:"Weda Bay",lat:.47,lon:127.94,mineral:"Nickel",country:"Indonesia",operator:"Tsingshan/Eramet",status:"producing",significance:"Massive nickel pig iron production"},{id:"norilsk",name:"Norilsk",lat:69.33,lon:88.21,mineral:"Nickel",country:"Russia",operator:"Nornickel",status:"producing",significance:"Major palladium/nickel source"}],Eo=[{id:"dc-1",name:"OpenAI/Microsoft Mt Pleasant, Wisconsin Phase 2",owner:"OpenAI,Microsoft",country:"United States of America",lat:42.6978,lon:-87.8912,status:"planned",chipType:"NVIDIA GB200",chipCount:7e5},{id:"dc-2",name:"Fluidstack France Gigawatt Campus",owner:"Unknown",country:"France",lat:46.2276,lon:2.7137,status:"planned",chipType:"NVIDIA GB200",chipCount:5e5,powerMW:1e3,sector:"Public/Private"},{id:"dc-5",name:"Meta Prometheus New Albany",owner:"Meta AI",country:"United States of America",lat:40.0812,lon:-82.8085,status:"planned",chipType:"NVIDIA GB200",chipCount:5e5,powerMW:1281.3,sector:"Private"},{id:"dc-3",name:"Reliance Industries Supercomputer",owner:"Reliance Industries",country:"India",lat:20.5937,lon:79.4629,status:"planned",chipType:"NVIDIA GB200",chipCount:45e4,powerMW:1e3,sector:"Private"},{id:"dc-22",name:"Project Rainier",owner:"Amazon",country:"United States of America",lat:37.9704,lon:-97.8378,status:"planned",chipType:"Amazon Trainium2",chipCount:4e5,powerMW:350,sector:"Private"},{id:"dc-4",name:"xAI Colossus 2 Memphis Phase 2",owner:"xAI",country:"United States of America",lat:35.1175,lon:-89.7439,status:"planned",chipType:"NVIDIA GB200",chipCount:33e4},{id:"dc-6",name:"OpenAI/Microsoft Atlanta",owner:"OpenAI,Microsoft",country:"United States of America",lat:33.749,lon:-84.388,status:"planned",chipType:"NVIDIA B200",chipCount:3e5},{id:"dc-17",name:"OpenAI Stargate Abilene Oracle OCI Supercluster Phase 2",owner:"Oracle",country:"United States of America",lat:32.4789,lon:-99.6669,status:"planned",chipType:"NVIDIA GB300 (Blackwell Ultra)",chipCount:200001},{id:"dc-16",name:"xAI Colossus Memphis Phase 3",owner:"xAI",country:"United States of America",lat:34.8704,lon:-90.0605,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2e5},{id:"dc-313",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:27.5118,lon:111.2018,status:"existing",chipType:"Unknown",chipCount:2e5,powerMW:80,sector:"Public"},{id:"dc-7",name:"Applied Digital Ellendale Possible Phase 3",owner:"Applied Digital",country:"United States of America",lat:46.0022,lon:-98.5267,status:"planned",chipType:"NVIDIA GB200",chipCount:18e4},{id:"dc-8",name:"Nebius New Jersey",owner:"Nebius AI",country:"United States of America",lat:40.0583,lon:-74.4057,status:"planned",chipType:"NVIDIA GB200",chipCount:15e4,powerMW:300,sector:"Private"},{id:"dc-9",name:"Sesterce Grand Est France B",owner:"Sesterce",country:"France",lat:46.7005,lon:1.6976,status:"planned",chipType:"NVIDIA GB200",chipCount:15e4},{id:"dc-10",name:"Sesterce Grand Est France A",owner:"Sesterce",country:"France",lat:45.331,lon:2.2921,status:"planned",chipType:"NVIDIA GB200",chipCount:15e4},{id:"dc-11",name:"OpenAI/Microsoft Mt Pleasant, Wisconsin Phase 1",owner:"OpenAI,Microsoft",country:"United States of America",lat:42.6978,lon:-87.8912,status:"planned",chipType:"NVIDIA GB200",chipCount:15e4},{id:"dc-20",name:"xAI Colossus Memphis Phase 2",owner:"xAI",country:"United States of America",lat:35.3203,lon:-90.091,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:15e4,powerMW:280.3,sector:"Private"},{id:"dc-13",name:"Oracle OCI Supercluster B200s",owner:"Oracle",country:"United States of America",lat:38.7323,lon:-96.1529,status:"planned",chipType:"NVIDIA B200",chipCount:131072,powerMW:262.4,sector:"Private"},{id:"dc-12",name:"Sesterce Southern France 250MW",owner:"Sesterce",country:"France",lat:47.1003,lon:2.8833,status:"planned",chipType:"NVIDIA GB200",chipCount:12e4},{id:"dc-28",name:"Tesla Cortex Phase 3",owner:"Tesla",country:"United States of America",lat:30.4475,lon:-97.8798,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:12e4,powerMW:140.1,sector:"Private"},{id:"dc-14",name:"Applied Digital CoreWeave Ellendale Phase 2",owner:"Applied Digital",country:"United States of America",lat:46.0022,lon:-98.5267,status:"planned",chipType:"NVIDIA GB200",chipCount:11e4},{id:"dc-15",name:"xAI Colossus 2 Memphis Phase 1",owner:"xAI",country:"United States of America",lat:35.263,lon:-89.907,status:"planned",chipType:"NVIDIA GB200",chipCount:11e4,powerMW:264.3,sector:"Private"},{id:"dc-18",name:"OpenAI Stargate Abilene Oracle OCI Supercluster Phase 1",owner:"Oracle",country:"United States of America",lat:32.4067,lon:-99.6511,status:"planned",chipType:"NVIDIA GB200",chipCount:1e5},{id:"dc-19",name:"CoreWeave Denton GB200s OpenAI/Microsoft",owner:"CoreWeave",country:"United States of America",lat:33.2148,lon:-97.1331,status:"planned",chipType:"NVIDIA GB200",chipCount:1e5},{id:"dc-27",name:"xAI Colossus Memphis Phase 1",owner:"xAI",country:"United States of America",lat:35.1221,lon:-90.1423,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e5,powerMW:150,sector:"Private"},{id:"dc-29",name:"Meta 100k",owner:"Meta AI",country:"United States of America",lat:35.6402,lon:-98.2244,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e5,powerMW:142.7,sector:"Private"},{id:"dc-30",name:"OpenAI/Microsoft Goodyear Arizona",owner:"Microsoft,OpenAI",country:"United States of America",lat:33.4308,lon:-112.5925,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e5},{id:"dc-78",name:"Stargate UAE Phase 1",owner:"Stargate (OpenAI)",country:"United Arab Emirates",lat:24.2968,lon:54.5174,status:"planned",chipType:"NVIDIA GB300 (Blackwell Ultra)",chipCount:1e5},{id:"dc-133",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:33.5959,lon:105.2519,status:"existing",chipType:"Unknown",chipCount:1e5,sector:"Public"},{id:"dc-32",name:"Oracle OCI Supercluster H200s",owner:"Oracle",country:"United States of America",lat:39.7934,lon:-97.6057,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:65536},{id:"dc-166",name:"Argonne NL Aurora",owner:"US Department of Energy",country:"United States of America",lat:49.2024,lon:-99.5319,status:"existing",chipType:"Intel Data Center GPU Max 1550",chipCount:63744,powerMW:60,sector:"Public"},{id:"dc-21",name:"SK Group AWS Uslan Phase 2",owner:"SK Telecom,Amazon",country:"Korea (Republic of)",lat:35.9078,lon:128.2669,status:"planned",chipType:"NVIDIA GB200",chipCount:6e4,powerMW:103,sector:"Private"},{id:"dc-33",name:"Nebius Finland Phase 2",owner:"Nebius AI",country:"Finland",lat:61.9241,lon:26.2482,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:6e4,powerMW:84.1,sector:"Private"},{id:"dc-34",name:"G42 Microsoft 100Mw UAE Cluster",owner:"G42,Microsoft",country:"United Arab Emirates",lat:23.4241,lon:54.3478,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:55e3},{id:"dc-36",name:"Tesla Cortex Phase 1",owner:"Tesla",country:"United States of America",lat:30.4364,lon:-97.649,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:5e4,powerMW:71.3,sector:"Private"},{id:"dc-37",name:"Tesla Cortex Phase 2",owner:"Tesla",country:"United States of America",lat:30.4715,lon:-97.8794,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:5e4,powerMW:70.1,sector:"Private"},{id:"dc-311",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:37.2583,lon:93.5869,status:"existing",chipType:"Unknown",chipCount:5e4,powerMW:20,sector:"Public"},{id:"dc-23",name:"Applied Digital CoreWeave Ellendale Phase 1",owner:"Applied Digital",country:"United States of America",lat:34.8244,lon:-94.6564,status:"planned",chipType:"NVIDIA GB200",chipCount:45e3},{id:"dc-24",name:"Nscale Loughton",owner:"Unknown",country:"United Kingdom of Great Britain and Northern Ireland",lat:55.3781,lon:-2.936,status:"planned",chipType:"NVIDIA GB200",chipCount:45e3,powerMW:90,sector:"Private"},{id:"dc-38",name:"Lawrence Livermore NL El Capitan Phase 2",owner:"US Department of Energy",country:"United States of America",lat:37.9127,lon:-121.9141,status:"existing",chipType:"AMD Instinct MI300A",chipCount:44544,powerMW:35,sector:"Public"},{id:"dc-39",name:"CoreWeave H200s",owner:"CoreWeave",country:"United States of America",lat:39.4685,lon:-92.8785,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:42e3,powerMW:59.9,sector:"Private"},{id:"dc-25",name:"CoreWeave Muskogee",owner:"CoreWeave",country:"United States of America",lat:39.6652,lon:-94.901,status:"planned",chipType:"NVIDIA GB200",chipCount:4e4},{id:"dc-26",name:"Sesterce Valence",owner:"Sesterce",country:"France",lat:46.0019,lon:.9334,status:"planned",chipType:"NVIDIA GB200",chipCount:4e4,powerMW:96.1,sector:"Private"},{id:"dc-97",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.0558,lon:105.4605,status:"existing",chipType:"Unknown",chipCount:4e4,sector:"Public/Private"},{id:"dc-224",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:34.2078,lon:98.95,status:"existing",chipType:"Unknown",chipCount:4e4,powerMW:30,sector:"Public"},{id:"dc-272",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:41.3913,lon:99.1285,status:"existing",chipType:"Unknown",chipCount:4e4,powerMW:20,sector:"Public"},{id:"dc-305",name:"Neevcloud planned GPUs",owner:"NeevCloud",country:"India",lat:19.7878,lon:80.228,status:"planned",chipType:"Unknown",chipCount:4e4,sector:"Private"},{id:"dc-85",name:"Oak Ridge NL Frontier",owner:"US Department of Energy",country:"United States of America",lat:35.9425,lon:-84.1017,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:37632,powerMW:40,sector:"Public"},{id:"dc-31",name:"together.ai 36k GB200s",owner:"Together",country:"United States of America",lat:36.4192,lon:-92.6864,status:"planned",chipType:"NVIDIA GB200",chipCount:36e3,powerMW:86.5,sector:"Private"},{id:"dc-71",name:"Oracle OCI Supercluster A100s",owner:"Oracle",country:"United States of America",lat:36.454,lon:-88.4407,status:"existing",chipType:"NVIDIA A100",chipCount:32768},{id:"dc-101",name:"Google Oklahoma TPU v4 Pods",owner:"Google",country:"United States of America",lat:29.7527,lon:-100.3874,status:"existing",chipType:"Google TPU v4",chipCount:32768,powerMW:23.7,sector:"Private"},{id:"dc-42",name:"Lambda Labs H100/H200",owner:"Lambda Labs",country:"United States of America",lat:34.1911,lon:-92.8138,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:32e3},{id:"dc-43",name:"NVIDIA CoreWeave Eos-DFW Rumored Phase 2",owner:"NVIDIA,CoreWeave",country:"United States of America",lat:41.3861,lon:-95.9005,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:32e3,powerMW:44.8,sector:"Private"},{id:"dc-81",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.7344,lon:104.865,status:"planned",chipType:"Unknown",chipCount:3e4,powerMW:40,sector:"Public"},{id:"dc-90",name:"AWS EC2 Trn1",owner:"Amazon",country:"United States of America",lat:36.3842,lon:-103.7821,status:"existing",chipType:"Amazon Trainium1",chipCount:3e4,sector:"Private"},{id:"dc-125",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.5799,lon:106.1688,status:"existing",chipType:"Unknown",chipCount:3e4,powerMW:20,sector:"Private"},{id:"dc-232",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:41.3126,lon:101.9376,status:"existing",chipType:"Unknown",chipCount:3e4,sector:"Public/Private"},{id:"dc-306",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:32.8847,lon:113.6372,status:"existing",chipType:"Unknown",chipCount:3e4},{id:"dc-126",name:"Gemini 1.0 Ultra training cluster A",owner:"Google",country:"United States of America",lat:38.4868,lon:-106.3214,status:"existing",chipType:"Google TPU v4",chipCount:28672,powerMW:20.2,sector:"Private"},{id:"dc-127",name:"Gemini 1.0 Ultra training cluster B",owner:"Google",country:"United States of America",lat:28.7403,lon:-88.7065,status:"existing",chipType:"Google TPU v4",chipCount:28672,powerMW:20.2,sector:"Private"},{id:"dc-44",name:"Google A3 VMs",owner:"Google",country:"United States of America",lat:33.643,lon:-98.6054,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:26e3},{id:"dc-83",name:"Microsoft GPT-4 cluster",owner:"Microsoft,OpenAI",country:"United States of America",lat:42.0256,lon:-93.0338,status:"existing",chipType:"NVIDIA A100",chipCount:25e3,powerMW:21.3,sector:"Private"},{id:"dc-312",name:"Telangana Yotta Hyderbad AI City Cluster Phase 2",owner:"Government of Telangana",country:"India",lat:18.9084,lon:78.0856,status:"planned",chipType:"Unknown",chipCount:25e3,powerMW:50,sector:"Public"},{id:"dc-45",name:"Meta GenAI 2024b",owner:"Meta AI",country:"United States of America",lat:37.7037,lon:-91.0531,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:24576,powerMW:35.1,sector:"Private"},{id:"dc-46",name:"Meta GenAI 2024a",owner:"Meta AI",country:"United States of America",lat:39.9007,lon:-99.7267,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:24576,powerMW:35.1,sector:"Private"},{id:"dc-47",name:"Jupiter, Jülich",owner:"EuroHPC JU,Julich Supercomputing Center",country:"Germany",lat:51.1657,lon:10.9515,status:"existing",chipType:"NVIDIA GH200",chipCount:23536,powerMW:18,sector:"Public"},{id:"dc-48",name:"Inflection AI Cluster",owner:"Inflection AI",country:"United States of America",lat:32.1111,lon:-94.6091,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:22e3,powerMW:31,sector:"Private"},{id:"dc-172",name:"Meta 2017 V100 Cluster",owner:"Meta AI",country:"United States of America",lat:42.1034,lon:-83.6101,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:22e3},{id:"dc-35",name:"Project Ceiba Phase 2",owner:"Amazon,NVIDIA",country:"United States of America",lat:33.6201,lon:-96.1697,status:"planned",chipType:"NVIDIA GB200",chipCount:20736,powerMW:49.8,sector:"Private"},{id:"dc-50",name:"Andreessen Horowitz Oxygen",owner:"Andreessen Horowitz",country:"United States of America",lat:35.4363,lon:-100.9583,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2e4},{id:"dc-51",name:"AWS EC2 P5 UltraClusters",owner:"Amazon",country:"United States of America",lat:34.6813,lon:-90.5469,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2e4,powerMW:29,sector:"Private"},{id:"dc-52",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.8617,lon:104.6954,status:"existing",chipType:"Unknown",chipCount:2e4,powerMW:30,sector:"Private"},{id:"dc-74",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.3346,lon:103.6793,status:"existing",chipType:"Unknown",chipCount:2e4,sector:"Public/Private"},{id:"dc-124",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:34.1764,lon:103.3181,status:"existing",chipType:"Unknown",chipCount:2e4,sector:"Public/Private"},{id:"dc-137",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.5649,lon:102.3026,status:"existing",chipType:"Unknown",chipCount:2e4,sector:"Public/Private"},{id:"dc-199",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:32.4145,lon:101.3029,status:"planned",chipType:"Unknown",chipCount:2e4,sector:"Public"},{id:"dc-243",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.7707,lon:109.7836,status:"existing",chipType:"Unknown",chipCount:2e4,powerMW:20,sector:"Public"},{id:"dc-84",name:"Aramco Groq Inference Cluster",owner:"Saudi Aramco",country:"Saudi Arabia",lat:24.3588,lon:44.5631,status:"existing",chipType:"GroqChip LPU v1",chipCount:19725,powerMW:8.5,sector:"Private"},{id:"dc-170",name:"HUMAIN Saudi Arabia/NVIDIA Phase 1",owner:"Humain",country:"Saudi Arabia",lat:24.7586,lon:45.7488,status:"planned",chipType:"NVIDIA GB300 (Blackwell Ultra)",chipCount:18e3,powerMW:50.5,sector:"Public/Private"},{id:"dc-180",name:"Lawrence Livermore NL Sierra",owner:"US Department of Energy",country:"United States of America",lat:37.9088,lon:-121.6068,status:"existing",chipType:"NVIDIA V100",chipCount:17280,powerMW:11.5,sector:"Public"},{id:"dc-49",name:"Oracle OCI MI300x",owner:"Oracle",country:"United States of America",lat:41.6801,lon:-93.0629,status:"existing",chipType:"AMD Instinct MI300X",chipCount:16384,powerMW:25,sector:"Private"},{id:"dc-53",name:"Yotta Shakti Cloud D1",owner:"Yotta Data Services",country:"India",lat:21.0666,lon:78.4468,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:16384,powerMW:23,sector:"Private"},{id:"dc-54",name:"Yotta Shakti Cloud NM1 Phase 2",owner:"Yotta Data Services",country:"India",lat:19.6971,lon:79.0413,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:16384,powerMW:23,sector:"Private"},{id:"dc-55",name:"NexGen Cloud Hyperstack AQ Compute Supercomputer",owner:"NexGen Cloud",country:"Norway",lat:60.472,lon:8.9689,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:16384,powerMW:23.4,sector:"Private"},{id:"dc-56",name:"Oracle OCI Supercluster H100s",owner:"Oracle",country:"United States of America",lat:42.5411,lon:-97.9707,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:16384},{id:"dc-94",name:"Meta Research SuperCluster (RSC-1) Phase 2",owner:"Meta AI",country:"United States of America",lat:37.6547,lon:-78.5712,status:"existing",chipType:"NVIDIA A100",chipCount:16e3,powerMW:13.3,sector:"Private"},{id:"dc-40",name:"YTL AI Johor",owner:"YTL Power",country:"Malaysia",lat:4.2105,lon:102.4758,status:"planned",chipType:"NVIDIA GB200",chipCount:15428,powerMW:37.1,sector:"Private"},{id:"dc-58",name:"G42 Microsoft 30Mw UAE Cluster A",owner:"G42,Microsoft",country:"United Arab Emirates",lat:23.897,lon:53.3317,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:15e3,powerMW:30,sector:"Public/Private"},{id:"dc-59",name:"G42 Microsoft 30Mw UAE Cluster B",owner:"G42,Microsoft",country:"United Arab Emirates",lat:22.5275,lon:53.9262,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:15e3,powerMW:30,sector:"Public/Private"},{id:"dc-61",name:"Microsoft Azure Eagle",owner:"Microsoft",country:"United States of America",lat:31.3581,lon:-97.7992,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:14400,powerMW:20.9,sector:"Private"},{id:"dc-140",name:"Eni HPC6",owner:"Eni",country:"Italy",lat:40.9753,lon:12.6458,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:13888,powerMW:14.2,sector:"Private"},{id:"dc-104",name:"EuroHPC Leonardo",owner:"EuroHPC JU",country:"Italy",lat:42.3448,lon:12.0513,status:"existing",chipType:"NVIDIA A100",chipCount:13824,powerMW:12.6,sector:"Public"},{id:"dc-105",name:"Amazon Titan training cluster",owner:"Amazon",country:"United States of America",lat:41.2921,lon:-103.7847,status:"existing",chipType:"NVIDIA A100",chipCount:13760,powerMW:11.4,sector:"Private"},{id:"dc-66",name:"xAI Fulton Georgia",owner:"xAI",country:"United States of America",lat:31.4395,lon:-92.113,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:12112},{id:"dc-146",name:"EuroHPC LUMI",owner:"EuroHPC JU",country:"Finland",lat:61.0275,lon:25.8266,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:11912,powerMW:12.1,sector:"Public"},{id:"dc-68",name:"Microsoft Azure MLPerf 3.1 Submission",owner:"Microsoft",country:"United States of America",lat:43.8854,lon:-94.5147,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:10752,powerMW:15.6,sector:"Private"},{id:"dc-69",name:"NVIDIA CoreWeave Eos-DFW Phase 1",owner:"NVIDIA,CoreWeave",country:"United States of America",lat:32.768,lon:-101.3457,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:10752,powerMW:15.6,sector:"Private"},{id:"dc-70",name:"Alps Supercomputer Phase 2",owner:"ETH Domain",country:"Switzerland",lat:46.8182,lon:8.7275,status:"existing",chipType:"NVIDIA GH200",chipCount:10752},{id:"dc-62",name:"TensorWave MI300X Cluster 2",owner:"TensorWave",country:"United States of America",lat:39.9992,lon:-90.1247,status:"planned",chipType:"AMD Instinct MI300X",chipCount:1e4,powerMW:15,sector:"Private"},{id:"dc-63",name:"TensorWave MI300X Cluster 1 Phase 2",owner:"TensorWave",country:"United States of America",lat:38.7725,lon:-101.9914,status:"planned",chipType:"AMD Instinct MI300X",chipCount:1e4,powerMW:15,sector:"Private"},{id:"dc-64",name:"Foxconn Big Innovation Cloud AI factory",owner:"Foxconn",country:"Taiwan",lat:23.6978,lon:121.4605,status:"planned",chipType:"NVIDIA GB300 (Blackwell Ultra)",chipCount:1e4,powerMW:26,sector:"Private"},{id:"dc-72",name:"Imbue 10k Cluster",owner:"Imbue",country:"United States of America",lat:42.6198,lon:-100.7798,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e4,powerMW:14.5,sector:"Private"},{id:"dc-73",name:"Tesla 10k H100 Cluster",owner:"Tesla",country:"United States of America",lat:29.3902,lon:-95.7129,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e4,powerMW:14.5,sector:"Private"},{id:"dc-75",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:34.9651,lon:104.2738,status:"existing",chipType:"Unknown",chipCount:1e4,sector:"Private"},{id:"dc-123",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:37.5038,lon:103.7554,status:"existing",chipType:"Unknown",chipCount:1e4,powerMW:10,sector:"Private"},{id:"dc-132",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.7419,lon:102.0705,status:"existing",chipType:"Unknown",chipCount:1e4,powerMW:30,sector:"Public"},{id:"dc-134",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.4367,lon:105.0073,status:"existing",chipType:"Unknown",chipCount:1e4,powerMW:6,sector:"Private"},{id:"dc-136",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.1907,lon:107.2219,status:"existing",chipType:"Unknown",chipCount:1e4,sector:"Private"},{id:"dc-211",name:"Azure OpenAI GPT-3 Cluster",owner:"Microsoft,OpenAI",country:"United States of America",lat:51.5485,lon:-88.1864,status:"existing",chipType:"NVIDIA V100",chipCount:1e4,powerMW:6.6,sector:"Private"},{id:"dc-277",name:"JAMSTEC ZettaScaler-2.2 Gyoukou",owner:"Japan Agency for Marine-Earth Science and Technology",country:"Japan",lat:34.7548,lon:135.7414,status:"existing",chipType:"PEZY-SC2",chipCount:1e4,powerMW:2.6,sector:"Public"},{id:"dc-308",name:"IndiaAI Mission Supercomputer",owner:"Unknown",country:"India",lat:22.2358,lon:78.5229,status:"planned",chipType:"Unknown",chipCount:1e4,sector:"Public/Private"},{id:"dc-310",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:41.8843,lon:112.7965,status:"planned",chipType:"Unknown",chipCount:1e4,sector:"Private"},{id:"dc-214",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.6722,lon:100.1816,status:"existing",chipType:"Unknown",chipCount:9e3,powerMW:3,sector:"Public"},{id:"dc-77",name:"S. Korea 6th national supercomputer",owner:"Ministry of Science and ICT",country:"Korea (Republic of)",lat:36.3807,lon:127.2508,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:8800,powerMW:12.3,sector:"Public"},{id:"dc-178",name:"Paper on AFM-server",owner:"Google",country:"United States of America",lat:29.6217,lon:-107.436,status:"existing",chipType:"Google TPU v4",chipCount:8192,powerMW:5.7,sector:"Private"},{id:"dc-41",name:"Nebius Kansas City Phase 2",owner:"Nebius AI",country:"United States of America",lat:37.2603,lon:-99.6092,status:"planned",chipType:"NVIDIA B200",chipCount:8e3},{id:"dc-79",name:"Nebius 8k Finland Phase 1",owner:"Nebius AI",country:"Finland",lat:62.397,lon:25.2321,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:8e3,powerMW:11.4,sector:"Private"},{id:"dc-80",name:"Magic G4 Google Cloud Rental",owner:"Google",country:"United States of America",lat:42.9147,lon:-90.3757,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:8e3,powerMW:11.2,sector:"Private"},{id:"dc-82",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.636,lon:102.9151,status:"existing",chipType:"Unknown",chipCount:8e3,powerMW:10,sector:"Private"},{id:"dc-142",name:"Meta Research SuperCluster 2 (RSC-2)",owner:"Meta AI",country:"United States of America",lat:37.5918,lon:-84.2238,status:"existing",chipType:"NVIDIA A100",chipCount:8e3,powerMW:6.6,sector:"Private"},{id:"dc-225",name:"Saudi Aramco Dammam-7",owner:"Saudi Aramco",country:"Saudi Arabia",lat:23.6602,lon:43.7989,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:7912,powerMW:5.1,sector:"Private"},{id:"dc-145",name:"Tesla A100 Cluster Phase 2",owner:"Tesla",country:"United States of America",lat:44.6108,lon:-104.6756,status:"existing",chipType:"NVIDIA A100 SXM4 80 GB",chipCount:7360,powerMW:6.3,sector:"Private"},{id:"dc-226",name:"Eni HPC5",owner:"Eni",country:"Italy",lat:42.7446,lon:13.237,status:"existing",chipType:"NVIDIA V100",chipCount:7280,powerMW:4,sector:"Private"},{id:"dc-135",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:34.4117,lon:101.6839,status:"planned",chipType:"Unknown",chipCount:7e3,powerMW:8,sector:"Public/Private"},{id:"dc-202",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.4752,lon:108.8552,status:"existing",chipType:"Unknown",chipCount:7e3,powerMW:4,sector:"Public"},{id:"dc-302",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:44.6386,lon:107.8309,status:"existing",chipType:"Unknown",chipCount:7e3,powerMW:8,sector:"Public"},{id:"dc-309",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:25.8059,lon:101.9661,status:"existing",chipType:"Unknown",chipCount:7e3,sector:"Private"},{id:"dc-86",name:"Microsoft Sweden Staffanstorp",owner:"Microsoft",country:"Sweden",lat:60.1282,lon:19.1435,status:"planned",chipType:"Unknown",chipCount:6666,sector:"Private"},{id:"dc-87",name:"Microsoft Sweden Sandviken",owner:"Microsoft",country:"Sweden",lat:60.6011,lon:18.1274,status:"planned",chipType:"Unknown",chipCount:6666,sector:"Private"},{id:"dc-88",name:"Microsoft Sweden Gävle",owner:"Microsoft",country:"Sweden",lat:59.2316,lon:18.7219,status:"planned",chipType:"Unknown",chipCount:6666,sector:"Private"},{id:"dc-89",name:"Alps Supercomputer Phase 1",owner:"ETH Domain",country:"Switzerland",lat:47.2911,lon:7.7114,status:"existing",chipType:"NVIDIA GH200",chipCount:6400,powerMW:8.7,sector:"Public"},{id:"dc-147",name:"Lawrence Berkeley NL NERSC Perlmutter",owner:"US Department of Energy",country:"United States of America",lat:25.292,lon:-94.1596,status:"existing",chipType:"NVIDIA A100 SXM4 40 GB",chipCount:6144,powerMW:6.9,sector:"Public"},{id:"dc-203",name:"Paper on PaLM",owner:"Google",country:"United States of America",lat:24.7932,lon:-105.1487,status:"existing",chipType:"Google TPU v4",chipCount:6144,powerMW:4.4,sector:"Private"},{id:"dc-91",name:"AIST ABCI 3.0",owner:"National Institute of Advanced Industrial Science and Technology (AIST)",country:"Japan",lat:35.3082,lon:138.3313,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:6128,powerMW:8.6,sector:"Public"},{id:"dc-161",name:"Meta Research SuperCluster (RSC-1) Phase 1",owner:"Meta AI",country:"United States of America",lat:37.3607,lon:-78.7364,status:"existing",chipType:"NVIDIA A100",chipCount:6080,powerMW:5.2,sector:"Private"},{id:"dc-60",name:"iGenius Colosseum",owner:"iGenius",country:"Italy",lat:41.8719,lon:13.0674,status:"planned",chipType:"NVIDIA GB200",chipCount:5760,powerMW:13.8,sector:"Private"},{id:"dc-163",name:"Tesla A100 Cluster Phase 1",owner:"Tesla",country:"United States of America",lat:34.428,lon:-107.7213,status:"existing",chipType:"NVIDIA A100 SXM4 80 GB",chipCount:5760,powerMW:4.9,sector:"Private"},{id:"dc-287",name:"CSCS Piz Daint Phase 2",owner:"ETH Domain",country:"Switzerland",lat:45.9216,lon:8.3059,status:"existing",chipType:"NVIDIA Tesla P100 PCIe 16GB",chipCount:5704,powerMW:4.4,sector:"Public"},{id:"dc-92",name:"University of Bristol Isambard-AI",owner:"UK Research and Innovation",country:"United Kingdom of Great Britain and Northern Ireland",lat:55.851,lon:-3.9521,status:"existing",chipType:"NVIDIA GH200",chipCount:5448,powerMW:7.6,sector:"Public"},{id:"dc-165",name:"Microsoft Azure Meta AI Rental",owner:"Microsoft",country:"United States of America",lat:30.8402,lon:-84.8876,status:"existing",chipType:"NVIDIA A100",chipCount:5400,powerMW:4.6,sector:"Private"},{id:"dc-240",name:"NVIDIA SATURN V Phase 2",owner:"NVIDIA",country:"United States of America",lat:54.8371,lon:-93.3765,status:"existing",chipType:"NVIDIA V100",chipCount:5280},{id:"dc-65",name:"Saudi Data & AI Authority Sovereign AI factory",owner:"Saudi Data and Artificial Intelligence Authority",country:"Saudi Arabia",lat:23.8859,lon:45.5792,status:"planned",chipType:"NVIDIA GB200",chipCount:5e3,powerMW:12,sector:"Public"},{id:"dc-95",name:"Inflection-2 training cluster",owner:"Inflection AI,CoreWeave",country:"United States of America",lat:32.0375,lon:-89.1281,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:5e3},{id:"dc-96",name:"Sustainable Metal Cloud Singapore Phase 2",owner:"SMC - Sustainable Metal Cloud",country:"Singapore",lat:1.3521,lon:104.3198,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:5e3,powerMW:7,sector:"Private"},{id:"dc-251",name:"Paper on AlphaZero",owner:"Google",country:"United States of America",lat:18.408,lon:-94.8972,status:"existing",chipType:"Google TPU v1",chipCount:5e3,powerMW:.9,sector:"Private"},{id:"dc-288",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:44.2326,lon:102.7194,status:"existing",chipType:"Unknown",chipCount:5e3,powerMW:1,sector:"Private"},{id:"dc-98",name:"Nebius ISEG2",owner:"Nebius AI",country:"Iceland",lat:64.9631,lon:-18.5208,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:4992,powerMW:7,sector:"Private"},{id:"dc-67",name:"Foxconn Hon Hai Kaohsiung Supercomputer",owner:"Foxconn",country:"Taiwan",lat:24.1707,lon:120.4444,status:"planned",chipType:"NVIDIA GB200",chipCount:4608,powerMW:11.1,sector:"Private"},{id:"dc-99",name:"NVIDIA Eos Phase 2",owner:"NVIDIA",country:"United States of America",lat:45.4611,lon:-97.1889,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4608,powerMW:6.7,sector:"Private"},{id:"dc-100",name:"Lawrence Livermore NL Tuolumne",owner:"US Department of Energy",country:"United States of America",lat:37.9003,lon:-121.8409,status:"existing",chipType:"AMD Instinct MI300A",chipCount:4608,powerMW:5.7,sector:"Public"},{id:"dc-102",name:"Mare Nostrum 5",owner:"Barcelona Supercomputing Center,EuroHPC JU",country:"Spain",lat:40.4637,lon:-3.2492,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4480,powerMW:6,sector:"Public"},{id:"dc-171",name:"NVIDIA Selene Phase 2",owner:"NVIDIA",country:"United States of America",lat:36.9105,lon:-119.6209,status:"existing",chipType:"NVIDIA A100",chipCount:4480,powerMW:4.7,sector:"Private"},{id:"dc-103",name:"Together AI H100 Cluster",owner:"Together",country:"United States of America",lat:39.3937,lon:-87.1162,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4424,powerMW:6.4,sector:"Private"},{id:"dc-246",name:"AIST ABCI 1.0",owner:"National Institute of Advanced Industrial Science and Technology (AIST)",country:"Japan",lat:38.7798,lon:139.0648,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:4352,powerMW:3,sector:"Public"},{id:"dc-234",name:"Core42 AI-03",owner:"G42",country:"United Arab Emirates",lat:22.6182,lon:55.1129,status:"existing",chipType:"AMD Instinct MI210",chipCount:4320,sector:"Public/Private"},{id:"dc-298",name:"GSIC TSUBAME 2.5",owner:"Tokyo Institute of Technology",country:"Japan",lat:36.3749,lon:134.3566,status:"existing",chipType:"NVIDIA Tesla K20X",chipCount:4224},{id:"dc-296",name:"US Government Supercomputer 2",owner:"United States Government",country:"United States of America",lat:27.532,lon:-114.074,status:"existing",chipType:"NVIDIA Tesla K40c",chipCount:4160,powerMW:2.9,sector:"Public"},{id:"dc-297",name:"US Government Supercomputer 1",owner:"United States Government",country:"United States of America",lat:31.6809,lon:-75.5251,status:"existing",chipType:"NVIDIA Tesla K40c",chipCount:4160,powerMW:2.9,sector:"Public"},{id:"dc-106",name:"Yotta Shakti Cloud NM1 Phase 1",owner:"Yotta Data Services",country:"India",lat:21.4664,lon:79.6325,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4096,powerMW:5.8,sector:"Private"},{id:"dc-107",name:"Sesterce Synapse Phase 2",owner:"Sesterce",country:"France",lat:45.4217,lon:3.4788,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:4096,powerMW:5.7,sector:"Private"},{id:"dc-108",name:"Sesterce H100s Phase 2",owner:"Sesterce",country:"France",lat:47.8697,lon:1.7737,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4096,powerMW:5.8,sector:"Private"},{id:"dc-215",name:"Paper on Gemma 2 9B",owner:"Google",country:"United States of America",lat:52.4068,lon:-102.8551,status:"existing",chipType:"Google TPU v4",chipCount:4096,powerMW:2.8,sector:"Private"},{id:"dc-216",name:"Google TPU v4 Pod",owner:"Google",country:"United States of America",lat:20.7816,lon:-100.855,status:"existing",chipType:"Google TPU v4",chipCount:4096,powerMW:3,sector:"Private"},{id:"dc-248",name:"Google MLPerf 0.7 Submission",owner:"Google",country:"United States of America",lat:36.292,lon:-77.4303,status:"existing",chipType:"Google TPU v3",chipCount:4096,powerMW:4,sector:"Private"},{id:"dc-249",name:"Paper on Gopher",owner:"Google DeepMind",country:"United States of America",lat:50.1717,lon:-108.7944,status:"existing",chipType:"Google TPU v3",chipCount:4096,powerMW:4,sector:"Private"},{id:"dc-271",name:"Google TensorFlow Research Cloud",owner:"Google",country:"United States of America",lat:45.5848,lon:-113.9297,status:"existing",chipType:"Google TPU v2",chipCount:4096,powerMW:2.7,sector:"Private"},{id:"dc-109",name:"PanaAI AUS AISF",owner:"PanaAI",country:"Australia",lat:-25.2744,lon:134.2751,status:"planned",chipType:"NVIDIA H200 SXM",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-110",name:"Voltage Park Virginia",owner:"Voltage Park",country:"United States of America",lat:37.5728,lon:-78.637,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-111",name:"Voltage Park Location 6",owner:"Voltage Park",country:"United States of America",lat:28.3511,lon:-92.5321,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-112",name:"Voltage Park Texas Phase 2",owner:"Voltage Park",country:"United States of America",lat:31.937,lon:-99.7168,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-113",name:"Voltage Park Location 5",owner:"Voltage Park",country:"United States of America",lat:45.8671,lon:-92.0774,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-114",name:"Voltage Park Utah",owner:"Voltage Park",country:"United States of America",lat:32.9908,lon:-104.5041,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-115",name:"Voltage Park Washington",owner:"Voltage Park",country:"United States of America",lat:47.5764,lon:-122.4976,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4088,powerMW:5.7,sector:"Private"},{id:"dc-116",name:"ExxonMobil Discovery 6",owner:"ExxonMobil",country:"United States of America",lat:34.1132,lon:-86.2711,status:"existing",chipType:"NVIDIA GH200",chipCount:4032,powerMW:5.7,sector:"Private"},{id:"dc-175",name:"Tesla Training Cluster",owner:"Tesla",country:"United States of America",lat:25.1156,lon:-89.4793,status:"existing",chipType:"NVIDIA A100",chipCount:4032,powerMW:3.5,sector:"Private"},{id:"dc-57",name:"Sakura's B200s Phase 2",owner:"Sakura Internet",country:"Japan",lat:36.2048,lon:138.7529,status:"planned",chipType:"NVIDIA B200",chipCount:4e3},{id:"dc-76",name:"SoftBank Planned B200 Superpod",owner:"Softbank",country:"Japan",lat:36.6777,lon:137.7368,status:"planned",chipType:"NVIDIA B200",chipCount:4e3,powerMW:8,sector:"Private"},{id:"dc-117",name:"Telangana Yotta H1 Hyderbad AI City Cluster Phase 1",owner:"Government of Telangana",country:"India",lat:20.368,lon:77.6826,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4e3,powerMW:5.6,sector:"Public"},{id:"dc-118",name:"OneAsia OBON Clusters",owner:"OneAsia",country:"Thailand",lat:15.87,lon:101.4925,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4e3,powerMW:5.6,sector:"Private"},{id:"dc-119",name:"CoreWeave LiquidLab",owner:"CoreWeave",country:"United States of America",lat:45.8371,lon:-100.7629,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4e3,powerMW:5.6,sector:"Private"},{id:"dc-120",name:"Microsoft Azure ND H100 v5 VM",owner:"Microsoft",country:"United States of America",lat:27.0344,lon:-97.9422,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4e3,powerMW:5.8,sector:"Private"},{id:"dc-121",name:"Sweden 4k H100 Cluster",owner:"Unknown",country:"Sweden",lat:61.0009,lon:19.3131,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:4e3,powerMW:5.6,sector:"Private"},{id:"dc-122",name:"Nebius Kansas City Phase 1",owner:"Nebius AI",country:"United States of America",lat:43.1128,lon:-87.1118,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:4e3},{id:"dc-176",name:"AWS EC2 P4d",owner:"Amazon",country:"United States of America",lat:50.3234,lon:-92.1671,status:"existing",chipType:"NVIDIA A100 SXM4 40 GB",chipCount:4e3,powerMW:3.5,sector:"Private"},{id:"dc-196",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:36.0318,lon:100.2991,status:"planned",chipType:"Unknown",chipCount:4e3,powerMW:3,sector:"Public"},{id:"dc-197",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:32.9626,lon:107.0945,status:"existing",chipType:"Unknown",chipCount:4e3,powerMW:3,sector:"Public"},{id:"dc-200",name:"Intel Stability Gaudi 2",owner:"Intel",country:"United States of America",lat:31.9453,lon:-100.0841,status:"existing",chipType:"Intel Habana Gaudi2",chipCount:4e3,powerMW:4.9,sector:"Private"},{id:"dc-289",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:28.5242,lon:99.5209,status:"existing",chipType:"Unknown",chipCount:4e3,powerMW:1,sector:"Private"},{id:"dc-250",name:"Cineca Marconi-100",owner:"Cineca",country:"Italy",lat:41.6462,lon:11.2871,status:"existing",chipType:"NVIDIA V100",chipCount:3952,powerMW:2.6,sector:"Public"},{id:"dc-220",name:"Paper on AlphaCode",owner:"Google",country:"United States of America",lat:40.8779,lon:-112.7981,status:"existing",chipType:"Google TPU v4",chipCount:3750,powerMW:2.7,sector:"Private"},{id:"dc-177",name:"JUWELS-Booster",owner:"Julich Supercomputing Center",country:"Germany",lat:51.6386,lon:9.9354,status:"existing",chipType:"NVIDIA A100",chipCount:3744,powerMW:3.2,sector:"Public"},{id:"dc-167",name:"Jean Zay Supercomputer Phase 4",owner:"GENCI",country:"France",lat:43.9618,lon:3.2702,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:3704,powerMW:2.4,sector:"Public"},{id:"dc-129",name:"NFDG Andromeda Phase 2",owner:"Nat Friedman and Daniel Gross",country:"United States of America",lat:37.5301,lon:-78.6313,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:3632,powerMW:5.8,sector:"Private"},{id:"dc-130",name:"NVIDIA Coreweave MLPerf v3.0 Submission 2023",owner:"NVIDIA,CoreWeave,Inflection AI",country:"United States of America",lat:48.1796,lon:-95.2287,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:3584},{id:"dc-253",name:"TotalEnergies Pangea III",owner:"TotalEnergies",country:"France",lat:45.5566,lon:5.2402,status:"existing",chipType:"NVIDIA V100",chipCount:3384,powerMW:2.5,sector:"Private"},{id:"dc-291",name:"Eni HPC4 Phase 1",owner:"Eni",country:"Italy",lat:43.514,lon:12.1274,status:"existing",chipType:"NVIDIA P100",chipCount:3170,powerMW:2.5,sector:"Private"},{id:"dc-255",name:"Lawrence Livermore NL Lassen Phase 2",owner:"US Department of Energy",country:"United States of America",lat:37.9245,lon:-121.9071,status:"existing",chipType:"NVIDIA V100",chipCount:3168,powerMW:2.1,sector:"Public"},{id:"dc-266",name:"Jean Zay Supercomputer Phase 3",owner:"GENCI",country:"France",lat:42.7575,lon:1.7569,status:"existing",chipType:"NVIDIA A100",chipCount:3112,powerMW:2.1,sector:"Public"},{id:"dc-292",name:"CSCS Piz Daint Phase 1",owner:"ETH Domain",country:"Switzerland",lat:47.6909,lon:8.8971,status:"existing",chipType:"NVIDIA Tesla P100 PCIe 16GB",chipCount:3040,powerMW:1.8,sector:"Public"},{id:"dc-128",name:"Vultr Chicago Cluster",owner:"Vultr",country:"United States of America",lat:41.9262,lon:-87.5693,status:"existing",chipType:"AMD Instinct MI300X",chipCount:3e3,powerMW:4.6,sector:"Private"},{id:"dc-131",name:"FPT AI Factory Japan",owner:"FPT Corporation",country:"Japan",lat:35.9791,lon:136.9726,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:3e3,powerMW:4.2,sector:"Private"},{id:"dc-198",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:40.1576,lon:104.0078,status:"existing",chipType:"Unknown",chipCount:3e3,powerMW:.7,sector:"Public/Private"},{id:"dc-219",name:"Tesla Dojo 1 Phase 1",owner:"Tesla",country:"United States of America",lat:36.8293,lon:-119.6607,status:"planned",chipType:"Tesla D1 Dojo",chipCount:3e3,powerMW:2.4,sector:"Private"},{id:"dc-280",name:"Eni HPC4 Phase 2",owner:"Eni",country:"Italy",lat:41.066,lon:13.8325,status:"existing",chipType:"NVIDIA A100",chipCount:3e3,powerMW:2,sector:"Private"},{id:"dc-294",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:40.0636,lon:96.1236,status:"existing",chipType:"Unknown",chipCount:3e3,powerMW:1,sector:"Public"},{id:"dc-301",name:"Eni HPC2",owner:"Eni",country:"Italy",lat:40.1866,lon:11.6901,status:"existing",chipType:"NVIDIA Tesla K20X",chipCount:3e3,powerMW:1.4,sector:"Private"},{id:"dc-201",name:"IBM Vela",owner:"IBM",country:"United States of America",lat:52.332,lon:-97.0464,status:"existing",chipType:"NVIDIA A100 SXM4 80 GB",chipCount:2880,powerMW:2.5,sector:"Private"},{id:"dc-138",name:"KAUST Shaheen-III",owner:"King Abdullah University of Science and Technology (KAUST)",country:"Saudi Arabia",lat:22.9893,lon:45.1576,status:"planned",chipType:"NVIDIA GH200",chipCount:2816,powerMW:5.3,sector:"Public"},{id:"dc-259",name:"Lawrence Livermore NL Lassen Phase 1",owner:"US Department of Energy",country:"United States of America",lat:37.7124,lon:-121.9483,status:"existing",chipType:"NVIDIA V100",chipCount:2736,powerMW:1.9,sector:"Public"},{id:"dc-260",name:"Jean Zay Supercomputer Phase 2",owner:"GENCI",country:"France",lat:48.9308,lon:.3209,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:2696,powerMW:1.8,sector:"Public"},{id:"dc-139",name:"CEA EXA1-HE Phase 3",owner:"French Alternative Energies and Atomic Energy Commission (CEA)",country:"France",lat:44.5423,lon:1.3364,status:"existing",chipType:"NVIDIA GH200",chipCount:2688,powerMW:3.8,sector:"Public"},{id:"dc-141",name:"Los Alamos NL Venado",owner:"US Department of Energy",country:"United States of America",lat:29.0999,lon:-103.7032,status:"existing",chipType:"NVIDIA GH200",chipCount:2560,powerMW:2.8,sector:"Public"},{id:"dc-143",name:"NFDG Andromeda Phase 1",owner:"Nat Friedman and Daniel Gross",country:"United States of America",lat:37.575,lon:-78.4795,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2512,powerMW:3.6,sector:"Private"},{id:"dc-144",name:"Samsung SSC4",owner:"Samsung",country:"Korea (Republic of)",lat:35.0112,lon:127.8453,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2496,powerMW:3.5,sector:"Private"},{id:"dc-205",name:"NVIDIA Selene Phase 1",owner:"NVIDIA",country:"United States of America",lat:36.5998,lon:-119.6604,status:"existing",chipType:"NVIDIA A100",chipCount:2240,powerMW:2.4,sector:"Private"},{id:"dc-206",name:"NAVER Corp Sejong",owner:"NAVER",country:"Korea (Republic of)",lat:35.1019,lon:129.032,status:"existing",chipType:"NVIDIA A100",chipCount:2240,powerMW:1.9,sector:"Private"},{id:"dc-207",name:"Argonne NL Polaris",owner:"US Department of Energy",country:"United States of America",lat:45.6333,lon:-109.1228,status:"existing",chipType:"NVIDIA A100",chipCount:2240,powerMW:1.9,sector:"Public"},{id:"dc-265",name:"Petrobras Dragão",owner:"Petrobras",country:"Brazil",lat:-13.7621,lon:-52.4414,status:"existing",chipType:"NVIDIA V100",chipCount:2176,powerMW:1.7,sector:"Public/Private"},{id:"dc-293",name:"GSIC TSUBAME 3.0",owner:"Tokyo Institute of Technology",country:"Japan",lat:32.7347,lon:137.7961,status:"existing",chipType:"NVIDIA Tesla P100 SXM2",chipCount:2156,powerMW:1.5,sector:"Public"},{id:"dc-208",name:"Microsoft Azure Voyager-EUS2",owner:"Microsoft",country:"United States of America",lat:21.5388,lon:-91.5459,status:"existing",chipType:"NVIDIA A100",chipCount:2112,powerMW:1.8,sector:"Private"},{id:"dc-148",name:"AIST ABCI-Q",owner:"National Institute of Advanced Industrial Science and Technology (AIST)",country:"Japan",lat:35.3989,lon:139.518,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Public"},{id:"dc-149",name:"Northern Data Group Taiga Cloud NO1 Island 2",owner:"Northern Data Group",country:"Norway",lat:60.9449,lon:7.9528,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-150",name:"Sesterce Synapse Phase 1",owner:"Sesterce",country:"France",lat:46.9458,lon:4.1871,status:"existing",chipType:"NVIDIA H200 SXM",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-151",name:"NVIDIA Israel-1 Phase 2",owner:"NVIDIA",country:"Israel",lat:31.0461,lon:35.3516,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-152",name:"Northern Data Group Taiga Cloud NO1 Island 1",owner:"Northern Data Group",country:"Norway",lat:59.5754,lon:8.5473,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-153",name:"Northern Data Group Njored Taiga Cloud Island 5",owner:"Northern Data Group",country:"United Kingdom of Great Britain and Northern Ireland",lat:54.4815,lon:-3.3576,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-154",name:"Horizon Compute Baobab Phase 2",owner:"Horizon Compute",country:"United States of America",lat:47.0019,lon:-88.7726,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2048,powerMW:2.9,sector:"Private"},{id:"dc-204",name:"Microsoft Ares/Maia",owner:"Microsoft",country:"United States of America",lat:39.8165,lon:-80.2514,status:"existing",chipType:"Maia 100 (M100)",chipCount:2048,powerMW:2.1,sector:"Private"},{id:"dc-209",name:"Softbank SuperPOD",owner:"Softbank",country:"Japan",lat:33.939,lon:139.3094,status:"existing",chipType:"NVIDIA A100",chipCount:2048,powerMW:1.7,sector:"Private"},{id:"dc-245",name:"Paper on CoCa",owner:"Google",country:"United States of America",lat:25.4557,lon:-109.5783,status:"existing",chipType:"Google TPU v4",chipCount:2048,powerMW:1.5,sector:"Private"},{id:"dc-267",name:"AWS Fast BERT Training",owner:"Amazon",country:"United States of America",lat:43.0742,lon:-76.7339,status:"existing",chipType:"NVIDIA V100",chipCount:2048,powerMW:1.4,sector:"Private"},{id:"dc-155",name:"SoftBank CHIE-2",owner:"Softbank",country:"Japan",lat:37.8469,lon:137.8129,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2040,powerMW:2.9,sector:"Private"},{id:"dc-156",name:"SoftBank CHIE-3",owner:"Softbank",country:"Japan",lat:34.5195,lon:137.3756,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2040,powerMW:2.9,sector:"Private"},{id:"dc-157",name:"Sakura's H100s Phase 1",owner:"Sakura Internet",country:"Japan",lat:36.923,lon:140.2263,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2016,powerMW:2.9,sector:"Public/Private"},{id:"dc-210",name:"Petrobras Pegasus (Pégaso)",owner:"Petrobras",country:"Brazil",lat:-14.235,lon:-51.4253,status:"existing",chipType:"NVIDIA A100",chipCount:2016,powerMW:1.8,sector:"Public/Private"},{id:"dc-268",name:"Taiwania 2",owner:"National Applied Research Laboratories Taiwan",country:"Taiwan",lat:24.5705,lon:121.6301,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:2016,powerMW:1.5,sector:"Public"},{id:"dc-93",name:"KDDI Sharp Sakai",owner:"KDDI",country:"Japan",lat:37.0775,lon:138.9225,status:"planned",chipType:"NVIDIA GB200",chipCount:2e3,powerMW:4.8,sector:"Private"},{id:"dc-158",name:"Quebec 2k H100 Cluster",owner:"Unknown",country:"Canada",lat:56.1304,lon:-105.8468,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:2e3,powerMW:2.8,sector:"Private"},{id:"dc-159",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:32.3916,lon:103.7386,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:3,sector:"Private"},{id:"dc-160",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.24,lon:107.0298,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:3,sector:"Private"},{id:"dc-212",name:"ND A100 v4",owner:"Microsoft",country:"United States of America",lat:31.4469,lon:-111.2178,status:"existing",chipType:"NVIDIA A100",chipCount:2e3},{id:"dc-213",name:"ExxonMobil Discovery 5",owner:"ExxonMobil",country:"United States of America",lat:30.6994,lon:-80.2841,status:"existing",chipType:"NVIDIA A100 SXM4 40 GB",chipCount:2e3,powerMW:1.7,sector:"Private"},{id:"dc-222",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:30.8826,lon:105.2992,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:1,sector:"Private"},{id:"dc-223",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:40.4516,lon:106.8454,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:.3,sector:"Public"},{id:"dc-231",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:33.4528,lon:109.3614,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:1,sector:"Public/Private"},{id:"dc-244",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:37.544,lon:97.9169,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:1},{id:"dc-269",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.2255,lon:111.4676,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:1,sector:"Private"},{id:"dc-300",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:27.1226,lon:107.3762,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:1,sector:"Public"},{id:"dc-304",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:31.7623,lon:95.4042,status:"existing",chipType:"Unknown",chipCount:2e3,powerMW:2,sector:"Public"},{id:"dc-307",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:44.6086,lon:99.1454,status:"existing",chipType:"Unknown",chipCount:2e3,sector:"Public/Private"},{id:"dc-235",name:"Microsoft Explorer-WUS3",owner:"Microsoft",country:"United States of America",lat:33.1864,lon:-112.1398,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:1920,powerMW:2,sector:"Private"},{id:"dc-162",name:"CEA EXA1-HE Phase 2",owner:"French Alternative Energies and Atomic Energy Commission (CEA)",country:"France",lat:47.1078,lon:.0888,status:"existing",chipType:"NVIDIA GH200",chipCount:1908,powerMW:2,sector:"Public"},{id:"dc-217",name:"Samsung SSC-21",owner:"Samsung",country:"Korea (Republic of)",lat:37.5499,lon:127.3269,status:"existing",chipType:"NVIDIA A100",chipCount:1760,powerMW:1.5,sector:"Private"},{id:"dc-218",name:"Tesla Auto-Labeling Cluster",owner:"Tesla",country:"United States of America",lat:45.7402,lon:-80.7307,status:"existing",chipType:"NVIDIA A100",chipCount:1752,powerMW:1.5,sector:"Private"},{id:"dc-299",name:"Energy Company DD",owner:"Unknown",country:"United States of America",lat:54.8858,lon:-107.0499,status:"existing",chipType:"NVIDIA Tesla K80",chipCount:1728,powerMW:1.2,sector:"Private"},{id:"dc-295",name:"JAMSTEC ZettaScaler-2.0 Gyoukou",owner:"Japan Agency for Marine-Earth Science and Technology",country:"Japan",lat:38.5831,lon:141.0873,status:"existing",chipType:"PEZY-SC2",chipCount:1600,powerMW:.3,sector:"Public"},{id:"dc-221",name:"Yandex Chervonenkis",owner:"Yandex",country:"Russia",lat:55.7558,lon:38.1173,status:"existing",chipType:"NVIDIA A100 SXM4 80 GB",chipCount:1592,powerMW:1.4,sector:"Private"},{id:"dc-254",name:"Paper on Flamingo",owner:"Google",country:"United States of America",lat:51.5684,lon:-83.5642,status:"existing",chipType:"Google TPU v4",chipCount:1536,powerMW:1.1,sector:"Private"},{id:"dc-168",name:"Nebius ISEG",owner:"Nebius AI",country:"Finland",lat:62.7968,lon:26.4178,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1520,powerMW:2.2,sector:"Private"},{id:"dc-169",name:"Sandia NL El Dorado",owner:"US Department of Energy",country:"United States of America",lat:25.3988,lon:-101.1647,status:"existing",chipType:"AMD Instinct MI300A",chipCount:1520,powerMW:1.9,sector:"Public"},{id:"dc-270",name:"RPI AiMOS",owner:"Rensselaer Polytechnic Institute",country:"United States of America",lat:40.5234,lon:-74.0366,status:"existing",chipType:"NVIDIA V100",chipCount:1512,powerMW:.9,sector:"Public"},{id:"dc-303",name:"Moscow State University Lomonosov 2",owner:"Moscow State Univeristy",country:"Russia",lat:55.5301,lon:36.337,status:"existing",chipType:"NVIDIA Tesla K40m",chipCount:1472,powerMW:.9,sector:"Public"},{id:"dc-247",name:"GENCI Adastra",owner:"GENCI",country:"France",lat:44.7776,lon:-.2978,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:1352,powerMW:1.6,sector:"Public"},{id:"dc-227",name:"Microsoft Azure Pioneer-WUS2",owner:"Microsoft",country:"United States of America",lat:47.6314,lon:-122.5574,status:"existing",chipType:"NVIDIA A100",chipCount:1312,powerMW:1.1,sector:"Private"},{id:"dc-228",name:"Microsoft Azure Pioneer-WEU",owner:"Microsoft",country:"Netherlands",lat:52.1326,lon:5.7913,status:"existing",chipType:"NVIDIA A100",chipCount:1312,powerMW:1.1,sector:"Private"},{id:"dc-229",name:"Microsoft Azure Pioneer-EUS",owner:"Microsoft",country:"United States of America",lat:37.4165,lon:-78.7928,status:"existing",chipType:"NVIDIA A100",chipCount:1312,powerMW:1.1,sector:"Private"},{id:"dc-230",name:"Microsoft Azure Pioneer-SCUS",owner:"Microsoft",country:"United States of America",lat:31.8383,lon:-99.7318,status:"existing",chipType:"NVIDIA A100",chipCount:1312,powerMW:1.1,sector:"Private"},{id:"dc-276",name:"G42 Artemis",owner:"G42",country:"United Arab Emirates",lat:25.0662,lon:53.4078,status:"existing",chipType:"NVIDIA V100",chipCount:1296,powerMW:1.2,sector:"Public/Private"},{id:"dc-174",name:"Core42 SuperPOD",owner:"G42",country:"United Arab Emirates",lat:23.1984,lon:52.5675,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1272,powerMW:1.8,sector:"Public/Private"},{id:"dc-279",name:"Microsoft Azure Immunity Bio",owner:"Microsoft",country:"United States of America",lat:18.3354,lon:-87.9444,status:"existing",chipType:"NVIDIA V100",chipCount:1250,powerMW:.8,sector:"Private"},{id:"dc-252",name:"KT Internal MI250 Cluster",owner:"KT",country:"Korea (Republic of)",lat:33.642,lon:128.8234,status:"existing",chipType:"AMD Radeon Instinct MI250X",chipCount:1200,powerMW:1.3,sector:"Private"},{id:"dc-281",name:"SberCloud Christofari",owner:"SberCloud",country:"Russia",lat:56.6285,lon:38.2869,status:"existing",chipType:"NVIDIA V100",chipCount:1200},{id:"dc-179",name:"JCAHPC Miyabi",owner:"Joint Center for Advanced High Performance Computing (JCAHPC)",country:"Japan",lat:37.085,lon:136.128,status:"existing",chipType:"NVIDIA GH200",chipCount:1120,powerMW:1.6,sector:"Public"},{id:"dc-236",name:"Naver DGX Superpod",owner:"NAVER",country:"Korea (Republic of)",lat:34.2225,lon:126.8896,status:"existing",chipType:"NVIDIA A100",chipCount:1120,powerMW:1,sector:"Private"},{id:"dc-237",name:"University of Florida HiPerGator 3.0 Superpod",owner:"University of Florida",country:"United States of America",lat:22.5912,lon:-85.5606,status:"existing",chipType:"NVIDIA A100",chipCount:1120,powerMW:1,sector:"Public"},{id:"dc-238",name:"Yandex Lyapunov",owner:"Yandex",country:"Russia",lat:56.2287,lon:37.1012,status:"existing",chipType:"NVIDIA A100 SXM4 40 GB",chipCount:1096,powerMW:.9,sector:"Private"},{id:"dc-239",name:"Yandex Galushkin",owner:"Yandex",country:"Russia",lat:54.8592,lon:37.6957,status:"existing",chipType:"NVIDIA A100 SXM4 80 GB",chipCount:1088,powerMW:.9,sector:"Private"},{id:"dc-282",name:"Petrobras Atlas",owner:"Petrobras",country:"Brazil",lat:-15.1316,lon:-51.8469,status:"existing",chipType:"NVIDIA V100",chipCount:1088,powerMW:1,sector:"Public/Private"},{id:"dc-283",name:"Japan Atomic Energy Agency and Quantum and Radiological Science and Technology HPE SGI8600",owner:"Japan Atomic Energy Agency",country:"Japan",lat:35.5338,lon:141.2794,status:"existing",chipType:"NVIDIA Tesla V100 SXM2",chipCount:1088,powerMW:.7,sector:"Public"},{id:"dc-284",name:"Jean Zay Supercomputer Phase 1",owner:"GENCI",country:"France",lat:48.6059,lon:5.0481,status:"existing",chipType:"NVIDIA Tesla V100 SXM2 32 GB",chipCount:1044,powerMW:.7,sector:"Public"},{id:"dc-241",name:"SK Telecom Titan Phase 2",owner:"SK Telecom",country:"Korea (Republic of)",lat:36.626,lon:129.7403,status:"existing",chipType:"NVIDIA A100",chipCount:1040,powerMW:.9,sector:"Private"},{id:"dc-181",name:"Ubilink.AI Supercomputer",owner:"Ubilink AI",country:"Taiwan",lat:22.8012,lon:121.0389,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.8,sector:"Private"},{id:"dc-182",name:"LeptonAI H100 Cluster",owner:"Lepton AI",country:"United States of America",lat:34.6418,lon:-81.8271,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-183",name:"IBM Blue Vela",owner:"IBM",country:"United States of America",lat:48.4352,lon:-104.4182,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-184",name:"SIAM AI HGX",owner:"SIAM AI",country:"Thailand",lat:16.3429,lon:100.4764,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-185",name:"Horizon Compute Baobab Phase 1",owner:"Horizon Compute",country:"United States of America",lat:22.6454,lon:-96.9767,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-186",name:"Chan Zuckerberg Initiative GPU Cluster",owner:"CZ Biohub Network,CoreWeave",country:"United States of America",lat:47.0214,lon:-84.8749,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.4,sector:"Public"},{id:"dc-187",name:"GreenNode Bangkok Cluster",owner:"VNG Corporation",country:"Thailand",lat:14.9734,lon:101.0709,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-188",name:"NVIDIA Eos Phase 1",owner:"NVIDIA",country:"United States of America",lat:37.0902,lon:-110.6129,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024},{id:"dc-189",name:"Sustainable Metal Cloud Singapore Phase 1",owner:"SMC - Sustainable Metal Cloud",country:"Singapore",lat:1.825,lon:103.3037,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-190",name:"Denvr Dataworks H100",owner:"Denvr Dataworks",country:"United States of America",lat:26.8888,lon:-84.58,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-191",name:"NVIDIA Israel-1 Phase 1",owner:"NVIDIA",country:"Israel",lat:31.519,lon:34.3355,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1024,powerMW:1.5,sector:"Private"},{id:"dc-242",name:"Paper on HyperCLOVA",owner:"NAVER",country:"Korea (Republic of)",lat:36.788,lon:125.642,status:"existing",chipType:"NVIDIA A100",chipCount:1024,powerMW:.9,sector:"Private"},{id:"dc-261",name:"Paper on GLaM",owner:"Google",country:"United States of America",lat:34.5971,lon:-114.6495,status:"existing",chipType:"Google TPU v4",chipCount:1024,powerMW:.7,sector:"Private"},{id:"dc-262",name:"Paper on ViT-22B",owner:"Google",country:"United States of America",lat:26.0202,lon:-79.9033,status:"existing",chipType:"Google TPU v4",chipCount:1024,powerMW:.7,sector:"Private"},{id:"dc-263",name:"Paper on PaLI",owner:"Google",country:"United States of America",lat:56.128,lon:-99.9335,status:"existing",chipType:"Google TPU v4",chipCount:1024,powerMW:.7,sector:"Private"},{id:"dc-264",name:"Paper on Minerva",owner:"Google",country:"United States of America",lat:20.0295,lon:-105.5629,status:"existing",chipType:"Google TPU v4",chipCount:1024,powerMW:.7,sector:"Private"},{id:"dc-285",name:"Preferred Networks MN-2",owner:"Preferred Networks Inc",country:"Japan",lat:38.908,lon:136.3601,status:"existing",chipType:"NVIDIA V100",chipCount:1024,powerMW:.7,sector:"Private"},{id:"dc-286",name:"Paper on RoBERTa",owner:"Meta AI",country:"United States of America",lat:56.3539,lon:-88.7015,status:"existing",chipType:"NVIDIA Tesla V100 DGXS 32 GB",chipCount:1024,powerMW:.6,sector:"Private"},{id:"dc-192",name:"Scaleway Nabuchodonosor",owner:"Iliad SA",country:"France",lat:48.8026,lon:3.0256,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1016,powerMW:1.5,sector:"Private"},{id:"dc-164",name:"Gcore data center Phase 2",owner:"Gcore,NHN Corporation",country:"Korea (Republic of)",lat:36.7805,lon:128.4365,status:"planned",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e3,powerMW:1.9,sector:"Private"},{id:"dc-173",name:"TensorWave MI300X Cluster 1 Phase 1",owner:"TensorWave",country:"United States of America",lat:41.6391,lon:-108.2108,status:"existing",chipType:"AMD Instinct MI300X",chipCount:1e3,powerMW:1.5,sector:"Private"},{id:"dc-193",name:"Hut 8 H100 Cluster",owner:"Hut 8",country:"United States of America",lat:41.6717,lon:-87.6422,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e3,powerMW:1.4,sector:"Private"},{id:"dc-194",name:"Voltage Park Texas Phase 1",owner:"Voltage Park",country:"United States of America",lat:31.7805,lon:-100.1448,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e3,powerMW:1.4,sector:"Private"},{id:"dc-195",name:"NHN Cloud's National AI Data Center",owner:"NHN Corporation",country:"Korea (Republic of)",lat:35.6821,lon:126.4866,status:"existing",chipType:"NVIDIA H100 SXM5 80GB",chipCount:1e3,powerMW:1.5,sector:"Public/Private"},{id:"dc-233",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:30.1296,lon:102.1091,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:1},{id:"dc-256",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:30.211,lon:107.7953,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:.5,sector:"Private"},{id:"dc-257",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:42.6569,lon:105.3936,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:.6,sector:"Public/Private"},{id:"dc-258",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:31.5395,lon:98.5626,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:.6,sector:"Public/Private"},{id:"dc-273",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:28.1617,lon:104.1954,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:1,sector:"Private"},{id:"dc-274",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:41.6862,lon:109.5326,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:1,sector:"Private"},{id:"dc-275",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:35.1557,lon:96.1262,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:1,sector:"Private"},{id:"dc-278",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:30.809,lon:110.7802,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:.8,sector:"Private"},{id:"dc-290",name:"Anonymized Chinese System",owner:"Unknown",country:"China",lat:38.1652,lon:112.7921,status:"existing",chipType:"Unknown",chipCount:1e3,powerMW:.3,sector:"Public"}],GS={feeds:300*1e3,markets:240*1e3,predictions:300*1e3,ais:600*1e3},xn=["#44ff88","#ff8844","#4488ff","#ff44ff","#ffff44","#ff4444","#44ffff","#88ff44","#ff88ff","#88ffff"],VS={panels:"worldmonitor-panels",monitors:"worldmonitor-monitors",mapLayers:"worldmonitor-layers",disabledFeeds:"worldmonitor-disabled-feeds"},p=t=>`/api/rss-proxy?url=${encodeURIComponent(t)}`,re=t=>p(t),Ms={Reuters:1,"AP News":1,AFP:1,Bloomberg:1,"BBC World":2,"BBC Middle East":2,"Guardian World":2,"Guardian ME":2,"NPR News":2,"CNN World":2,CNBC:2,MarketWatch:2,"Al Jazeera":2,"Financial Times":2,Politico:2,EuroNews:2,"France 24":2,"Le Monde":2,"El País":2,"El Mundo":2,"BBC Mundo":2,Tagesschau:1,"Der Spiegel":2,"Die Zeit":2,"DW News":2,ANSA:1,"Corriere della Sera":2,Repubblica:2,"NOS Nieuws":1,NRC:2,"De Telegraaf":2,"SVT Nyheter":1,"Dagens Nyheter":2,"Svenska Dagbladet":2,"Reuters World":1,"Reuters Business":1,"OpenAI News":3,"White House":1,"State Dept":1,Pentagon:1,"UN News":1,CISA:1,Treasury:2,DOJ:2,DHS:2,CDC:2,FEMA:2,"Defense One":3,"Breaking Defense":3,"The War Zone":3,"Defense News":3,Janes:3,"Military Times":2,"Task & Purpose":3,"USNI News":2,"Oryx OSINT":2,"UK MOD":1,"Foreign Policy":3,"The Diplomat":3,Bellingcat:3,"Krebs Security":3,"Federal Reserve":3,SEC:3,"MIT Tech Review":3,"Ars Technica":3,"Atlantic Council":3,"Foreign Affairs":3,CrisisWatch:3,CSIS:3,RAND:3,Brookings:3,Carnegie:3,IAEA:1,WHO:1,UNHCR:1,Xinhua:3,TASS:3,"Layoffs.fyi":3,"BBC Persian":2,"Iran International":3,"Fars News":3,"MIIT (China)":1,"MOFCOM (China)":1,"BBC Turkce":2,"DW Turkish":2,Hurriyet:2,TVN24:2,"Polsat News":2,Rzeczpospolita:2,"BBC Russian":2,Meduza:2,"Novaya Gazeta Europe":2,"Bangkok Post":2,"Thai PBS":2,"ABC News Australia":2,"Guardian Australia":2,VnExpress:2,"Tuoi Tre News":2,"Y Combinator Blog":2,"a16z Blog":2,"Sequoia Blog":2,"Crunchbase News":2,"CB Insights":2,"PitchBook News":2,"The Information":2,"EU Startups":3,"Tech.eu":3,"Sifted (Europe)":3,"The Next Web":3,"Tech in Asia":3,"TechCabal (Africa)":3,"Inc42 (India)":3,YourStory:3,"Paul Graham Essays":2,Stratechery:2,"e27 (SEA)":3,DealStreetAsia:3,"Pandaily (China)":3,"36Kr English":3,"TechNode (China)":3,"China Tech News":3,"The Bridge (Japan)":3,"Japan Tech News":3,"Nikkei Tech":2,"NHK World":2,"Nikkei Asia":2,"Korea Tech News":3,"KED Global":3,"Entrackr (India)":3,"India Tech News":3,"Taiwan Tech News":3,"GloNewswire (Taiwan)":4,"La Silla Vacía":3,"LATAM Tech News":3,"Startups.co (LATAM)":3,"Contxto (LATAM)":3,"Brazil Tech News":3,"Mexico Tech News":3,"LATAM Fintech":3,"Disrupt Africa":3,"Wamda (MENA)":3,Magnitt:3,"Brookings Tech":3,"CSIS Tech":3,"MIT Tech Policy":3,"Stanford HAI":2,"AI Now Institute":3,"OECD Digital":2,"Bruegel (EU)":3,"Chatham House Tech":3,"ISEAS (Singapore)":3,"ORF Tech (India)":3,"RIETI (Japan)":3,"Lowy Institute":3,"China Tech Analysis":3,DigiChina:2,RUSI:2,"Wilson Center":3,GMF:3,"Stimson Center":3,CNAS:2,"Arms Control Assn":2,"Bulletin of Atomic Scientists":2,"FAO GIEWS":2,"EU ISS":3,"War on the Rocks":2,AEI:3,"Responsible Statecraft":3,FPRI:3,Jamestown:3,"Politico Tech":2,"AI Regulation":3,"Tech Antitrust":3,"EFF News":3,"EU Digital Policy":3,"Euractiv Digital":3,"EU Commission Digital":2,"China Tech Policy":3,"UK Tech Policy":3,"India Tech Policy":3,"Acquired Podcast":2,"All-In Podcast":2,"a16z Podcast":2,"This Week in Startups":3,"The Twenty Minute VC":2,"Lex Fridman Tech":3,"The Vergecast":3,"Decoder (Verge)":3,"Hard Fork (NYT)":2,"Pivot (Vox)":2,"Benedict Evans":2,"The Pragmatic Engineer":2,"Lenny Newsletter":2,"AI Podcast (NVIDIA)":3,"Gradient Dissent":3,"Eye on AI":3,"How I Built This":2,"Masters of Scale":2,"The Pitch":3,"Hacker News":4,"The Verge":4,"The Verge AI":4,"VentureBeat AI":4,"Yahoo Finance":4,"TechCrunch Layoffs":4,"ArXiv AI":4,"AI News":4,"Layoffs News":4};function Ht(t){return Ms[t]??4}const Ns={Reuters:"wire","Reuters World":"wire","Reuters Business":"wire","AP News":"wire",AFP:"wire",Bloomberg:"wire","White House":"gov","State Dept":"gov",Pentagon:"gov",Treasury:"gov",DOJ:"gov",DHS:"gov",CDC:"gov",FEMA:"gov","Federal Reserve":"gov",SEC:"gov","UN News":"gov",CISA:"gov","Defense One":"intel","Breaking Defense":"intel","The War Zone":"intel","Defense News":"intel",Janes:"intel","Military Times":"intel","Task & Purpose":"intel","USNI News":"intel","Oryx OSINT":"intel","UK MOD":"gov",Bellingcat:"intel","Krebs Security":"intel","Foreign Policy":"intel","The Diplomat":"intel","Atlantic Council":"intel","Foreign Affairs":"intel",CrisisWatch:"intel",CSIS:"intel",RAND:"intel",Brookings:"intel",Carnegie:"intel",IAEA:"gov",WHO:"gov",UNHCR:"gov",Xinhua:"wire",TASS:"wire","NHK World":"mainstream","Nikkei Asia":"market","BBC World":"mainstream","BBC Middle East":"mainstream","Guardian World":"mainstream","Guardian ME":"mainstream","NPR News":"mainstream","Al Jazeera":"mainstream","CNN World":"mainstream",Politico:"mainstream",EuroNews:"mainstream","France 24":"mainstream","Le Monde":"mainstream","El País":"mainstream","El Mundo":"mainstream","BBC Mundo":"mainstream",Tagesschau:"mainstream","Der Spiegel":"mainstream","Die Zeit":"mainstream","DW News":"mainstream",ANSA:"wire","Corriere della Sera":"mainstream",Repubblica:"mainstream","NOS Nieuws":"mainstream",NRC:"mainstream","De Telegraaf":"mainstream","SVT Nyheter":"mainstream","Dagens Nyheter":"mainstream","Svenska Dagbladet":"mainstream",CNBC:"market",MarketWatch:"market","Yahoo Finance":"market","Financial Times":"market","Hacker News":"tech","Ars Technica":"tech","The Verge":"tech","The Verge AI":"tech","MIT Tech Review":"tech","TechCrunch Layoffs":"tech","AI News":"tech","ArXiv AI":"tech","VentureBeat AI":"tech","Layoffs.fyi":"tech","Layoffs News":"tech","EU Startups":"tech","Tech.eu":"tech","Sifted (Europe)":"tech","The Next Web":"tech","Tech in Asia":"tech","e27 (SEA)":"tech",DealStreetAsia:"tech","Pandaily (China)":"tech","36Kr English":"tech","TechNode (China)":"tech","The Bridge (Japan)":"tech","Nikkei Tech":"tech","Inc42 (India)":"tech",YourStory:"tech","TechCabal (Africa)":"tech","Disrupt Africa":"tech","Wamda (MENA)":"tech",Magnitt:"tech","Brookings Tech":"intel","CSIS Tech":"intel","Stanford HAI":"intel","AI Now Institute":"intel","OECD Digital":"intel","Bruegel (EU)":"intel","Chatham House Tech":"intel",DigiChina:"intel","Lowy Institute":"intel","EFF News":"intel","Politico Tech":"intel",RUSI:"intel","Wilson Center":"intel",GMF:"intel","Stimson Center":"intel",CNAS:"intel","Arms Control Assn":"intel","Bulletin of Atomic Scientists":"intel","FAO GIEWS":"gov","EU ISS":"intel","War on the Rocks":"intel",AEI:"intel","Responsible Statecraft":"intel",FPRI:"intel",Jamestown:"intel","Acquired Podcast":"tech","All-In Podcast":"tech","a16z Podcast":"tech","This Week in Startups":"tech","The Twenty Minute VC":"tech","Hard Fork (NYT)":"tech","Pivot (Vox)":"tech",Stratechery:"tech","Benedict Evans":"tech","How I Built This":"tech","Masters of Scale":"tech"};function Mo(t){return Ns[t]??"other"}const No={Xinhua:{risk:"high",stateAffiliated:"China",note:"Official CCP news agency"},TASS:{risk:"high",stateAffiliated:"Russia",note:"Russian state news agency"},RT:{risk:"high",stateAffiliated:"Russia",note:"Russian state media, banned in EU"},Sputnik:{risk:"high",stateAffiliated:"Russia",note:"Russian state media"},CGTN:{risk:"high",stateAffiliated:"China",note:"Chinese state broadcaster"},"Press TV":{risk:"high",stateAffiliated:"Iran",note:"Iranian state media"},KCNA:{risk:"high",stateAffiliated:"North Korea",note:"North Korean state media"},"Al Jazeera":{risk:"medium",stateAffiliated:"Qatar",note:"Qatari state-funded, independent editorial"},"Al Arabiya":{risk:"medium",stateAffiliated:"Saudi Arabia",note:"Saudi-owned, reflects Gulf perspective"},"TRT World":{risk:"medium",stateAffiliated:"Turkey",note:"Turkish state broadcaster"},"France 24":{risk:"medium",stateAffiliated:"France",note:"French state-funded, editorially independent"},EuroNews:{risk:"low",note:"European public broadcaster consortium",knownBiases:["Pro-EU"]},"Le Monde":{risk:"low",note:"French newspaper of record"},"DW News":{risk:"medium",stateAffiliated:"Germany",note:"German state-funded, editorially independent"},"Voice of America":{risk:"medium",stateAffiliated:"USA",note:"US government-funded"},"Kyiv Independent":{risk:"medium",knownBiases:["Pro-Ukraine"],note:"Ukrainian perspective on Russia-Ukraine war"},"Moscow Times":{risk:"medium",knownBiases:["Anti-Kremlin"],note:"Independent, critical of Russian government"},Reuters:{risk:"low",note:"Wire service, strict editorial standards"},"AP News":{risk:"low",note:"Wire service, nonprofit cooperative"},AFP:{risk:"low",note:"Wire service, editorially independent"},"BBC World":{risk:"low",note:"Public broadcaster, editorial independence charter"},"BBC Middle East":{risk:"low",note:"Public broadcaster, editorial independence charter"},"Guardian World":{risk:"low",knownBiases:["Center-left"],note:"Scott Trust ownership, no shareholders"},"Financial Times":{risk:"low",note:"Business focus, Nikkei-owned"},Bellingcat:{risk:"low",note:"Open-source investigations, methodology transparent"}};function Hn(t){return No[t]??{risk:"low"}}const Ro={politics:[{name:"BBC World",url:p("https://feeds.bbci.co.uk/news/world/rss.xml")},{name:"NPR News",url:p("https://feeds.npr.org/1001/rss.xml")},{name:"Guardian World",url:p("https://www.theguardian.com/world/rss")},{name:"AP News",url:p("https://news.google.com/rss/search?q=site:apnews.com&hl=en-US&gl=US&ceid=US:en")},{name:"France 24",url:{en:p("https://www.france24.com/en/rss"),fr:p("https://www.france24.com/fr/rss"),es:p("https://www.france24.com/es/rss"),ar:p("https://www.france24.com/ar/rss")}},{name:"EuroNews",url:{en:p("https://www.euronews.com/rss?format=xml"),fr:p("https://fr.euronews.com/rss?format=xml"),de:p("https://de.euronews.com/rss?format=xml"),it:p("https://it.euronews.com/rss?format=xml"),es:p("https://es.euronews.com/rss?format=xml"),pt:p("https://pt.euronews.com/rss?format=xml"),ru:p("https://ru.euronews.com/rss?format=xml")}},{name:"Le Monde",url:{en:p("https://www.lemonde.fr/en/rss/une.xml"),fr:p("https://www.lemonde.fr/rss/une.xml")}},{name:"Reuters World",url:p("https://news.google.com/rss/search?q=site:reuters.com+world&hl=en-US&gl=US&ceid=US:en")},{name:"Politico",url:p("https://news.google.com/rss/search?q=site:politico.com+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"The Diplomat",url:p("https://thediplomat.com/feed/")},{name:"El País",url:p("https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/portada"),lang:"es"},{name:"El Mundo",url:p("https://e00-elmundo.uecdn.es/elmundo/rss/portada.xml"),lang:"es"},{name:"BBC Mundo",url:p("https://www.bbc.com/mundo/index.xml"),lang:"es"},{name:"Tagesschau",url:p("https://www.tagesschau.de/xml/rss2/"),lang:"de"},{name:"Der Spiegel",url:p("https://www.spiegel.de/schlagzeilen/tops/index.rss"),lang:"de"},{name:"Die Zeit",url:p("https://newsfeed.zeit.de/index"),lang:"de"},{name:"DW News",url:{en:p("https://rss.dw.com/xml/rss-en-all"),de:p("https://rss.dw.com/xml/rss-de-all"),es:p("https://rss.dw.com/xml/rss-es-all")}},{name:"ANSA",url:p("https://www.ansa.it/sito/notizie/topnews/topnews_rss.xml"),lang:"it"},{name:"Corriere della Sera",url:p("https://xml2.corriereobjects.it/rss/incipit.xml"),lang:"it"},{name:"Repubblica",url:p("https://www.repubblica.it/rss/homepage/rss2.0.xml"),lang:"it"},{name:"NOS Nieuws",url:p("https://feeds.nos.nl/nosnieuwsalgemeen"),lang:"nl"},{name:"NRC",url:p("https://www.nrc.nl/rss/"),lang:"nl"},{name:"De Telegraaf",url:p("https://www.telegraaf.nl/rss"),lang:"nl"},{name:"SVT Nyheter",url:p("https://www.svt.se/nyheter/rss.xml"),lang:"sv"},{name:"Dagens Nyheter",url:p("https://www.dn.se/rss/senaste-nytt/"),lang:"sv"},{name:"Svenska Dagbladet",url:p("https://www.svd.se/feed/articles.rss"),lang:"sv"},{name:"BBC Turkce",url:p("https://feeds.bbci.co.uk/turkce/rss.xml"),lang:"tr"},{name:"DW Turkish",url:p("https://rss.dw.com/xml/rss-tur-all"),lang:"tr"},{name:"Hurriyet",url:p("https://www.hurriyet.com.tr/rss/anasayfa"),lang:"tr"},{name:"TVN24",url:p("https://tvn24.pl/najwazniejsze.xml"),lang:"pl"},{name:"Polsat News",url:p("https://www.polsatnews.pl/rss/wszystkie.xml"),lang:"pl"},{name:"Rzeczpospolita",url:p("https://www.rp.pl/rss_main"),lang:"pl"},{name:"BBC Russian",url:p("https://feeds.bbci.co.uk/russian/rss.xml"),lang:"ru"},{name:"Meduza",url:p("https://meduza.io/rss/all"),lang:"ru"},{name:"Novaya Gazeta Europe",url:p("https://novayagazeta.eu/feed/rss"),lang:"ru"},{name:"Bangkok Post",url:p("https://www.bangkokpost.com/rss"),lang:"th"},{name:"Thai PBS",url:p("https://news.google.com/rss/search?q=site:thaipbsworld.com+when:2d&hl=th&gl=TH&ceid=TH:th"),lang:"th"},{name:"VnExpress",url:p("https://vnexpress.net/rss"),lang:"vi"},{name:"Tuoi Tre News",url:p("https://news.google.com/rss/search?q=site:tuoitrenews.vn+when:2d&hl=vi&gl=VN&ceid=VN:vi"),lang:"vi"}],middleeast:[{name:"BBC Middle East",url:p("https://feeds.bbci.co.uk/news/world/middle_east/rss.xml")},{name:"Al Jazeera",url:{en:p("https://www.aljazeera.com/xml/rss/all.xml"),ar:p("https://www.aljazeera.net/aljazeerarss/a7c186be-1adb-4b11-a982-4783e765316e/4e17ecdc-8fb9-40de-a5d6-d00f72384a51")}},{name:"Al Arabiya",url:p("https://news.google.com/rss/search?q=site:english.alarabiya.net+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"Guardian ME",url:p("https://www.theguardian.com/world/middleeast/rss")},{name:"CNN World",url:p("http://rss.cnn.com/rss/cnn_world.rss")},{name:"BBC Persian",url:p("http://feeds.bbci.co.uk/persian/tv-and-radio-37434376/rss.xml")},{name:"Iran International",url:p("https://news.google.com/rss/search?q=site:iranintl.com+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"Fars News",url:p("https://news.google.com/rss/search?q=site:farsnews.ir+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"L'Orient-Le Jour",url:p("https://www.lorientlejour.com/rss"),lang:"fr"},{name:"Haaretz",url:p("https://news.google.com/rss/search?q=site:haaretz.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Arab News",url:p("https://news.google.com/rss/search?q=site:arabnews.com+when:7d&hl=en-US&gl=US&ceid=US:en")}],tech:[{name:"Hacker News",url:p("https://hnrss.org/frontpage")},{name:"Ars Technica",url:p("https://feeds.arstechnica.com/arstechnica/technology-lab")},{name:"The Verge",url:p("https://www.theverge.com/rss/index.xml")},{name:"MIT Tech Review",url:p("https://www.technologyreview.com/feed/")}],ai:[{name:"AI News",url:p('https://news.google.com/rss/search?q=(OpenAI+OR+Anthropic+OR+Google+AI+OR+"large+language+model"+OR+ChatGPT)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"VentureBeat AI",url:p("https://venturebeat.com/category/ai/feed/")},{name:"The Verge AI",url:p("https://www.theverge.com/rss/ai-artificial-intelligence/index.xml")},{name:"MIT Tech Review",url:p("https://www.technologyreview.com/topic/artificial-intelligence/feed")},{name:"ArXiv AI",url:p("https://export.arxiv.org/rss/cs.AI")}],finance:[{name:"CNBC",url:p("https://www.cnbc.com/id/100003114/device/rss/rss.html")},{name:"MarketWatch",url:p("https://news.google.com/rss/search?q=site:marketwatch.com+markets+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Yahoo Finance",url:p("https://finance.yahoo.com/news/rssindex")},{name:"Financial Times",url:p("https://www.ft.com/rss/home")},{name:"Reuters Business",url:p("https://news.google.com/rss/search?q=site:reuters.com+business+markets&hl=en-US&gl=US&ceid=US:en")}],gov:[{name:"White House",url:p("https://news.google.com/rss/search?q=site:whitehouse.gov&hl=en-US&gl=US&ceid=US:en")},{name:"State Dept",url:p('https://news.google.com/rss/search?q=site:state.gov+OR+"State+Department"&hl=en-US&gl=US&ceid=US:en')},{name:"Pentagon",url:p("https://news.google.com/rss/search?q=site:defense.gov+OR+Pentagon&hl=en-US&gl=US&ceid=US:en")},{name:"Treasury",url:p('https://news.google.com/rss/search?q=site:treasury.gov+OR+"Treasury+Department"&hl=en-US&gl=US&ceid=US:en')},{name:"DOJ",url:p('https://news.google.com/rss/search?q=site:justice.gov+OR+"Justice+Department"+DOJ&hl=en-US&gl=US&ceid=US:en')},{name:"Federal Reserve",url:p("https://www.federalreserve.gov/feeds/press_all.xml")},{name:"SEC",url:p("https://www.sec.gov/news/pressreleases.rss")},{name:"CDC",url:p("https://news.google.com/rss/search?q=site:cdc.gov+OR+CDC+health&hl=en-US&gl=US&ceid=US:en")},{name:"FEMA",url:p("https://news.google.com/rss/search?q=site:fema.gov+OR+FEMA+emergency&hl=en-US&gl=US&ceid=US:en")},{name:"DHS",url:p('https://news.google.com/rss/search?q=site:dhs.gov+OR+"Homeland+Security"&hl=en-US&gl=US&ceid=US:en')},{name:"UN News",url:re("https://news.un.org/feed/subscribe/en/news/all/rss.xml")},{name:"CISA",url:re("https://www.cisa.gov/cybersecurity-advisories/all.xml")}],layoffs:[{name:"Layoffs.fyi",url:p("https://layoffs.fyi/feed/")},{name:"TechCrunch Layoffs",url:p("https://techcrunch.com/tag/layoffs/feed/")},{name:"Layoffs News",url:p('https://news.google.com/rss/search?q=(layoffs+OR+"job+cuts"+OR+"workforce+reduction")+when:3d&hl=en-US&gl=US&ceid=US:en')}],thinktanks:[{name:"Foreign Policy",url:p("https://foreignpolicy.com/feed/")},{name:"Atlantic Council",url:re("https://www.atlanticcouncil.org/feed/")},{name:"Foreign Affairs",url:p("https://www.foreignaffairs.com/rss.xml")},{name:"CSIS",url:p("https://news.google.com/rss/search?q=site:csis.org+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"RAND",url:p("https://news.google.com/rss/search?q=site:rand.org+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Brookings",url:p("https://news.google.com/rss/search?q=site:brookings.edu+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Carnegie",url:p("https://news.google.com/rss/search?q=site:carnegieendowment.org+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"War on the Rocks",url:p("https://warontherocks.com/feed")},{name:"AEI",url:p("https://www.aei.org/feed/")},{name:"Responsible Statecraft",url:p("https://responsiblestatecraft.org/feed/")},{name:"RUSI",url:p("https://news.google.com/rss/search?q=site:rusi.org+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"FPRI",url:p("https://www.fpri.org/feed/")},{name:"Jamestown",url:p("https://jamestown.org/feed/")}],crisis:[{name:"CrisisWatch",url:p("https://www.crisisgroup.org/rss")},{name:"IAEA",url:p("https://www.iaea.org/feeds/topnews")},{name:"WHO",url:p("https://www.who.int/rss-feeds/news-english.xml")},{name:"UNHCR",url:p("https://news.google.com/rss/search?q=site:unhcr.org+OR+UNHCR+refugees+when:3d&hl=en-US&gl=US&ceid=US:en")}],regional:[{name:"Xinhua",url:p("https://news.google.com/rss/search?q=site:xinhuanet.com+OR+Xinhua+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"TASS",url:p("https://news.google.com/rss/search?q=site:tass.com+OR+TASS+Russia+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Kyiv Independent",url:p("https://news.google.com/rss/search?q=site:kyivindependent.com+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Moscow Times",url:p("https://www.themoscowtimes.com/rss/news")}],africa:[{name:"Africa News",url:p('https://news.google.com/rss/search?q=(Africa+OR+Nigeria+OR+Kenya+OR+"South+Africa"+OR+Ethiopia)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Sahel Crisis",url:p('https://news.google.com/rss/search?q=(Sahel+OR+Mali+OR+Niger+OR+"Burkina+Faso"+OR+Wagner)+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"News24",url:re("https://feeds.capi24.com/v1/Search/articles/news24/Africa/rss")},{name:"BBC Africa",url:p("https://feeds.bbci.co.uk/news/world/africa/rss.xml")},{name:"Jeune Afrique",url:p("https://www.jeuneafrique.com/feed/"),lang:"fr"},{name:"Africanews",url:{en:p("https://www.africanews.com/feed/rss"),fr:p("https://fr.africanews.com/feed/rss")}},{name:"BBC Afrique",url:p("https://www.bbc.com/afrique/index.xml"),lang:"fr"}],latam:[{name:"Latin America",url:p("https://news.google.com/rss/search?q=(Brazil+OR+Mexico+OR+Argentina+OR+Venezuela+OR+Colombia)+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"BBC Latin America",url:p("https://feeds.bbci.co.uk/news/world/latin_america/rss.xml")},{name:"Reuters LatAm",url:p("https://news.google.com/rss/search?q=site:reuters.com+(Brazil+OR+Mexico+OR+Argentina)+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Guardian Americas",url:p("https://www.theguardian.com/world/americas/rss")},{name:"Clarín",url:p("https://www.clarin.com/rss/lo-ultimo/"),lang:"es"},{name:"O Globo",url:p("https://oglobo.globo.com/rss/top_noticias/"),lang:"pt"},{name:"Folha de S.Paulo",url:p("https://feeds.folha.uol.com.br/emcimadahora/rss091.xml"),lang:"pt"},{name:"El Tiempo",url:p("https://www.eltiempo.com/rss/mundo_latinoamerica.xml"),lang:"es"},{name:"El Universal",url:p("https://www.eluniversal.com.mx/rss.xml"),lang:"es"},{name:"La Silla Vacía",url:p("https://www.lasillavacia.com/rss")}],asia:[{name:"Asia News",url:p("https://news.google.com/rss/search?q=(China+OR+Japan+OR+Korea+OR+India+OR+ASEAN)+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"BBC Asia",url:p("https://feeds.bbci.co.uk/news/world/asia/rss.xml")},{name:"South China Morning Post",url:re("https://www.scmp.com/rss/91/feed/")},{name:"Reuters Asia",url:p("https://news.google.com/rss/search?q=site:reuters.com+(China+OR+Japan+OR+Taiwan+OR+Korea)+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"NHK World",url:re("https://rsshub.app/nhk/news/en")},{name:"Nikkei Asia",url:p("https://news.google.com/rss/search?q=site:asia.nikkei.com+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Asahi Shimbun",url:p("https://www.asahi.com/rss/asahi/newsheadlines.rdf"),lang:"ja"},{name:"The Hindu",url:p("https://www.thehindu.com/news/national/feeder/default.rss"),lang:"en"},{name:"CNA",url:p("https://www.channelnewsasia.com/api/v1/rss-outbound-feed?_format=xml")},{name:"MIIT (China)",url:re("https://rsshub.app/gov/miit/zcjd"),lang:"zh"},{name:"MOFCOM (China)",url:re("https://rsshub.app/gov/mofcom/article/xwfb"),lang:"zh"},{name:"ABC News Australia",url:p("https://www.abc.net.au/news/feed/2942460/rss.xml")},{name:"Guardian Australia",url:p("https://www.theguardian.com/australia-news/rss")}],energy:[{name:"Oil & Gas",url:p('https://news.google.com/rss/search?q=(oil+price+OR+OPEC+OR+"natural+gas"+OR+pipeline+OR+LNG)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Nuclear Energy",url:p('https://news.google.com/rss/search?q=("nuclear+energy"+OR+"nuclear+power"+OR+uranium+OR+IAEA)+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Reuters Energy",url:p("https://news.google.com/rss/search?q=site:reuters.com+(oil+OR+gas+OR+energy+OR+OPEC)+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Mining & Resources",url:p('https://news.google.com/rss/search?q=(lithium+OR+"rare+earth"+OR+cobalt+OR+mining)+when:3d&hl=en-US&gl=US&ceid=US:en')}]},Po={tech:[{name:"TechCrunch",url:p("https://techcrunch.com/feed/")},{name:"The Verge",url:p("https://www.theverge.com/rss/index.xml")},{name:"Ars Technica",url:p("https://feeds.arstechnica.com/arstechnica/technology-lab")},{name:"Hacker News",url:p("https://hnrss.org/frontpage")},{name:"MIT Tech Review",url:p("https://www.technologyreview.com/feed/")},{name:"ZDNet",url:p("https://www.zdnet.com/news/rss.xml")},{name:"TechMeme",url:p("https://www.techmeme.com/feed.xml")},{name:"Engadget",url:p("https://www.engadget.com/rss.xml")},{name:"Fast Company",url:p("https://feeds.feedburner.com/fastcompany/headlines")}],ai:[{name:"AI News",url:p('https://news.google.com/rss/search?q=(OpenAI+OR+Anthropic+OR+Google+AI+OR+"large+language+model"+OR+ChatGPT+OR+Claude+OR+"AI+model")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"VentureBeat AI",url:p("https://venturebeat.com/category/ai/feed/")},{name:"The Verge AI",url:p("https://www.theverge.com/rss/ai-artificial-intelligence/index.xml")},{name:"MIT Tech Review AI",url:p("https://www.technologyreview.com/topic/artificial-intelligence/feed")},{name:"MIT Research",url:p("https://news.mit.edu/rss/research")},{name:"ArXiv AI",url:p("https://export.arxiv.org/rss/cs.AI")},{name:"ArXiv ML",url:p("https://export.arxiv.org/rss/cs.LG")},{name:"AI Weekly",url:p('https://news.google.com/rss/search?q="artificial+intelligence"+OR+"machine+learning"+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Anthropic News",url:p("https://news.google.com/rss/search?q=Anthropic+Claude+AI+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"OpenAI News",url:p("https://news.google.com/rss/search?q=OpenAI+ChatGPT+GPT-4+when:7d&hl=en-US&gl=US&ceid=US:en")}],startups:[{name:"TechCrunch Startups",url:p("https://techcrunch.com/category/startups/feed/")},{name:"VentureBeat",url:p("https://venturebeat.com/feed/")},{name:"Crunchbase News",url:p("https://news.crunchbase.com/feed/")},{name:"SaaStr",url:p("https://www.saastr.com/feed/")},{name:"AngelList News",url:p('https://news.google.com/rss/search?q=site:angellist.com+OR+"AngelList"+funding+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"TechCrunch Venture",url:p("https://techcrunch.com/category/venture/feed/")},{name:"The Information",url:p("https://news.google.com/rss/search?q=site:theinformation.com+startup+OR+funding+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Fortune Term Sheet",url:p('https://news.google.com/rss/search?q="Term+Sheet"+venture+capital+OR+startup+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"PitchBook News",url:p("https://news.google.com/rss/search?q=site:pitchbook.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"CB Insights",url:p("https://www.cbinsights.com/research/feed/")}],vcblogs:[{name:"Y Combinator Blog",url:p("https://www.ycombinator.com/blog/rss/")},{name:"a16z Blog",url:p('https://news.google.com/rss/search?q=site:a16z.com+OR+"Andreessen+Horowitz"+blog+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Sequoia Blog",url:p("https://news.google.com/rss/search?q=site:sequoiacap.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Paul Graham Essays",url:p('https://news.google.com/rss/search?q="Paul+Graham"+essay+OR+blog+when:30d&hl=en-US&gl=US&ceid=US:en')},{name:"VC Insights",url:p('https://news.google.com/rss/search?q=("venture+capital"+insights+OR+"VC+trends"+OR+"startup+advice")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Lenny's Newsletter",url:p("https://www.lennysnewsletter.com/feed")},{name:"Stratechery",url:p("https://stratechery.com/feed/")},{name:"FwdStart Newsletter",url:"/api/fwdstart"}],regionalStartups:[{name:"EU Startups",url:p("https://news.google.com/rss/search?q=site:eu-startups.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Tech.eu",url:p("https://tech.eu/feed/")},{name:"Sifted (Europe)",url:p("https://sifted.eu/feed")},{name:"The Next Web",url:p("https://news.google.com/rss/search?q=site:thenextweb.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Tech in Asia",url:p("https://news.google.com/rss/search?q=site:techinasia.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"KrASIA",url:p("https://news.google.com/rss/search?q=site:kr-asia.com+OR+KrASIA+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"SEA Startups",url:p("https://news.google.com/rss/search?q=(Singapore+OR+Indonesia+OR+Vietnam+OR+Thailand+OR+Malaysia)+startup+funding+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Asia VC News",url:p('https://news.google.com/rss/search?q=("Southeast+Asia"+OR+ASEAN)+venture+capital+OR+funding+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"China Startups",url:p('https://news.google.com/rss/search?q=China+startup+funding+OR+"Chinese+startup"+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"36Kr English",url:p('https://news.google.com/rss/search?q=site:36kr.com+OR+"36Kr"+startup+china+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"China Tech Giants",url:p("https://news.google.com/rss/search?q=(Alibaba+OR+Tencent+OR+ByteDance+OR+Baidu+OR+JD.com+OR+Xiaomi+OR+Huawei)+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Japan Startups",url:p('https://news.google.com/rss/search?q=Japan+startup+funding+OR+"Japanese+startup"+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Japan Tech News",url:p("https://news.google.com/rss/search?q=(Japan+startup+OR+Japan+tech+OR+SoftBank+OR+Rakuten+OR+Sony)+funding+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Nikkei Tech",url:p("https://news.google.com/rss/search?q=site:asia.nikkei.com+technology+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Korea Tech News",url:p("https://news.google.com/rss/search?q=(Korea+startup+OR+Korean+tech+OR+Samsung+OR+Kakao+OR+Naver+OR+Coupang)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Korea Startups",url:p('https://news.google.com/rss/search?q=Korea+startup+funding+OR+"Korean+unicorn"+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Inc42 (India)",url:p("https://inc42.com/feed/")},{name:"YourStory",url:p("https://yourstory.com/feed")},{name:"India Startups",url:p('https://news.google.com/rss/search?q=India+startup+funding+OR+"Indian+startup"+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"India Tech News",url:p("https://news.google.com/rss/search?q=(Flipkart+OR+Razorpay+OR+Zerodha+OR+Zomato+OR+Paytm+OR+PhonePe)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"SEA Tech News",url:p("https://news.google.com/rss/search?q=(Grab+OR+GoTo+OR+Sea+Limited+OR+Shopee+OR+Tokopedia)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Vietnam Tech",url:p("https://news.google.com/rss/search?q=Vietnam+startup+OR+Vietnam+tech+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Indonesia Tech",url:p("https://news.google.com/rss/search?q=Indonesia+startup+OR+Indonesia+tech+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Taiwan Tech",url:p("https://news.google.com/rss/search?q=(Taiwan+startup+OR+TSMC+OR+MediaTek+OR+Foxconn)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"LAVCA (LATAM)",url:p("https://news.google.com/rss/search?q=site:lavca.org+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"LATAM Startups",url:p('https://news.google.com/rss/search?q=("Latin+America"+startup+OR+LATAM+funding)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Startups LATAM",url:p("https://news.google.com/rss/search?q=(startup+Brazil+OR+startup+Mexico+OR+startup+Argentina+OR+startup+Colombia+OR+startup+Chile)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Brazil Tech",url:p("https://news.google.com/rss/search?q=(Nubank+OR+iFood+OR+Mercado+Libre+OR+Rappi+OR+VTEX)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"FinTech LATAM",url:p('https://news.google.com/rss/search?q=fintech+(Brazil+OR+Mexico+OR+Argentina+OR+"Latin+America")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"TechCabal (Africa)",url:p("https://techcabal.com/feed/")},{name:"Disrupt Africa",url:p("https://news.google.com/rss/search?q=site:disrupt-africa.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Africa Startups",url:p('https://news.google.com/rss/search?q=Africa+startup+funding+OR+"African+startup"+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Africa Tech News",url:p('https://news.google.com/rss/search?q=(Flutterwave+OR+Paystack+OR+Jumia+OR+Andela+OR+"Africa+startup")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"MENA Startups",url:p('https://news.google.com/rss/search?q=(MENA+startup+OR+"Middle+East"+funding+OR+Gulf+startup)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"MENA Tech News",url:p("https://news.google.com/rss/search?q=(UAE+startup+OR+Saudi+tech+OR+Dubai+startup+OR+NEOM+tech)+when:7d&hl=en-US&gl=US&ceid=US:en")}],github:[{name:"GitHub Blog",url:p("https://github.blog/feed/")},{name:"GitHub Trending",url:p("https://mshibanami.github.io/GitHubTrendingRSS/daily/all.xml")},{name:"Show HN",url:p("https://hnrss.org/show")},{name:"YC Launches",url:p('https://news.google.com/rss/search?q=("Y+Combinator"+OR+"YC+launch"+OR+"YC+W25"+OR+"YC+S25")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Dev Events",url:p('https://news.google.com/rss/search?q=("developer+conference"+OR+"tech+summit"+OR+"devcon"+OR+"developer+event")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Open Source News",url:p('https://news.google.com/rss/search?q="open+source"+project+release+OR+launch+when:3d&hl=en-US&gl=US&ceid=US:en')}],ipo:[{name:"IPO News",url:p('https://news.google.com/rss/search?q=(IPO+OR+"initial+public+offering"+OR+SPAC)+tech+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Renaissance IPO",url:p("https://news.google.com/rss/search?q=site:renaissancecapital.com+IPO+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"Tech IPO News",url:p('https://news.google.com/rss/search?q=tech+IPO+OR+"tech+company"+IPO+when:7d&hl=en-US&gl=US&ceid=US:en')}],funding:[{name:"SEC Filings",url:p('https://news.google.com/rss/search?q=(S-1+OR+"IPO+filing"+OR+"SEC+filing")+startup+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"VC News",url:p('https://news.google.com/rss/search?q=("Series+A"+OR+"Series+B"+OR+"Series+C"+OR+"funding+round"+OR+"venture+capital")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Seed & Pre-Seed",url:p('https://news.google.com/rss/search?q=("seed+round"+OR+"pre-seed"+OR+"angel+round"+OR+"seed+funding")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Startup Funding",url:p('https://news.google.com/rss/search?q=("startup+funding"+OR+"raised+funding"+OR+"raised+$"+OR+"funding+announced")+when:7d&hl=en-US&gl=US&ceid=US:en')}],producthunt:[{name:"Product Hunt",url:p("https://www.producthunt.com/feed")}],outages:[{name:"AWS Status",url:p('https://news.google.com/rss/search?q=AWS+outage+OR+"Amazon+Web+Services"+down+when:1d&hl=en-US&gl=US&ceid=US:en')},{name:"Cloud Outages",url:p("https://news.google.com/rss/search?q=(Azure+OR+GCP+OR+Cloudflare+OR+Slack+OR+GitHub)+outage+OR+down+when:1d&hl=en-US&gl=US&ceid=US:en")}],security:[{name:"Krebs Security",url:p("https://krebsonsecurity.com/feed/")},{name:"The Hacker News",url:p("https://feeds.feedburner.com/TheHackersNews")},{name:"Dark Reading",url:p("https://www.darkreading.com/rss.xml")},{name:"Schneier",url:p("https://www.schneier.com/feed/")}],policy:[{name:"Politico Tech",url:p("https://rss.politico.com/technology.xml")},{name:"AI Regulation",url:p('https://news.google.com/rss/search?q=AI+regulation+OR+"artificial+intelligence"+law+OR+policy+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Tech Antitrust",url:p("https://news.google.com/rss/search?q=tech+antitrust+OR+FTC+Google+OR+FTC+Apple+OR+FTC+Amazon+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"EFF News",url:p('https://news.google.com/rss/search?q=site:eff.org+OR+"Electronic+Frontier+Foundation"+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"EU Digital Policy",url:p('https://news.google.com/rss/search?q=("Digital+Services+Act"+OR+"Digital+Markets+Act"+OR+"EU+AI+Act"+OR+"GDPR")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Euractiv Digital",url:p("https://news.google.com/rss/search?q=site:euractiv.com+digital+OR+tech+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"EU Commission Digital",url:p("https://news.google.com/rss/search?q=site:ec.europa.eu+digital+OR+technology+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"China Tech Policy",url:p("https://news.google.com/rss/search?q=(China+tech+regulation+OR+China+AI+policy+OR+MIIT+technology)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"UK Tech Policy",url:p('https://news.google.com/rss/search?q=(UK+AI+safety+OR+"Online+Safety+Bill"+OR+UK+tech+regulation)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"India Tech Policy",url:p("https://news.google.com/rss/search?q=(India+tech+regulation+OR+India+data+protection+OR+India+AI+policy)+when:7d&hl=en-US&gl=US&ceid=US:en")}],thinktanks:[{name:"Brookings Tech",url:p("https://news.google.com/rss/search?q=site:brookings.edu+technology+OR+AI+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"CSIS Tech",url:p("https://news.google.com/rss/search?q=site:csis.org+technology+OR+AI+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"MIT Tech Policy",url:p("https://news.google.com/rss/search?q=site:techpolicypress.org+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"Stanford HAI",url:p("https://news.google.com/rss/search?q=site:hai.stanford.edu+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"AI Now Institute",url:p("https://news.google.com/rss/search?q=site:ainowinstitute.org+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"OECD Digital",url:p("https://news.google.com/rss/search?q=site:oecd.org+digital+OR+AI+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"EU Tech Policy",url:p('https://news.google.com/rss/search?q=("EU+tech+policy"+OR+"European+digital"+OR+Bruegel+tech)+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Chatham House Tech",url:p("https://news.google.com/rss/search?q=site:chathamhouse.org+technology+OR+AI+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"ISEAS (Singapore)",url:p("https://news.google.com/rss/search?q=site:iseas.edu.sg+technology+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"ORF Tech (India)",url:p('https://news.google.com/rss/search?q=(India+tech+policy+OR+ORF+technology+OR+"Observer+Research+Foundation"+tech)+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"RIETI (Japan)",url:p("https://news.google.com/rss/search?q=site:rieti.go.jp+technology+when:30d&hl=en-US&gl=US&ceid=US:en")},{name:"Asia Pacific Tech",url:p('https://news.google.com/rss/search?q=("Asia+Pacific"+tech+policy+OR+"Lowy+Institute"+technology)+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"China Tech Analysis",url:p('https://news.google.com/rss/search?q=("China+tech+strategy"+OR+"Chinese+AI"+OR+"China+semiconductor")+analysis+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"DigiChina",url:p("https://news.google.com/rss/search?q=site:digichina.stanford.edu+when:14d&hl=en-US&gl=US&ceid=US:en")}],finance:[{name:"CNBC Tech",url:p("https://www.cnbc.com/id/19854910/device/rss/rss.html")},{name:"MarketWatch Tech",url:p("https://news.google.com/rss/search?q=site:marketwatch.com+technology+markets+when:2d&hl=en-US&gl=US&ceid=US:en")},{name:"Yahoo Finance",url:p("https://finance.yahoo.com/rss/topstories")},{name:"Seeking Alpha Tech",url:p("https://seekingalpha.com/market_currents.xml")}],hardware:[{name:"Tom's Hardware",url:p("https://www.tomshardware.com/feeds/all")},{name:"SemiAnalysis",url:p("https://news.google.com/rss/search?q=site:semianalysis.com+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Semiconductor News",url:p("https://news.google.com/rss/search?q=semiconductor+OR+chip+OR+TSMC+OR+NVIDIA+OR+Intel+when:3d&hl=en-US&gl=US&ceid=US:en")}],cloud:[{name:"InfoQ",url:p("https://feed.infoq.com/")},{name:"The New Stack",url:p("https://thenewstack.io/feed/")},{name:"DevOps.com",url:p("https://devops.com/feed/")}],dev:[{name:"Dev.to",url:p("https://dev.to/feed")},{name:"Lobsters",url:p("https://lobste.rs/rss")},{name:"Changelog",url:p("https://changelog.com/feed")}],layoffs:[{name:"Layoffs.fyi",url:p("https://news.google.com/rss/search?q=tech+layoffs+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"TechCrunch Layoffs",url:p("https://techcrunch.com/tag/layoffs/feed/")}],unicorns:[{name:"Unicorn News",url:p('https://news.google.com/rss/search?q=("unicorn+startup"+OR+"unicorn+valuation"+OR+"$1+billion+valuation")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"CB Insights Unicorn",url:p("https://news.google.com/rss/search?q=site:cbinsights.com+unicorn+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"Decacorn News",url:p('https://news.google.com/rss/search?q=("decacorn"+OR+"$10+billion+valuation"+OR+"$10B+valuation")+startup+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"New Unicorns",url:p('https://news.google.com/rss/search?q=("becomes+unicorn"+OR+"joins+unicorn"+OR+"reaches+unicorn"+OR+"achieved+unicorn")+when:14d&hl=en-US&gl=US&ceid=US:en')}],accelerators:[{name:"Techstars News",url:p("https://news.google.com/rss/search?q=Techstars+accelerator+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"500 Global News",url:p('https://news.google.com/rss/search?q="500+Global"+OR+"500+Startups"+accelerator+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Demo Day News",url:p('https://news.google.com/rss/search?q=("demo+day"+OR+"YC+batch"+OR+"accelerator+batch")+startup+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Startup School",url:p('https://news.google.com/rss/search?q="Startup+School"+OR+"YC+Startup+School"+when:14d&hl=en-US&gl=US&ceid=US:en')}],podcasts:[{name:"Acquired Episodes",url:p('https://news.google.com/rss/search?q="Acquired+podcast"+episode+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"All-In Podcast",url:p('https://news.google.com/rss/search?q="All-In+podcast"+(Chamath+OR+Sacks+OR+Friedberg)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"a16z Insights",url:p('https://news.google.com/rss/search?q=("a16z"+OR+"Andreessen+Horowitz")+podcast+OR+interview+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"TWIST Episodes",url:p('https://news.google.com/rss/search?q="This+Week+in+Startups"+Jason+Calacanis+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"20VC Episodes",url:p('https://news.google.com/rss/search?q="20+Minute+VC"+Harry+Stebbings+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Lex Fridman Tech",url:p('https://news.google.com/rss/search?q=("Lex+Fridman"+interview)+(AI+OR+tech+OR+startup+OR+CEO)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Verge Shows",url:p('https://news.google.com/rss/search?q=("Vergecast"+OR+"Decoder+podcast"+Verge)+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Hard Fork (NYT)",url:p('https://news.google.com/rss/search?q="Hard+Fork"+podcast+NYT+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Pivot Podcast",url:p('https://news.google.com/rss/search?q="Pivot+podcast"+(Kara+Swisher+OR+Scott+Galloway)+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Tech Newsletters",url:p('https://news.google.com/rss/search?q=("Benedict+Evans"+OR+"Pragmatic+Engineer"+OR+Stratechery)+tech+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"AI Podcasts",url:p('https://news.google.com/rss/search?q=("AI+podcast"+OR+"artificial+intelligence+podcast")+episode+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"AI Interviews",url:p("https://news.google.com/rss/search?q=(NVIDIA+OR+OpenAI+OR+Anthropic+OR+DeepMind)+interview+OR+podcast+when:14d&hl=en-US&gl=US&ceid=US:en")},{name:"How I Built This",url:p('https://news.google.com/rss/search?q="How+I+Built+This"+Guy+Raz+when:14d&hl=en-US&gl=US&ceid=US:en')},{name:"Startup Podcasts",url:p('https://news.google.com/rss/search?q=("Masters+of+Scale"+OR+"The+Pitch+podcast"+OR+"startup+podcast")+episode+when:14d&hl=en-US&gl=US&ceid=US:en')}]},Uo={markets:[{name:"CNBC",url:p("https://www.cnbc.com/id/100003114/device/rss/rss.html")},{name:"MarketWatch",url:p("https://news.google.com/rss/search?q=site:marketwatch.com+markets+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Yahoo Finance",url:p("https://finance.yahoo.com/rss/topstories")},{name:"Seeking Alpha",url:p("https://seekingalpha.com/market_currents.xml")},{name:"Reuters Markets",url:p("https://news.google.com/rss/search?q=site:reuters.com+markets+stocks+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Bloomberg Markets",url:p("https://news.google.com/rss/search?q=site:bloomberg.com+markets+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Investing.com News",url:p("https://news.google.com/rss/search?q=site:investing.com+markets+when:1d&hl=en-US&gl=US&ceid=US:en")}],forex:[{name:"Forex News",url:p('https://news.google.com/rss/search?q=("forex"+OR+"currency"+OR+"FX+market")+trading+when:1d&hl=en-US&gl=US&ceid=US:en')},{name:"Dollar Watch",url:p('https://news.google.com/rss/search?q=("dollar+index"+OR+DXY+OR+"US+dollar"+OR+"euro+dollar")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Central Bank Rates",url:p('https://news.google.com/rss/search?q=("central+bank"+OR+"interest+rate"+OR+"rate+decision"+OR+"monetary+policy")+when:2d&hl=en-US&gl=US&ceid=US:en')}],bonds:[{name:"Bond Market",url:p('https://news.google.com/rss/search?q=("bond+market"+OR+"treasury+yields"+OR+"bond+yields"+OR+"fixed+income")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Treasury Watch",url:p('https://news.google.com/rss/search?q=("US+Treasury"+OR+"Treasury+auction"+OR+"10-year+yield"+OR+"2-year+yield")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Corporate Bonds",url:p('https://news.google.com/rss/search?q=("corporate+bond"+OR+"high+yield"+OR+"investment+grade"+OR+"credit+spread")+when:3d&hl=en-US&gl=US&ceid=US:en')}],commodities:[{name:"Oil & Gas",url:p('https://news.google.com/rss/search?q=(oil+price+OR+OPEC+OR+"natural+gas"+OR+"crude+oil"+OR+WTI+OR+Brent)+when:1d&hl=en-US&gl=US&ceid=US:en')},{name:"Gold & Metals",url:p('https://news.google.com/rss/search?q=(gold+price+OR+silver+price+OR+copper+OR+platinum+OR+"precious+metals")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Agriculture",url:p("https://news.google.com/rss/search?q=(wheat+OR+corn+OR+soybeans+OR+coffee+OR+sugar)+price+OR+commodity+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Commodity Trading",url:p('https://news.google.com/rss/search?q=("commodity+trading"+OR+"futures+market"+OR+CME+OR+NYMEX+OR+COMEX)+when:2d&hl=en-US&gl=US&ceid=US:en')}],crypto:[{name:"CoinDesk",url:p("https://www.coindesk.com/arc/outboundfeeds/rss/")},{name:"Cointelegraph",url:p("https://cointelegraph.com/rss")},{name:"The Block",url:p("https://news.google.com/rss/search?q=site:theblock.co+when:1d&hl=en-US&gl=US&ceid=US:en")},{name:"Crypto News",url:p('https://news.google.com/rss/search?q=(bitcoin+OR+ethereum+OR+crypto+OR+"digital+assets")+when:1d&hl=en-US&gl=US&ceid=US:en')},{name:"DeFi News",url:p('https://news.google.com/rss/search?q=(DeFi+OR+"decentralized+finance"+OR+DEX+OR+"yield+farming")+when:3d&hl=en-US&gl=US&ceid=US:en')}],centralbanks:[{name:"Federal Reserve",url:p("https://www.federalreserve.gov/feeds/press_all.xml")},{name:"ECB Watch",url:p('https://news.google.com/rss/search?q=("European+Central+Bank"+OR+ECB+OR+Lagarde)+monetary+policy+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"BoJ Watch",url:p('https://news.google.com/rss/search?q=("Bank+of+Japan"+OR+BoJ)+monetary+policy+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"BoE Watch",url:p('https://news.google.com/rss/search?q=("Bank+of+England"+OR+BoE)+monetary+policy+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"PBoC Watch",url:p('https://news.google.com/rss/search?q=("People%27s+Bank+of+China"+OR+PBoC+OR+PBOC)+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Global Central Banks",url:p('https://news.google.com/rss/search?q=("rate+hike"+OR+"rate+cut"+OR+"interest+rate+decision")+central+bank+when:3d&hl=en-US&gl=US&ceid=US:en')}],economic:[{name:"Economic Data",url:p('https://news.google.com/rss/search?q=(CPI+OR+inflation+OR+GDP+OR+"jobs+report"+OR+"nonfarm+payrolls"+OR+PMI)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Trade & Tariffs",url:p('https://news.google.com/rss/search?q=(tariff+OR+"trade+war"+OR+"trade+deficit"+OR+sanctions)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Housing Market",url:p('https://news.google.com/rss/search?q=("housing+market"+OR+"home+prices"+OR+"mortgage+rates"+OR+REIT)+when:3d&hl=en-US&gl=US&ceid=US:en')}],ipo:[{name:"IPO News",url:p('https://news.google.com/rss/search?q=(IPO+OR+"initial+public+offering"+OR+SPAC+OR+"direct+listing")+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Earnings Reports",url:p('https://news.google.com/rss/search?q=("earnings+report"+OR+"quarterly+earnings"+OR+"revenue+beat"+OR+"earnings+miss")+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"M&A News",url:p('https://news.google.com/rss/search?q=("merger"+OR+"acquisition"+OR+"takeover+bid"+OR+"buyout")+billion+when:3d&hl=en-US&gl=US&ceid=US:en')}],derivatives:[{name:"Options Market",url:p('https://news.google.com/rss/search?q=("options+market"+OR+"options+trading"+OR+"put+call+ratio"+OR+VIX)+when:2d&hl=en-US&gl=US&ceid=US:en')},{name:"Futures Trading",url:p('https://news.google.com/rss/search?q=("futures+trading"+OR+"S%26P+500+futures"+OR+"Nasdaq+futures")+when:1d&hl=en-US&gl=US&ceid=US:en')}],fintech:[{name:"Fintech News",url:p('https://news.google.com/rss/search?q=(fintech+OR+"payment+technology"+OR+"neobank"+OR+"digital+banking")+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Trading Tech",url:p('https://news.google.com/rss/search?q=("algorithmic+trading"+OR+"trading+platform"+OR+"quantitative+finance")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Blockchain Finance",url:p('https://news.google.com/rss/search?q=("blockchain+finance"+OR+"tokenization"+OR+"digital+securities"+OR+CBDC)+when:7d&hl=en-US&gl=US&ceid=US:en')}],regulation:[{name:"SEC",url:p("https://www.sec.gov/news/pressreleases.rss")},{name:"Financial Regulation",url:p("https://news.google.com/rss/search?q=(SEC+OR+CFTC+OR+FINRA+OR+FCA)+regulation+OR+enforcement+when:3d&hl=en-US&gl=US&ceid=US:en")},{name:"Banking Rules",url:p('https://news.google.com/rss/search?q=(Basel+OR+"capital+requirements"+OR+"banking+regulation")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Crypto Regulation",url:p('https://news.google.com/rss/search?q=(crypto+regulation+OR+"digital+asset"+regulation+OR+"stablecoin"+regulation)+when:7d&hl=en-US&gl=US&ceid=US:en')}],institutional:[{name:"Hedge Fund News",url:p('https://news.google.com/rss/search?q=("hedge+fund"+OR+"Bridgewater"+OR+"Citadel"+OR+"Renaissance")+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Private Equity",url:p('https://news.google.com/rss/search?q=("private+equity"+OR+Blackstone+OR+KKR+OR+Apollo+OR+Carlyle)+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Sovereign Wealth",url:p('https://news.google.com/rss/search?q=("sovereign+wealth+fund"+OR+"pension+fund"+OR+"institutional+investor")+when:7d&hl=en-US&gl=US&ceid=US:en')}],analysis:[{name:"Market Outlook",url:p('https://news.google.com/rss/search?q=("market+outlook"+OR+"stock+market+forecast"+OR+"bull+market"+OR+"bear+market")+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Risk & Volatility",url:p('https://news.google.com/rss/search?q=(VIX+OR+"market+volatility"+OR+"risk+off"+OR+"market+correction")+when:3d&hl=en-US&gl=US&ceid=US:en')},{name:"Bank Research",url:p('https://news.google.com/rss/search?q=("Goldman+Sachs"+OR+"JPMorgan"+OR+"Morgan+Stanley")+forecast+OR+outlook+when:3d&hl=en-US&gl=US&ceid=US:en')}],gccNews:[{name:"Arabian Business",url:p("https://news.google.com/rss/search?q=site:arabianbusiness.com+(Saudi+Arabia+OR+UAE+OR+GCC)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"The National",url:p("https://news.google.com/rss/search?q=site:thenationalnews.com+(Abu+Dhabi+OR+UAE+OR+Saudi)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Arab News",url:p("https://news.google.com/rss/search?q=site:arabnews.com+(Saudi+Arabia+OR+investment+OR+infrastructure)+when:7d&hl=en-US&gl=US&ceid=US:en")},{name:"Gulf FDI",url:p('https://news.google.com/rss/search?q=(PIF+OR+"DP+World"+OR+Mubadala+OR+ADNOC+OR+Masdar+OR+"ACWA+Power")+infrastructure+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Gulf Investments",url:p('https://news.google.com/rss/search?q=("Saudi+Arabia"+OR+"UAE"+OR+"Abu+Dhabi")+investment+infrastructure+when:7d&hl=en-US&gl=US&ceid=US:en')},{name:"Vision 2030",url:p('https://news.google.com/rss/search?q="Vision+2030"+(project+OR+investment+OR+announced)+when:14d&hl=en-US&gl=US&ceid=US:en')}]},zS=L==="tech"?Po:L==="finance"?Uo:Ro,WS=[{name:"Defense One",url:p("https://www.defenseone.com/rss/all/"),type:"defense"},{name:"Breaking Defense",url:p("https://breakingdefense.com/feed/"),type:"defense"},{name:"The War Zone",url:p('https://news.google.com/rss/search?q=site:thedrive.com+"war+zone"+when:7d&hl=en-US&gl=US&ceid=US:en'),type:"defense"},{name:"Defense News",url:p("https://www.defensenews.com/arc/outboundfeeds/rss/?outputType=xml"),type:"defense"},{name:"Janes",url:p("https://news.google.com/rss/search?q=site:janes.com+when:3d&hl=en-US&gl=US&ceid=US:en"),type:"defense"},{name:"Military Times",url:p("https://www.militarytimes.com/arc/outboundfeeds/rss/?outputType=xml"),type:"defense"},{name:"Task & Purpose",url:p("https://taskandpurpose.com/feed/"),type:"defense"},{name:"USNI News",url:p("https://news.usni.org/feed"),type:"defense"},{name:"Oryx OSINT",url:p("https://www.oryxspioenkop.com/feeds/posts/default?alt=rss"),type:"defense"},{name:"UK MOD",url:p("https://www.gov.uk/government/organisations/ministry-of-defence.atom"),type:"defense"},{name:"CSIS",url:p("https://www.csis.org/analysis?type=analysis"),type:"defense"},{name:"Chatham House",url:p("https://news.google.com/rss/search?q=site:chathamhouse.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"intl"},{name:"ECFR",url:p("https://news.google.com/rss/search?q=site:ecfr.eu+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"intl"},{name:"Foreign Policy",url:p("https://foreignpolicy.com/feed/"),type:"intl"},{name:"Foreign Affairs",url:p("https://www.foreignaffairs.com/rss.xml"),type:"intl"},{name:"Atlantic Council",url:re("https://www.atlanticcouncil.org/feed/"),type:"intl"},{name:"Middle East Institute",url:p("https://news.google.com/rss/search?q=site:mei.edu+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"intl"},{name:"RAND",url:p("https://www.rand.org/rss/all.xml"),type:"research"},{name:"Brookings",url:p("https://www.brookings.edu/feed/"),type:"research"},{name:"Carnegie",url:p("https://carnegieendowment.org/rss/"),type:"research"},{name:"FAS",url:p("https://fas.org/feed/"),type:"research"},{name:"NTI",url:p("https://www.nti.org/rss/"),type:"research"},{name:"RUSI",url:p("https://news.google.com/rss/search?q=site:rusi.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"research"},{name:"Wilson Center",url:p("https://news.google.com/rss/search?q=site:wilsoncenter.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"research"},{name:"GMF",url:p("https://news.google.com/rss/search?q=site:gmfus.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"research"},{name:"Stimson Center",url:p("https://www.stimson.org/feed/"),type:"research"},{name:"CNAS",url:p("https://news.google.com/rss/search?q=site:cnas.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"research"},{name:"Lowy Institute",url:p("https://news.google.com/rss/search?q=site:lowyinstitute.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"research"},{name:"Arms Control Assn",url:p("https://news.google.com/rss/search?q=site:armscontrol.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"nuclear"},{name:"Bulletin of Atomic Scientists",url:p("https://news.google.com/rss/search?q=site:thebulletin.org+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"nuclear"},{name:"Bellingcat",url:p("https://www.bellingcat.com/feed/"),type:"osint"},{name:"Krebs Security",url:p("https://krebsonsecurity.com/feed/"),type:"cyber"},{name:"FAO News",url:p("https://www.fao.org/feeds/fao-newsroom-rss"),type:"economic"},{name:"FAO GIEWS",url:p("https://news.google.com/rss/search?q=site:fao.org+GIEWS+food+security+when:30d&hl=en-US&gl=US&ceid=US:en"),type:"economic"},{name:"EU ISS",url:p("https://news.google.com/rss/search?q=site:iss.europa.eu+when:7d&hl=en-US&gl=US&ceid=US:en"),type:"intl"}],Lo={map:{name:"Global Map",enabled:!0,priority:1},"live-news":{name:"Live News",enabled:!0,priority:1},"live-webcams":{name:"Live Webcams",enabled:!0,priority:1},insights:{name:"AI Insights",enabled:!0,priority:1},"strategic-posture":{name:"AI Strategic Posture",enabled:!0,priority:1},cii:{name:"Country Instability",enabled:!0,priority:1},"strategic-risk":{name:"Strategic Risk Overview",enabled:!0,priority:1},intel:{name:"Intel Feed",enabled:!0,priority:1},"gdelt-intel":{name:"Live Intelligence",enabled:!0,priority:1},cascade:{name:"Infrastructure Cascade",enabled:!0,priority:1},politics:{name:"World News",enabled:!0,priority:1},middleeast:{name:"Middle East",enabled:!0,priority:1},africa:{name:"Africa",enabled:!0,priority:1},latam:{name:"Latin America",enabled:!0,priority:1},asia:{name:"Asia-Pacific",enabled:!0,priority:1},energy:{name:"Energy & Resources",enabled:!0,priority:1},gov:{name:"Government",enabled:!0,priority:1},thinktanks:{name:"Think Tanks",enabled:!0,priority:1},polymarket:{name:"Predictions",enabled:!0,priority:1},commodities:{name:"Commodities",enabled:!0,priority:1},markets:{name:"Markets",enabled:!0,priority:1},economic:{name:"Economic Indicators",enabled:!0,priority:1},finance:{name:"Financial",enabled:!0,priority:1},tech:{name:"Technology",enabled:!0,priority:2},crypto:{name:"Crypto",enabled:!0,priority:2},heatmap:{name:"Sector Heatmap",enabled:!0,priority:2},ai:{name:"AI/ML",enabled:!0,priority:2},layoffs:{name:"Layoffs Tracker",enabled:!0,priority:2},monitors:{name:"My Monitors",enabled:!0,priority:2},"satellite-fires":{name:"Fires",enabled:!0,priority:2},"macro-signals":{name:"Market Radar",enabled:!0,priority:2},"etf-flows":{name:"BTC ETF Tracker",enabled:!0,priority:2},stablecoins:{name:"Stablecoins",enabled:!0,priority:2},"ucdp-events":{name:"UCDP Conflict Events",enabled:!0,priority:2},displacement:{name:"UNHCR Displacement",enabled:!0,priority:2},climate:{name:"Climate Anomalies",enabled:!0,priority:2},"population-exposure":{name:"Population Exposure",enabled:!0,priority:2}},Do={conflicts:!0,bases:!0,cables:!1,pipelines:!1,hotspots:!0,ais:!1,nuclear:!0,irradiators:!1,sanctions:!0,weather:!0,economic:!0,waterways:!0,outages:!0,cyberThreats:!1,datacenters:!1,protests:!1,flights:!1,military:!0,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!1,cloudRegions:!1,accelerators:!1,techHQs:!1,techEvents:!1,stockExchanges:!1,financialCenters:!1,centralBanks:!1,commodityHubs:!1,gulfInvestments:!1},Oo={conflicts:!0,bases:!1,cables:!1,pipelines:!1,hotspots:!0,ais:!1,nuclear:!1,irradiators:!1,sanctions:!0,weather:!0,economic:!1,waterways:!1,outages:!0,cyberThreats:!1,datacenters:!1,protests:!1,flights:!1,military:!1,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!1,cloudRegions:!1,accelerators:!1,techHQs:!1,techEvents:!1,stockExchanges:!1,financialCenters:!1,centralBanks:!1,commodityHubs:!1,gulfInvestments:!1},Fo={map:{name:"Global Tech Map",enabled:!0,priority:1},"live-news":{name:"Tech Headlines",enabled:!0,priority:1},"live-webcams":{name:"Live Webcams",enabled:!0,priority:2},insights:{name:"AI Insights",enabled:!0,priority:1},ai:{name:"AI/ML News",enabled:!0,priority:1},tech:{name:"Technology",enabled:!0,priority:1},startups:{name:"Startups & VC",enabled:!0,priority:1},vcblogs:{name:"VC Insights & Essays",enabled:!0,priority:1},regionalStartups:{name:"Global Startup News",enabled:!0,priority:1},unicorns:{name:"Unicorn Tracker",enabled:!0,priority:1},accelerators:{name:"Accelerators & Demo Days",enabled:!0,priority:1},security:{name:"Cybersecurity",enabled:!0,priority:1},policy:{name:"AI Policy & Regulation",enabled:!0,priority:1},regulation:{name:"AI Regulation Dashboard",enabled:!0,priority:1},layoffs:{name:"Layoffs Tracker",enabled:!0,priority:1},markets:{name:"Tech Stocks",enabled:!0,priority:2},finance:{name:"Financial News",enabled:!0,priority:2},crypto:{name:"Crypto",enabled:!0,priority:2},hardware:{name:"Semiconductors & Hardware",enabled:!0,priority:2},cloud:{name:"Cloud & Infrastructure",enabled:!0,priority:2},dev:{name:"Developer Community",enabled:!0,priority:2},github:{name:"GitHub Trending",enabled:!0,priority:1},ipo:{name:"IPO & SPAC",enabled:!0,priority:2},polymarket:{name:"Tech Predictions",enabled:!0,priority:2},funding:{name:"Funding & VC",enabled:!0,priority:1},producthunt:{name:"Product Hunt",enabled:!0,priority:1},events:{name:"Tech Events",enabled:!0,priority:1},"service-status":{name:"Service Status",enabled:!0,priority:2},economic:{name:"Economic Indicators",enabled:!0,priority:2},"tech-readiness":{name:"Tech Readiness Index",enabled:!0,priority:1},"macro-signals":{name:"Market Radar",enabled:!0,priority:2},"etf-flows":{name:"BTC ETF Tracker",enabled:!0,priority:2},stablecoins:{name:"Stablecoins",enabled:!0,priority:2},monitors:{name:"My Monitors",enabled:!0,priority:2}},_o={conflicts:!1,bases:!1,cables:!0,pipelines:!1,hotspots:!1,ais:!1,nuclear:!1,irradiators:!1,sanctions:!1,weather:!0,economic:!0,waterways:!1,outages:!0,cyberThreats:!1,datacenters:!0,protests:!1,flights:!1,military:!1,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!0,cloudRegions:!0,accelerators:!1,techHQs:!0,techEvents:!0,stockExchanges:!1,financialCenters:!1,centralBanks:!1,commodityHubs:!1,gulfInvestments:!1},Bo={conflicts:!1,bases:!1,cables:!1,pipelines:!1,hotspots:!1,ais:!1,nuclear:!1,irradiators:!1,sanctions:!1,weather:!1,economic:!1,waterways:!1,outages:!0,cyberThreats:!1,datacenters:!0,protests:!1,flights:!1,military:!1,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!0,cloudRegions:!1,accelerators:!1,techHQs:!1,techEvents:!0,stockExchanges:!1,financialCenters:!1,centralBanks:!1,commodityHubs:!1,gulfInvestments:!1},xo={map:{name:"Global Markets Map",enabled:!0,priority:1},"live-news":{name:"Market Headlines",enabled:!0,priority:1},"live-webcams":{name:"Live Webcams",enabled:!0,priority:2},insights:{name:"AI Market Insights",enabled:!0,priority:1},markets:{name:"Live Markets",enabled:!0,priority:1},"markets-news":{name:"Markets News",enabled:!0,priority:2},forex:{name:"Forex & Currencies",enabled:!0,priority:1},bonds:{name:"Fixed Income",enabled:!0,priority:1},commodities:{name:"Commodities & Futures",enabled:!0,priority:1},"commodities-news":{name:"Commodities News",enabled:!0,priority:2},crypto:{name:"Crypto & Digital Assets",enabled:!0,priority:1},"crypto-news":{name:"Crypto News",enabled:!0,priority:2},centralbanks:{name:"Central Bank Watch",enabled:!0,priority:1},economic:{name:"Economic Data",enabled:!0,priority:1},"economic-news":{name:"Economic News",enabled:!0,priority:2},ipo:{name:"IPOs, Earnings & M&A",enabled:!0,priority:1},heatmap:{name:"Sector Heatmap",enabled:!0,priority:1},"macro-signals":{name:"Market Radar",enabled:!0,priority:1},derivatives:{name:"Derivatives & Options",enabled:!0,priority:2},fintech:{name:"Fintech & Trading Tech",enabled:!0,priority:2},regulation:{name:"Financial Regulation",enabled:!0,priority:2},institutional:{name:"Hedge Funds & PE",enabled:!0,priority:2},analysis:{name:"Market Analysis",enabled:!0,priority:2},"etf-flows":{name:"BTC ETF Tracker",enabled:!0,priority:2},stablecoins:{name:"Stablecoins",enabled:!0,priority:2},"gcc-investments":{name:"GCC Investments",enabled:!0,priority:2},gccNews:{name:"GCC Business News",enabled:!0,priority:2},polymarket:{name:"Predictions",enabled:!0,priority:2},monitors:{name:"My Monitors",enabled:!0,priority:2}},Ho={conflicts:!1,bases:!1,cables:!0,pipelines:!0,hotspots:!1,ais:!1,nuclear:!1,irradiators:!1,sanctions:!0,weather:!0,economic:!0,waterways:!0,outages:!0,cyberThreats:!1,datacenters:!1,protests:!1,flights:!1,military:!1,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!1,cloudRegions:!1,accelerators:!1,techHQs:!1,techEvents:!1,stockExchanges:!0,financialCenters:!0,centralBanks:!0,commodityHubs:!1,gulfInvestments:!1},$o={conflicts:!1,bases:!1,cables:!1,pipelines:!1,hotspots:!1,ais:!1,nuclear:!1,irradiators:!1,sanctions:!1,weather:!1,economic:!0,waterways:!1,outages:!0,cyberThreats:!1,datacenters:!1,protests:!1,flights:!1,military:!1,natural:!0,spaceports:!1,minerals:!1,fires:!1,ucdpEvents:!1,displacement:!1,climate:!1,startupHubs:!1,cloudRegions:!1,accelerators:!1,techHQs:!1,techEvents:!1,stockExchanges:!0,financialCenters:!1,centralBanks:!0,commodityHubs:!1,gulfInvestments:!1},KS=L==="tech"?Fo:L==="finance"?xo:Lo,jS=L==="tech"?_o:L==="finance"?Ho:Do,qS=L==="tech"?Bo:L==="finance"?$o:Oo,YS={military:["opensky","wingbits"],ais:["ais"],natural:["usgs"],weather:["weather"],outages:["outages"],cyberThreats:["cyber_threats"],protests:["acled","gdelt_doc"],ucdpEvents:["ucdp_events"],displacement:["unhcr"],climate:["climate"]},JS=[{id:"gi-001",city:"Vega Alta",country:"Puerto Rico",lat:18.420295,lon:-66.334995},{id:"gi-002",city:"Northborough, MA",country:"USA",lat:42.311091,lon:-71.649221},{id:"gi-003",city:"Chester, NY",country:"USA",lat:41.323774,lon:-74.289753},{id:"gi-004",city:"Whippany, NJ",country:"USA",lat:40.825619,lon:-74.40563},{id:"gi-005",city:"South Plainfield, NJ",country:"USA",lat:40.579733,lon:-74.424443},{id:"gi-006",city:"Rockaway, NJ",country:"USA",lat:40.895771,lon:-74.522053},{id:"gi-007",city:"Salem, NJ",country:"USA",lat:39.569018,lon:-75.465052},{id:"gi-008",city:"Durham, NC",country:"USA",lat:35.975972,lon:-78.884913},{id:"gi-009",city:"Haw River, NC",country:"USA",lat:36.088692,lon:-79.375943},{id:"gi-010",city:"Mississauga, ON",country:"Canada",lat:43.579934,lon:-79.628163},{id:"gi-011",city:"Charlotte, NC",country:"USA",lat:35.202512,lon:-80.794517},{id:"gi-012",city:"Spartanburg, SC",country:"USA",lat:34.940428,lon:-81.939245},{id:"gi-013",city:"Mulberry, FL",country:"USA",lat:27.898651,lon:-81.971679},{id:"gi-014",city:"Groveport, OH",country:"USA",lat:39.852653,lon:-82.888091},{id:"gi-015",city:"Westerville, OH",country:"USA",lat:40.115286,lon:-82.918498},{id:"gi-016",city:"Gurnee, IL",country:"USA",lat:42.376292,lon:-87.895077},{id:"gi-017",city:"Libertyville, IL",country:"USA",lat:42.274642,lon:-87.960518},{id:"gi-018",city:"Schaumburg, IL",country:"USA",lat:42.053589,lon:-88.048792},{id:"gi-019",city:"Memphis, TN",country:"USA",lat:35.140839,lon:-90.187236},{id:"gi-020",city:"Metapa de Dominguez",country:"Mexico",lat:14.836864,lon:-92.195166},{id:"gi-021",city:"Minneapolis, MN",country:"USA",lat:44.950269,lon:-93.246374},{id:"gi-022",city:"Grand Prairie, TX",country:"USA",lat:32.720166,lon:-97.020252},{id:"gi-023",city:"Fort Worth, TX",country:"USA",lat:32.766098,lon:-97.324345},{id:"gi-024",city:"Tepeji del Rio",country:"Mexico",lat:19.901705,lon:-99.341524},{id:"gi-025",city:"Toluca",country:"Mexico",lat:19.286008,lon:-99.644432},{id:"gi-026",city:"Matehuala",country:"Mexico",lat:23.645547,lon:-100.653481},{id:"gi-027",city:"El Paso, TX",country:"USA",lat:31.794133,lon:-106.387446},{id:"gi-028",city:"Sandy, UT",country:"USA",lat:40.54449,lon:-111.833074},{id:"gi-029",city:"Temecula, CA",country:"USA",lat:33.468294,lon:-117.105422},{id:"gi-030",city:"San Diego, CA",country:"USA",lat:32.751164,lon:-117.200996},{id:"gi-031",city:"Corona, CA",country:"USA",lat:33.870026,lon:-117.56985},{id:"gi-032",city:"Tustin, CA",country:"USA",lat:33.735654,lon:-117.823925},{id:"gi-033",city:"Gilroy, CA",country:"USA",lat:37.010533,lon:-121.588342},{id:"gi-034",city:"Hayward, CA",country:"USA",lat:37.659417,lon:-122.090256},{id:"gi-035",city:"Kunia Camp, HI",country:"USA",lat:21.462766,lon:-158.057863},{id:"gi-036",city:"Sao Paulo",country:"Brazil",lat:-23.542047,lon:-46.58432},{id:"gi-037",city:"Cotia",country:"Brazil",lat:-23.580141,lon:-46.656614},{id:"gi-038",city:"Sao Paulo Region",country:"Brazil",lat:-23.598327,lon:-46.916378},{id:"gi-039",city:"Buenos Aires",country:"Argentina",lat:-34.636145,lon:-58.472782},{id:"gi-040",city:"La Paz",country:"Bolivia",lat:-16.546576,lon:-68.207797},{id:"gi-041",city:"Bogota",country:"Colombia",lat:4.632938,lon:-74.075412},{id:"gi-042",city:"Panama City",country:"Panama",lat:9.071441,lon:-79.300808},{id:"gi-043",city:"Havana",country:"Cuba",lat:23.120885,lon:-82.423354},{id:"gi-044",city:"Havana",country:"Cuba",lat:23.009447,lon:-82.490902},{id:"gi-045",city:"Moscow",country:"Russia",lat:55.717376,lon:37.689322},{id:"gi-046",city:"Obninsk",country:"Russia",lat:55.113284,lon:36.593435},{id:"gi-047",city:"Minsk",country:"Belarus",lat:53.892511,lon:27.563155},{id:"gi-048",city:"Magurele",country:"Romania",lat:44.374433,lon:26.050775},{id:"gi-049",city:"Alliku",country:"Estonia",lat:59.355411,lon:24.591014},{id:"gi-050",city:"Sofia",country:"Bulgaria",lat:42.685821,lon:23.294419},{id:"gi-051",city:"Michalovce",country:"Slovakia",lat:48.7612,lon:21.898753},{id:"gi-052",city:"Velká Bíteš",country:"Czech Republic",lat:49.288579,lon:16.223873},{id:"gi-053",city:"Belgrade",country:"Serbia",lat:44.758887,lon:20.598464},{id:"gi-054",city:"Budapest",country:"Hungary",lat:47.489017,lon:19.14197},{id:"gi-055",city:"Seibersdorf",country:"Austria",lat:47.95946,lon:16.516047},{id:"gi-056",city:"Veverská Bítýška",country:"Czech Republic",lat:49.274109,lon:16.43573},{id:"gi-057",city:"Zagreb",country:"Croatia",lat:45.794472,lon:16.017888},{id:"gi-058",city:"Radeberg",country:"Germany",lat:51.109509,lon:13.917448},{id:"gi-059",city:"Roskilde",country:"Denmark",lat:55.643201,lon:12.069288},{id:"gi-060",city:"Allershausen",country:"Germany",lat:48.42663,lon:11.598988},{id:"gi-061",city:"Minerbio",country:"Italy",lat:44.616154,lon:11.470066},{id:"gi-062",city:"Baden-Württemberg",country:"Germany",lat:48.806391,lon:9.3215},{id:"gi-063",city:"Lomazzo",country:"Italy",lat:45.697924,lon:9.027723},{id:"gi-064",city:"Däniken",country:"Switzerland",lat:47.365354,lon:7.967939},{id:"gi-065",city:"Wiehl",country:"Germany",lat:50.95633,lon:7.537838},{id:"gi-066",city:"Venlo",country:"Netherlands",lat:51.364552,lon:6.176397},{id:"gi-067",city:"Ede",country:"Netherlands",lat:52.039888,lon:5.666329},{id:"gi-068",city:"Marseille",country:"France",lat:43.323344,lon:5.395258},{id:"gi-069",city:"Dagneux",country:"France",lat:45.855206,lon:5.075505},{id:"gi-070",city:"Chusclan",country:"France",lat:44.148579,lon:4.679974},{id:"gi-071",city:"Etten-Leur",country:"Netherlands",lat:51.573407,lon:4.626725},{id:"gi-072",city:"Fleurus",country:"Belgium",lat:50.483418,lon:4.540843},{id:"gi-073",city:"Sablé-sur-Sarthe",country:"France",lat:47.837859,lon:-.344394},{id:"gi-074",city:"Pouzauges",country:"France",lat:46.782139,lon:-.837019},{id:"gi-075",city:"Tilehurst",country:"UK",lat:51.453028,lon:-1.013584},{id:"gi-076",city:"Northants",country:"UK",lat:52.27069,lon:-1.182336},{id:"gi-077",city:"Chesterfield",country:"UK",lat:53.266866,lon:-1.322859},{id:"gi-078",city:"Sheffield",country:"UK",lat:53.38034,lon:-1.470618},{id:"gi-079",city:"Swindon",country:"UK",lat:51.575779,lon:-1.766416},{id:"gi-080",city:"Westport",country:"Ireland",lat:53.797423,lon:-9.530576},{id:"gi-081",city:"Jeollabuk-do",country:"South Korea",lat:35.82,lon:127.15},{id:"gi-082",city:"Quezon City",country:"Philippines",lat:14.66,lon:121.06},{id:"gi-083",city:"Jiangsu Province",country:"China",lat:32.06,lon:118.78},{id:"gi-084",city:"Jakarta",country:"Indonesia",lat:-6.23,lon:106.82},{id:"gi-085",city:"Selangor",country:"Malaysia",lat:3.07,lon:101.5},{id:"gi-086",city:"Rayong",country:"Thailand",lat:12.68,lon:101.28},{id:"gi-087",city:"Ongkharak",country:"Thailand",lat:14.12,lon:100.99},{id:"gi-088",city:"Chonburi",country:"Thailand",lat:13.36,lon:100.98},{id:"gi-089",city:"Kedah",country:"Malaysia",lat:6.12,lon:100.37},{id:"gi-090",city:"Yangon",country:"Myanmar",lat:16.87,lon:96.2},{id:"gi-091",city:"Kolkata",country:"India",lat:22.57,lon:88.36},{id:"gi-092",city:"Unnao",country:"India",lat:26.54,lon:80.49},{id:"gi-093",city:"Malwana",country:"Sri Lanka",lat:7,lon:80},{id:"gi-094",city:"Telangana",country:"India",lat:17.39,lon:78.49},{id:"gi-095",city:"Malur",country:"India",lat:13,lon:77.94},{id:"gi-096",city:"Bangalore",country:"India",lat:12.97,lon:77.59},{id:"gi-097",city:"Delhi",country:"India",lat:28.61,lon:77.21},{id:"gi-098",city:"Bhiwadi",country:"India",lat:28.21,lon:76.86},{id:"gi-099",city:"Dharuhera",country:"India",lat:28.21,lon:76.8},{id:"gi-100",city:"Dewas",country:"India",lat:22.97,lon:76.05},{id:"gi-101",city:"Rahuri",country:"India",lat:19.39,lon:74.65},{id:"gi-102",city:"Nashik",country:"India",lat:20.01,lon:73.79},{id:"gi-103",city:"Lahore",country:"Pakistan",lat:31.55,lon:74.34},{id:"gi-104",city:"Satara",country:"India",lat:17.68,lon:74},{id:"gi-105",city:"Thane",country:"India",lat:19.22,lon:72.98},{id:"gi-106",city:"Vadodara",country:"India",lat:22.31,lon:73.19},{id:"gi-107",city:"Mumbai",country:"India",lat:19.08,lon:72.88},{id:"gi-108",city:"Ahmedabad",country:"India",lat:23.02,lon:72.57},{id:"gi-109",city:"Tashkent",country:"Uzbekistan",lat:41.3,lon:69.28},{id:"gi-110",city:"Tehran",country:"Iran",lat:35.69,lon:51.39},{id:"gi-111",city:"Isfahan",country:"Iran",lat:32.65,lon:51.67},{id:"gi-112",city:"Bonab",country:"Iran",lat:37.34,lon:46.06},{id:"gi-113",city:"Amman",country:"Jordan",lat:31.95,lon:35.93},{id:"gi-114",city:"Yavne",country:"Israel",lat:31.88,lon:34.74},{id:"gi-115",city:"Ankara",country:"Turkey",lat:39.93,lon:32.86},{id:"gi-116",city:"Çerkezköy",country:"Turkey",lat:41.29,lon:28},{id:"gi-117",city:"Kempton Park",country:"South Africa",lat:-26.12,lon:28.22},{id:"gi-118",city:"Cape Town",country:"South Africa",lat:-33.92,lon:18.42},{id:"gi-119",city:"Sidi Thabet",country:"Tunisia",lat:36.91,lon:10.03},{id:"gi-120",city:"Abuja",country:"Nigeria",lat:9.08,lon:7.4},{id:"gi-121",city:"Accra",country:"Ghana",lat:5.56,lon:-.19},{id:"gi-122",city:"Ibaraki",country:"Japan",lat:36.34,lon:140.45},{id:"gi-123",city:"Bobadela",country:"Portugal",lat:38.8,lon:-9.1},{id:"gi-124",city:"Plymouth",country:"UK",lat:50.38,lon:-4.14}],$n={tech:"https://tech.worldmonitor.app",full:"https://worldmonitor.app",world:"https://worldmonitor.app"},Go="http://127.0.0.1:46123";function Vo(t){const a=t.userAgent.includes("Tauri"),e=t.locationProtocol==="https:"&&(t.locationHost==="localhost"||t.locationHost.startsWith("localhost:")||t.locationHost==="127.0.0.1"||t.locationHost.startsWith("127.0.0.1:")),n=t.locationProtocol==="tauri:"||t.locationProtocol==="asset:"||t.locationHost==="tauri.localhost"||t.locationHost.endsWith(".tauri.localhost")||t.locationOrigin.startsWith("tauri://")||e;return t.hasTauriGlobals||a||n}function R(){var t,a,e,n;return typeof window>"u"?!1:Vo({hasTauriGlobals:"__TAURI_INTERNALS__"in window||"__TAURI__"in window,userAgent:((t=window.navigator)==null?void 0:t.userAgent)??"",locationProtocol:((a=window.location)==null?void 0:a.protocol)??"",locationHost:((e=window.location)==null?void 0:e.host)??"",locationOrigin:((n=window.location)==null?void 0:n.origin)??""})}function Rs(){return R()?Go:""}function ct(){return $n["full"]??$n.full??"https://worldmonitor.app"}function zo(t){if(!t.startsWith("/"))return t;const a=Rs();return a?`${a}${t}`:t}const Wo=new Set(["worldmonitor.app","www.worldmonitor.app","tech.worldmonitor.app","localhost","127.0.0.1"]);function ha(t){try{const e=new URL(t).hostname;return Wo.has(e)||e.endsWith(".worldmonitor.app")}catch{return!1}}function Ko(t){if(typeof t=="string"){if(t.startsWith("/"))return t;if(ha(t)){const a=new URL(t);return`${a.pathname}${a.search}`}return null}if(t instanceof URL)return ha(t.href)?`${t.pathname}${t.search}`:null;if(ha(t.url)){const a=new URL(t.url);return`${a.pathname}${a.search}`}return null}function jo(t){return new Promise(a=>setTimeout(a,t))}function qo(t){return t.startsWith("/api/local-")}async function Yo(t,a,e){var s;let i=null;for(let r=1;r<=4;r+=1)try{return await t(a,e)}catch(o){if(i=o,(s=e==null?void 0:e.signal)!=null&&s.aborted)throw o;if(r===4)break;await jo(125*r)}throw i instanceof Error?i:new Error("Local API unavailable")}function XS(){if(!R()||typeof window>"u"||window.__wmFetchPatched)return;const t=window.fetch.bind(window),a=Rs();let e=null;window.fetch=async(n,i)=>{const s=Ko(n),r=localStorage.getItem("wm-debug-log")==="1";if(!(s!=null&&s.startsWith("/api/"))){if(r){const y=typeof n=="string"?n:n instanceof URL?n.href:n.url;console.log(`[fetch] passthrough → ${y.slice(0,120)}`)}return t(n,i)}if(!e)try{const{tryInvokeTauri:y}=await $(async()=>{const{tryInvokeTauri:f}=await Promise.resolve().then(()=>Xo);return{tryInvokeTauri:f}},void 0);e=await y("get_local_api_token")}catch{}const o=new Headers(i==null?void 0:i.headers);e&&o.set("Authorization",`Bearer ${e}`);const c={...i,headers:o},l=`${a}${s}`;r&&console.log(`[fetch] intercept → ${s}`);let d=!qo(s);if(d)try{const{getSecretState:y,secretsReady:f}=await $(async()=>{const{getSecretState:v,secretsReady:b}=await Promise.resolve().then(()=>qn);return{getSecretState:v,secretsReady:b}},void 0);await Promise.race([f,new Promise(v=>setTimeout(v,2e3))]);const g=y("WORLDMONITOR_API_KEY");(!g.present||!g.valid)&&(d=!1)}catch{d=!1}const m=async()=>{var g;if(!d)throw new Error(`Cloud fallback blocked for ${s}`);const y=`${ct()}${s}`;r&&console.log(`[fetch] cloud fallback → ${y}`);const f=new Headers(i==null?void 0:i.headers);if(/^\/api\/[^/]+\/v1\//.test(s)){const{getRuntimeConfigSnapshot:v}=await $(async()=>{const{getRuntimeConfigSnapshot:C}=await Promise.resolve().then(()=>qn);return{getRuntimeConfigSnapshot:C}},void 0),b=(g=v().secrets.WORLDMONITOR_API_KEY)==null?void 0:g.value;b&&f.set("X-WorldMonitor-Key",b)}return t(y,{...i,headers:f})};try{const y=performance.now(),f=await Yo(t,l,c);return r&&console.log(`[fetch] ${s} → ${f.status} (${Math.round(performance.now()-y)}ms)`),f.ok?f:d?(r&&console.log(`[fetch] local ${f.status}, falling back to cloud`),m()):(r&&console.log(`[fetch] local-only endpoint ${s} returned ${f.status}; skipping cloud fallback`),f)}catch(y){if(r&&console.warn(`[runtime] Local API unavailable for ${s}`,y),!d)throw y;return m()}},window.__wmFetchPatched=!0}function Jo(){var e,n,i;if(typeof window>"u")return null;const t=window,a=((n=(e=t.__TAURI__)==null?void 0:e.core)==null?void 0:n.invoke)??((i=t.__TAURI_INTERNALS__)==null?void 0:i.invoke);return typeof a=="function"?a:null}async function Z(t,a){const e=Jo();if(!e)throw new Error("Tauri invoke bridge unavailable");return e(t,a)}async function Ps(t,a){try{return await Z(t,a)}catch(e){return console.warn(`[tauri-bridge] Command failed: ${t}`,e),null}}const Xo=Object.freeze(Object.defineProperty({__proto__:null,invokeTauri:Z,tryInvokeTauri:Ps},Symbol.toStringTag,{value:"Module"})),Us="worldmonitor-persistent-cache:",Qo="worldmonitor_persistent_cache",Zo=1,Ve="entries";let Ae=null;function hn(){return typeof window<"u"&&typeof window.indexedDB<"u"}function Ls(){return hn()?Ae||(Ae=new Promise((t,a)=>{const e=indexedDB.open(Qo,Zo);e.onerror=()=>a(e.error??new Error("Failed to open cache IndexedDB")),e.onupgradeneeded=()=>{const n=e.result;n.objectStoreNames.contains(Ve)||n.createObjectStore(Ve,{keyPath:"key"})},e.onsuccess=()=>{const n=e.result;n.onclose=()=>{Ae=null},t(n)}}),Ae):Promise.reject(new Error("IndexedDB unavailable"))}async function ec(t){const a=await Ls();return new Promise((e,n)=>{const r=a.transaction(Ve,"readonly").objectStore(Ve).get(t);r.onsuccess=()=>e(r.result??null),r.onerror=()=>n(r.error)})}async function tc(t){const a=await Ls();return new Promise((e,n)=>{const i=a.transaction(Ve,"readwrite");i.oncomplete=()=>e(),i.onerror=()=>n(i.error),i.objectStore(Ve).put(t)})}async function ia(t){if(R())try{return await Z("read_cache_entry",{key:t})??null}catch(a){console.warn("[persistent-cache] Desktop read failed; falling back to browser storage",a)}if(hn())try{return await ec(t)}catch(a){console.warn("[persistent-cache] IndexedDB read failed; falling back to localStorage",a),Ae=null}try{const a=localStorage.getItem(`${Us}${t}`);return a?JSON.parse(a):null}catch{return null}}async function sa(t,a){const e={key:t,data:a,updatedAt:Date.now()};if(R())try{await Z("write_cache_entry",{key:t,value:JSON.stringify(e)});return}catch(n){console.warn("[persistent-cache] Desktop write failed; falling back to browser storage",n)}if(hn()&&!Vn())try{await tc(e);return}catch(n){Ha(n)?$a():console.warn("[persistent-cache] IndexedDB write failed; falling back to localStorage",n),Ae=null}if(!Vn())try{localStorage.setItem(`${Us}${t}`,JSON.stringify(e))}catch(n){Ha(n)&&$a()}}const ac="api-response:";function Ds(t){return R()?zo(t):t}function Os(t){return typeof t=="string"&&(t.startsWith("/api/")||t.includes("/api/"))}function Fs(t){return`${ac}${t}`}function nc(t,a,e){const n={};return a.headers.forEach((i,s)=>{n[s]=i}),{url:t,status:a.status,statusText:a.statusText,headers:n,body:e}}function ic(t){return new Response(t.body,{status:t.status,statusText:t.statusText,headers:t.headers})}async function Gn(t){const a=await fetch(Ds(t));if(a.ok&&Os(t))try{const e=await a.clone().text();sa(Fs(t),nc(t,a,e))}catch(e){console.warn("[proxy] Failed to persist API response cache",e)}return a}async function sc(t){if(!Os(t))return fetch(Ds(t));const a=Fs(t),e=await ia(a);return e!=null&&e.data?(Gn(t).catch(n=>{console.warn("[proxy] Background refresh failed for cached API response",n)}),ic(e.data)):Gn(t)}const rc={title:"World Monitor",description:"Global Situation with AI Insights"},oc={identifying:"Identifying country...",locating:"Locating region...",limitedCoverage:"Limited coverage",instabilityIndex:"Instability Index",notTracked:"Not tracked — {{country}} is not in the CII tier-1 list",intelBrief:"Intelligence Brief",generatingBrief:"Generating intelligence brief...",topNews:"Top News",activeSignals:"Active Signals",timeline:"7-Day Timeline",predictionMarkets:"Prediction Markets",loadingMarkets:"Loading prediction markets...",infrastructure:"Infrastructure Exposure",briefUnavailable:"AI brief unavailable — configure GROQ_API_KEY in Settings.",cached:"Cached",fresh:"Fresh",noMarkets:"No prediction markets found",loadingIndex:"Loading index...",components:{unrest:"Unrest",conflict:"Conflict",security:"Security",information:"Information"},signals:{protests:"protests",militaryAir:"mil. aircraft",militarySea:"mil. vessels",outages:"outages",earthquakes:"earthquakes",displaced:"displaced",climate:"Climate stress",conflictEvents:"conflict events"},timeAgo:{m:"{{count}}m ago",h:"{{count}}h ago",d:"{{count}}d ago"},infra:{pipeline:"Pipelines",cable:"Undersea Cables",datacenter:"Data Centers",base:"Military Bases",nuclear:"Nuclear Facilities",port:"Ports"}},cc={world:"WORLD",tech:"TECH",live:"LIVE",search:"Search",settings:"PANELS",sources:"SOURCES",copyLink:"Copy Link",fullscreen:"Fullscreen",pinMap:"Pin map to top",viewOnGitHub:"View on GitHub",filterSources:"Filter sources...",sourcesEnabled:"{{enabled}}/{{total}} enabled",finance:"FINANCE",toggleTheme:"Toggle dark/light mode"},lc={liveNews:"Live News",markets:"Markets",map:"Global Situation",techMap:"Global Tech",techHubs:"Hot Tech Hubs",status:"System Status",insights:"AI Insights",strategicPosture:"AI Strategic Posture",cii:"Country Instability",strategicRisk:"Strategic Risk Overview",intel:"Intel Feed",gdeltIntel:"Live Intelligence",cascade:"Infrastructure Cascade",politics:"World News",middleeast:"Middle East",africa:"Africa",latam:"Latin America",asia:"Asia-Pacific",energy:"Energy & Resources",gov:"Government",thinktanks:"Think Tanks",polymarket:"Predictions",commodities:"Commodities",economic:"Economic Indicators",finance:"Financial",tech:"Technology",crypto:"Crypto",heatmap:"Sector Heatmap",ai:"AI/ML",layoffs:"Layoffs Tracker",monitors:"My Monitors",satelliteFires:"Fires",macroSignals:"Market Radar",etfFlows:"BTC ETF Tracker",stablecoins:"Stablecoins",ucdpEvents:"UCDP Conflict Events",displacement:"UNHCR Displacement",climate:"Climate Anomalies",populationExposure:"Population Exposure",startups:"Startups & VC",vcblogs:"VC Insights & Essays",regionalStartups:"Global Startup News",unicorns:"Unicorn Tracker",accelerators:"Accelerators & Demo Days",security:"Cybersecurity",policy:"AI Policy & Regulation",regulation:"AI Regulation Dashboard",hardware:"Semiconductors & Hardware",cloud:"Cloud & Infrastructure",dev:"Developer Community",github:"GitHub Trending",ipo:"IPO & SPAC",funding:"Funding & VC",producthunt:"Product Hunt",events:"Tech Events",serviceStatus:"Service Status",techReadiness:"Tech Readiness Index",gccInvestments:"GCC Investments",geoHubs:"Geopolitical Hubs",liveWebcams:"Live Webcams"},uc={search:{placeholder:"Search news, pipelines, bases, markets...",hint:"News • Pipelines • Bases • Cables • Datacenters • Markets",placeholderTech:"Search companies, AI labs, startups, events...",hintTech:"HQs • Companies • AI Labs • Startups • Accelerators • Events",placeholderFinance:"Search exchanges, markets, central banks...",hintFinance:"Exchanges • Financial Centers • Central Banks • Commodities",recent:"Recent Searches",empty:"Search across all data sources",noResults:"No results",navigate:"navigate",select:"select",close:"close",types:{country:"Country",news:"News",hotspot:"Hotspot",market:"Market",prediction:"Prediction",conflict:"Conflict",base:"Military Base",pipeline:"Pipeline",cable:"Submarine Cable",datacenter:"Datacenter",earthquake:"Earthquake",outage:"Outage",nuclear:"Nuclear Site",irradiator:"Irradiator",techcompany:"Tech Company",ailab:"AI Lab",startup:"Startup",techevent:"Tech Event",techhq:"Tech HQ",accelerator:"Accelerator"}},signal:{title:"INTELLIGENCE FINDING",soundAlerts:"Sound alerts",dismiss:"Dismiss",confidence:"Confidence",country:"Country:",scoreChange:"Score Change:",instabilityLevel:"Instability Level:",primaryDriver:"Primary Driver:",location:"Location:",eventTypes:"Event Types:",eventCount:"Event Count:",eventCountValue:"{{count}} events in 24h",source:"Source:",countriesAffected:"Countries Affected:",impactLevel:"Impact Level:",focalPoints:"CORRELATED FOCAL POINTS",newsCorrelation:"NEWS CORRELATION",viewOnMap:"View on map",whyItMatters:"Why it matters:",action:"Action:",note:"Note:",suppress:"Suppress this term",suppressed:"Suppressed",predictionLeading:"Prediction Leading",newsLeading:"News Leading",silentDivergence:"Silent Divergence",velocitySpike:"Velocity Spike",keywordSpike:"Keyword Spike",convergence:"Convergence",triangulation:"Triangulation",flowDrop:"Flow Drop",flowPriceDivergence:"Flow/Price Divergence",geoConvergence:"Geographic Convergence",marketMove:"Market Move Explained",sectorCascade:"Sector Cascade",militarySurge:"Military Surge"},story:{generating:"Generating story...",close:"Close",shareTitle:"Share story",save:"Save",whatsapp:"WhatsApp",twitter:"X",linkedin:"LinkedIn",copyLink:"Link",saved:"Saved!",copied:"Copied!",opening:"Opening...",error:"Failed to generate story."},mobileWarning:{title:"Mobile View",description:"You're viewing a simplified mobile version focused on MENA region with essential layers enabled.",tip:"Tip: Use the view buttons (GLOBAL/US/MENA) to switch regions. Tap markers to see details.",dontShowAgain:"Don't show again",gotIt:"Got it"},downloadBanner:{title:"Desktop Available",description:"Native performance, secure local key storage, offline map tiles.",macSilicon:"macOS (Apple Silicon)",macIntel:"macOS (Intel)",windows:"Windows (.exe)",linux:"Linux (.AppImage)",showAllPlatforms:"Show all platforms",showLess:"Show less",dismiss:"Dismiss"},runtimeConfig:{title:"Desktop Configuration",alertTitle:{configured:"Desktop settings configured",needsKeys:"Configure API keys to unlock features",some:"Some features need API keys"},openSettings:"Open Settings",skipSetup:"Skip the setup — a single World Monitor license unlocks everything. Join the waitlist for early access.",summary:{desktop:"Desktop mode",web:"Web mode (read-only, server-managed credentials)",secrets:"local secrets configured",available:"features available"},status:{ready:"Ready",staged:"Staged",needsKeys:"Needs Keys",invalid:"Invalid",missing:"Missing",valid:"Valid",looksInvalid:"Looks invalid"},placeholder:{setSecret:"Set secret",staged:"Staged (save with OK)"},help:{URLHAUS_AUTH_KEY:"Used for both URLhaus and ThreatFox APIs.",OTX_API_KEY:"Optional enrichment source for the cyber threat layer.",ABUSEIPDB_API_KEY:"Optional enrichment source for malicious IP reputation.",FINNHUB_API_KEY:"Real-time stock quotes and market data.",NASA_FIRMS_API_KEY:"Fire Information for Resource Management System.",OLLAMA_API_URL:"e.g. http://127.0.0.1:11434 (Ollama) or http://127.0.0.1:1234/v1 (LM Studio) — OpenAI-compatible endpoint.",OLLAMA_MODEL:"e.g. llama3.1:8b — model tag to use for summarization."}},settingsWindow:{validating:"Validating API keys...",saved:"Settings saved",failed:"Save failed: {{error}}",verifyFailed:"Saved verified keys. Failed: {{errors}}",verboseOn:"Verbose sidecar logging ON (saved)",verboseOff:"Verbose sidecar logging OFF (saved)",invokeFail:"Failed to run {{command}}. Check desktop log.",openLogs:"Opened logs folder",openApiLog:"Opened API log",sidecarError:"Could not reach sidecar to toggle verbose mode",noTraffic:"No traffic recorded yet.",sidecarUnreachable:"Sidecar not reachable.",logCleared:"Log cleared.",worldMonitor:{tabLabel:"World Monitor",heroTitle:"One key. Everything included.",heroDescription:"A single World Monitor license replaces every API key and LLM provider you'd otherwise configure yourself. AI summaries, real-time intelligence, market data, conflict tracking, fire detection, satellite imagery — all powered, all managed, zero setup.",apiKey:{title:"License Key",placeholder:"wm_xxxxxxxxxxxxxxxxxxxxxxxx",description:"Paste your license to unlock every data source and AI feature instantly.",statusValid:"LICENSED",statusMissing:"NO LICENSE"},dividerOr:"OR",register:{title:"Reserve Your Spot",description:"We're preparing to launch World Monitor licenses. Sign up now and be first in line — early members get priority access and founding-member pricing.",emailPlaceholder:"your@email.com",submitBtn:"Join Waitlist",submitting:"Submitting...",success:"You're on the list! We'll notify you first.",alreadyRegistered:"You're already on the waitlist.",error:"Registration failed. Please try again."},byokTitle:"Or bring your own keys",byokDescription:"Prefer full control? Head to the API Keys and LLMs tabs to configure each data source and AI provider individually."},table:{time:"Time",method:"Method",path:"Path",status:"Status",duration:"Duration"}},countryIntel:{identifying:"Identifying country...",locating:"Locating region...",instabilityIndex:"Instability Index",protests:"protests",militaryAircraft:"mil. aircraft",militaryVessels:"mil. vessels",outages:"outages",earthquakes:"earthquakes",loadingIndex:"Loading index...",loadingMarkets:"Loading prediction markets...",generatingBrief:"Generating intelligence brief...",cached:"Cached",fresh:"Fresh",noMarkets:"No prediction markets found",predictionMarkets:"Prediction Markets",unavailable:"AI brief unavailable — configure GROQ_API_KEY in Settings."},countryBrief:{identifying:"Identifying country...",locating:"Locating region...",limitedCoverage:"Limited coverage",instabilityIndex:"Instability Index",notTracked:"Not tracked — {{country}} is not in the CII tier-1 list",intelBrief:"Intelligence Brief",generatingBrief:"Generating intelligence brief...",topNews:"Top News",activeSignals:"Active Signals",timeline:"7-Day Timeline",predictionMarkets:"Prediction Markets",loadingMarkets:"Loading prediction markets...",infrastructure:"Infrastructure Exposure",briefUnavailable:"AI brief unavailable — configure GROQ_API_KEY in Settings.",cached:"Cached",fresh:"Fresh",noMarkets:"No prediction markets found",loadingIndex:"Loading index...",components:{unrest:"Unrest",conflict:"Conflict",security:"Security",information:"Information"},signals:{protests:"protests",militaryAir:"mil. aircraft",militarySea:"mil. vessels",outages:"outages",earthquakes:"earthquakes",displaced:"displaced",climate:"Climate stress",conflictEvents:"conflict events"},timeAgo:{m:"{{count}}m ago",h:"{{count}}h ago",d:"{{count}}d ago"},infra:{pipeline:"Pipelines",cable:"Undersea Cables",datacenter:"Data Centers",base:"Military Bases",nuclear:"Nuclear Facilities",port:"Ports"},levels:{critical:"Critical",high:"High",elevated:"Elevated",moderate:"Moderate",normal:"Normal",low:"Low"},trends:{rising:"Rising",falling:"Falling",stable:"Stable"},fallback:{instabilityIndex:"**Instability Index: {{score}}/100** ({{level}}, {{trend}})",protestsDetected:"{{count}} active protests detected",aircraftTracked:"{{count}} military aircraft tracked",vesselsTracked:"{{count}} military vessels tracked",internetOutages:"{{count}} internet outages",recentEarthquakes:"{{count}} recent earthquakes",stockIndex:"Stock index: {{value}}",recentHeadlines:"**Recent headlines:**"}}},dc=JSON.parse(`{"webcams":{"regions":{"all":"ALL","mideast":"MIDEAST","europe":"EUROPE","americas":"AMERICAS","asia":"ASIA"}},"monitor":{"placeholder":"Keywords (comma separated)","add":"+ Add Monitor","addKeywords":"Add keywords to monitor news","noMatches":"No matches in {{count}} articles","showingMatches":"Showing {{count}} of {{total}} matches","match":"match","matches":"matches"},"regulation":{"dashboard":"AI Regulation Dashboard","timeline":"Timeline","deadlines":"Deadlines","regulations":"Regulations","countries":"Countries","recentActions":"Recent Regulatory Actions (Last 12 Months)","upcomingDeadlines":"Upcoming Compliance Deadlines","activeRegulations":"Active Regulations","proposedRegulations":"Proposed Regulations","globalLandscape":"Global Regulatory Landscape","emptyActions":"No recent regulatory actions","emptyDeadlines":"No upcoming compliance deadlines in the next 12 months","keyProvisions":"Key Provisions","learnMore":"Learn More","active":"Active","proposed":"Proposed","updated":"Updated","actionsCount":"{{count}} actions","deadlinesCount":"{{count}} deadlines","days":"days","activeCount":"Active Regulations ({{count}})","proposedCount":"Proposed Regulations ({{count}})","moreProvisions":"+{{count}} more...","source":"Source","stances":{"strict":"Strict","moderate":"Moderate","permissive":"Permissive","undefined":"Undefined"}},"economic":{"indicators":"Indicators","oil":"Oil","gov":"Gov","noData":"No economic data available","noOilData":"Oil data not available","noOilMetrics":"No oil metrics available. Add EIA_API_KEY to enable.","noSpending":"No recent government awards","awards":"awards","noIndicatorData":"No indicator data yet - FRED may be loading","noOilDataRetry":"Oil data temporarily unavailable - will retry","vsPreviousWeek":"vs previous week","in":"in"},"gdelt":{"empty":"No recent articles for this topic"},"geoHubs":{"tooltip":"<strong>Geopolitical Activity Hubs</strong><br>Shows regions with the most news activity.<br><br><em>Hub types:</em><br>• 🏛️ Capitals — World capitals and government centers<br>• ⚔️ Conflict Zones — Active conflict areas<br>• ⚓ Strategic — Chokepoints and key regions<br>• 🏢 Organizations — UN, NATO, IAEA, etc.<br><br><em>Activity levels:</em><br>• <span style=\\"color: #ff4444\\">High</span> — Breaking news or 70+ score<br>• <span style=\\"color: #ff8844\\">Elevated</span> — Score 40-69<br>• <span style=\\"color: #888\\">Low</span> — Score below 40<br><br>Click a hub to zoom to its location.","noActive":"No active geopolitical hubs","story":"story","stories":"stories","infoTooltip":"<strong>Geopolitical Activity Hubs</strong><br>Shows regions with the most news activity.<br><br><em>Hub types:</em><br>• 🏛️ Capitals — World capitals and government centers<br>• ⚔️ Conflict Zones — Active conflict areas<br>• ⚓ Strategic — Chokepoints and key regions<br>• 🏢 Organizations — UN, NATO, IAEA, etc.<br><br><em>Activity levels:</em><br>• <span style=\\"color: {{highColor}}\\">High</span> — Breaking news or 70+ score<br>• <span style=\\"color: {{elevatedColor}}\\">Elevated</span> — Score 40-69<br>• <span style=\\"color: {{lowColor}}\\">Low</span> — Score below 40<br><br>Click a hub to zoom to its location."},"techHubs":{"tooltip":"<strong>Tech Hub Activity</strong><br>Shows tech hubs with the most news activity.<br><br><em>Activity levels:</em><br>• <span style=\\"color: #00ff88\\">High</span> — Breaking news or 50+ score<br>• <span style=\\"color: #ffc800\\">Elevated</span> — Score 20-49<br>• <span style=\\"color: #888\\">Low</span> — Score below 20<br><br>Click a hub to zoom to its location.","noActive":"No active tech hubs","infoTooltip":"<strong>Tech Hub Activity</strong><br>Shows tech hubs with the most news activity.<br><br><em>Activity levels:</em><br>• <span style=\\"color: {{highColor}}\\">High</span> — Breaking news or 50+ score<br>• <span style=\\"color: {{elevatedColor}}\\">Elevated</span> — Score 20-49<br>• <span style=\\"color: {{lowColor}}\\">Low</span> — Score below 20<br><br>Click a hub to zoom to its location."},"predictions":{"tooltip":"<strong>Prediction Markets</strong><br>Real-money forecasting markets:<br><ul><li>Prices reflect crowd probability estimates</li><li>Higher volume = more reliable signal</li><li>Geopolitical and current events focus</li></ul>Source: Polymarket (polymarket.com)","error":"Failed to load predictions","yes":"Yes","no":"No","vol":"Vol"},"stablecoins":{"pegHealth":"Peg Health","supplyVolume":"Supply & Volume","unavailable":"Stablecoin data temporarily unavailable","token":"Token","mcap":"MCap","vol24h":"24h Vol","chg24h":"24h Chg"},"status":{"dataFeeds":"Data Feeds","apiStatus":"API Status","storage":"Storage","systemStatus":"System Status","updatedJustNow":"Updated just now","updatedAt":"Updated {{time}}","storageUnavailable":"Storage info unavailable"},"playback":{"toggleMode":"Toggle Playback Mode","live":"LIVE","historicalPlayback":"Historical Playback"},"pizzint":{"title":"Pentagon Pizza Index","defcon":"DEFCON {{level}}","updated":"Updated {{timeAgo}}","tensionsTitle":"Geopolitical Tensions","source":"Source:","statusClosed":"CLOSED","statusSpike":"SPIKE","statusHigh":"HIGH","statusElevated":"ELEVATED","statusNominal":"NOMINAL","statusQuiet":"QUIET","justNow":"just now","minutesAgo":"{{m}}m ago","hoursAgo":"{{h}}h ago","defconLabels":{"1":"COCKED PISTOL - MAXIMUM READINESS","2":"FAST PACE - ARMED FORCES READY","3":"ROUND HOUSE - INCREASE FORCE READINESS","4":"DOUBLE TAKE - INCREASED INTELLIGENCE WATCH","5":"FADE OUT - LOWEST READINESS"}},"strategicPosture":{"elapsed":"Elapsed: {{elapsed}} s","clickToView":"Click to view {{name}} on map","clickToViewMap":"Click to view on map","refresh":"Refresh","units":{"fighters":"Fighters","tankers":"Tankers","awacs":"AWACS","recon":"Recon","transport":"Transport","bombers":"Bombers","drones":"Drones","aircraft":"Aircraft","carriers":"Carriers","destroyers":"Destroyers","frigates":"Frigates","submarines":"Submarines","patrol":"Patrol","auxiliary":"Auxiliary","navalVessels":"Naval Vessels"},"infoTooltip":"<strong>Methodology</strong><p>Aggregates military aircraft and naval vessels by theater.</p><ul><li><strong>Normal:</strong> Baseline activity</li><li><strong>Elevated:</strong> Above threshold (50+ aircraft)</li><li><strong>Critical:</strong> High concentration (100+ aircraft)</li></ul><p><strong>Strike Capable:</strong> Tankers + AWACS + Fighters present in sufficient numbers for sustained operations.</p>","scanningTheaters":"Scanning Theaters","positions":"Aircraft positions","navalVesselsLoading":"Naval vessels","theaterAnalysis":"Theater analysis","connectingStreams":"Connecting to live ADS-B & AIS streams...","initialLoadNote":"Initial load takes 30-60 seconds as tracking data accumulates","acquiringData":"Acquiring Data","acquiringDesc":"Connecting to ADS-B network for military flight data. This may take 30-60 seconds on first load.","openSkyAdsb":"OpenSky ADS-B","aisVesselStream":"AIS Vessel Stream","retryNow":"Retry Now","feedRateLimited":"Feed Rate Limited","rateLimitedDesc":"OpenSky API has request limits. The panel will automatically retry in a few minutes, or you can try again now.","rateLimitedTip":"Tip: Peak hours (UTC 12:00-20:00) often see higher limits.","tryAgain":"Try Again","badges":{"critical":"CRIT","elevated":"ELEV","normal":"NORM"},"trendStable":"stable","domains":{"air":"AIR","sea":"SEA"},"strike":"STRIKE","staleWarning":"Using cached data - live feed temporarily unavailable","updated":"Updated:","theaters":{"iran-theater":"Iran Theater","taiwan-theater":"Taiwan Strait","baltic-theater":"Baltic Theater","blacksea-theater":"Black Sea","korea-theater":"Korean Peninsula","south-china-sea":"South China Sea","east-med-theater":"Eastern Mediterranean","israel-gaza-theater":"Israel/Gaza","yemen-redsea-theater":"Yemen/Red Sea"}},"countryBrief":{"shareStory":"Share story","printPdf":"Print / PDF","exportData":"Export data","sourceRef":"Source [{{n}}]"},"relatedAssets":{"pipeline":"Pipeline","cable":"Cable","datacenter":"Datacenter","base":"Base","nuclear":"Nuclear"},"community":{"joinDiscussion":"Join the Discussion","openDiscussion":"Open Discussion","dontShowAgain":"Don't show again"},"threatLabels":{"critical":"CRIT","high":"HIGH","medium":"MED","low":"LOW","info":"INFO"},"deckgl":{"zoomIn":"Zoom In","zoomOut":"Zoom Out","resetView":"Reset View","legend":{"title":"LEGEND","startupHub":"Startup Hub","techHQ":"Tech HQ","accelerator":"Accelerator","cloudRegion":"Cloud Region","datacenter":"Datacenter","stockExchange":"Stock Exchange","financialCenter":"Financial Center","centralBank":"Central Bank","commodityHub":"Commodity Hub","waterway":"Waterway","highAlert":"High Alert","elevated":"Elevated","monitoring":"Monitoring","base":"Base","nuclear":"Nuclear"},"layerGuide":"Layer Guide","layersTitle":"Layers","timeAll":"All","views":{"global":"Global","americas":"Americas","mena":"MENA","europe":"Europe","asia":"Asia","latam":"Latin America","africa":"Africa","oceania":"Oceania"},"layers":{"startupHubs":"Startup Hubs","techHQs":"Tech HQs","accelerators":"Accelerators","cloudRegions":"Cloud Regions","aiDataCenters":"AI Data Centers","underseaCables":"Undersea Cables","internetOutages":"Internet Outages","cyberThreats":"Cyber Threats","techEvents":"Tech Events","naturalEvents":"Natural Events","fires":"Fires","intelHotspots":"Intel Hotspots","conflictZones":"Conflict Zones","militaryBases":"Military Bases","nuclearSites":"Nuclear Sites","gammaIrradiators":"Gamma Irradiators","spaceports":"Spaceports","pipelines":"Pipelines","militaryActivity":"Military Activity","shipTraffic":"Ship Traffic","flightDelays":"Flight Delays","protests":"Protests","ucdpEvents":"UCDP Events","displacementFlows":"Displacement Flows","climateAnomalies":"Climate Anomalies","weatherAlerts":"Weather Alerts","strategicWaterways":"Strategic Waterways","economicCenters":"Economic Centers","criticalMinerals":"Critical Minerals","stockExchanges":"Stock Exchanges","financialCenters":"Financial Centers","centralBanks":"Central Banks","commodityHubs":"Commodity Hubs","gulfInvestments":"GCC Investments"},"tooltip":{"earthquake":"Earthquake","militaryAircraft":"Military Aircraft","vesselCluster":"Vessel Cluster","vessels":"vessels","flightCluster":"Flight Cluster","aircraft":"aircraft","protest":"Protest","protestsCount":"{{count}} protests","techHQsCount":"{{count}} tech HQs","techEventsCount":"{{count}} tech events","dataCentersCount":"{{count}} data centers","underseaCable":"Undersea Cable","pipeline":"Pipeline","conflictZone":"Conflict Zone","naturalEvent":"Natural Event","financialCenter":"financial center","port":"Port","disruption":"Disruption","advisory":"Advisory","repairShip":"Repair Ship","internetOutage":"Internet Outage","medium":"medium","news":"News","undisclosed":"Undisclosed","stake":"stake"},"layerHelp":{"title":"Map Layers Guide","labels":{"countries":"Countries","timeRecent":"1H/6H/24H","timeExtended":"7D/30D/ALL","sanctions":"Sanctions","shipping":"Shipping"},"sections":{"techEcosystem":"Tech Ecosystem","infrastructure":"Infrastructure","naturalEconomic":"Natural & Economic","financeCore":"Finance Core","infrastructureRisk":"Infrastructure & Risk","macroContext":"Macro Context","timeFilter":"Time Filter (top-right)","geopolitical":"Geopolitical","militaryStrategic":"Military & Strategic","transport":"Transport","labels":"Labels"},"descriptions":{"techStartupHubs":"Major startup ecosystems (SF, NYC, London, etc.)","techCloudRegions":"AWS, Azure, GCP data center regions","techHQs":"Headquarters of major tech companies","techAccelerators":"Y Combinator, Techstars, 500 Startups locations","infraCables":"Major undersea fiber optic cables (internet backbone)","infraDatacenters":"AI compute clusters >=10,000 GPUs","infraOutages":"Internet blackouts and service disruptions","naturalEventsTech":"Earthquakes, storms, fires (may affect data centers)","weatherAlerts":"Severe weather alerts","economicCenters":"Stock exchanges & central banks","countriesOverlay":"Country name overlays","financeExchanges":"Major global exchanges by market tier","financeCenters":"Global and regional finance hubs","financeCentralBanks":"Monetary policy institutions worldwide","financeCommodityHubs":"Key exchanges, ports, and refining hubs","financeCables":"Major undersea fiber routes tied to market infrastructure","financePipelines":"Oil/gas pipeline routes affecting energy markets","financeOutages":"Internet disruptions that can impact market operations","financeCyberThreats":"Security events around financial infrastructure","macroWaterways":"Strategic chokepoints for commodity shipping","weatherAlertsMarket":"Severe weather events with market relevance","naturalEventsMacro":"Earthquakes, fires, floods, and other natural disruptions","timeRecent":"Filter time-based data to recent hours","timeExtended":"Show data from past week, month, or all time","geoConflicts":"Active war zones (Ukraine, Gaza, etc.) with boundaries","geoHotspots":"Tension regions - color-coded by news activity level","geoSanctions":"Countries under US/EU/UN economic sanctions","geoProtests":"Civil unrest, demonstrations (time-filtered)","militaryBases":"US/NATO, China, Russia military installations (150+)","militaryNuclear":"Power plants, enrichment, weapons facilities","militaryIrradiators":"Industrial gamma irradiator facilities","militaryActivity":"Live military aircraft and vessel tracking","infraCablesFull":"Major undersea fiber optic cables (20 backbone routes)","infraPipelinesFull":"Oil/gas pipelines (Nord Stream, TAPI, etc.)","infraDatacentersFull":"AI compute clusters >=10,000 GPUs only","transportShipping":"Vessels, chokepoints, 61 strategic ports","transportDelays":"Airport delays and ground stops (FAA)","naturalEventsFull":"Earthquakes (USGS) + storms, fires, volcanoes, floods (NASA EONET)","waterwaysLabels":"Strategic chokepoint labels"},"notes":{"timeAffects":"Affects: Earthquakes, Weather, Protests, Outages"}}},"cii":{"shareStory":"Share story","noSignals":"No instability signals detected","infoTooltip":"<strong>Methodology</strong><ul><li><strong>U</strong>nrest: civil disorder & protests</li><li><strong>C</strong>onflict: armed conflict intensity</li><li><strong>S</strong>ecurity: military flights/vessels over territory</li><li><strong>I</strong>nformation: news velocity and focal point correlation</li><li>Hotspot proximity boost (strategic locations)</li></ul><em>U:C:S:I values show component scores.</em> Focal Point Detection correlates news entities with map signals for accurate scoring."},"insights":{"noStories":"No breaking or multi-source stories yet","step":"Step {{step}}/{{total}}","waitingForData":"Waiting for news data...","rankingStories":"Ranking important stories...","analyzingSentiment":"Analyzing sentiment...","generatingBrief":"Generating world brief...","infoTooltip":"<strong>AI-Powered Analysis</strong><br>• <strong>World Brief</strong>: AI summary (Groq/OpenRouter)<br>• <strong>Sentiment</strong>: News tone analysis<br>• <strong>Velocity</strong>: Fast-moving stories<br>• <strong>Focal Points</strong>: Correlates news entities with map signals (military, protests, outages)<br><em>Desktop only • Powered by Llama 3.3 + Focal Point Detection</em>"},"cascade":{"noImpacts":"No country impacts detected","filters":{"cables":"Cables","pipelines":"Pipelines","ports":"Ports","chokepoints":"Chokepoints"},"filterType":{"cable":"cable","pipeline":"pipeline","port":"port","chokepoint":"chokepoint","country":"country"},"selectPrompt":"Select {{type}}...","analyzeImpact":"Analyze Impact","impactLevels":{"critical":"critical","high":"high","medium":"medium","low":"low"},"capacityPercent":"{{percent}}% capacity","noCountryImpacts":"No country impacts detected","alternativeRoutes":"Alternative Routes","countriesAffected":"Countries Affected ({{count}})","links":"links","selectInfrastructureHint":"Select infrastructure to analyze cascade impact","infoTooltip":"<strong>Cascade Analysis</strong> Models infrastructure dependencies:<ul><li>Subsea cables, pipelines, ports, chokepoints</li><li>Select infrastructure to simulate failure</li><li>Shows affected countries and capacity loss</li><li>Identifies redundant routes</li></ul>Data from TeleGeography and industry sources."},"strategicRisk":{"noRisks":"No significant risks detected","levels":{"critical":"Critical","elevated":"Elevated","moderate":"Moderate","low":"Low"},"trend":"Trend","trends":{"escalating":"Escalating","deEscalating":"De-escalating","stable":"Stable"},"insufficientData":"Insufficient Data","unableToAssess":"Unable to assess risk level.","enableDataSources":"Enable data sources to begin monitoring.","requiredDataSources":"Required Data Sources","optionalSources":"Optional Sources","enableCoreFeeds":"Enable Core Feeds","waitingForData":"Waiting for data...","refresh":"Refresh","learningMode":"Learning Mode - {{minutes}}m until reliable","noData":"no data","enable":"Enable","convergenceMetric":"Convergence","ciiDeviation":"CII Deviation","infraEvents":"Infra Events","highAlerts":"High Alerts","topRisks":"Top Risks","recentAlerts":"Recent Alerts ({{count}})","updated":"Updated: {{time}}","time":{"justNow":"just now","minutesAgo":"{{count}}m ago","hoursAgo":"{{count}}h ago"},"infoTooltip":"<strong>Methodology</strong> Composite score (0-100) blending:<ul><li>50% Country Instability (top 5 weighted)</li><li>30% Geographic convergence zones</li><li>20% Infrastructure incidents</li></ul>Auto-refreshes every 5 minutes."},"techEvents":{"loading":"Loading tech events...","noEvents":"No events to display","showOnMap":"Show on map","moreInfo":"More info","retry":"Retry","upcoming":"Upcoming","conferences":"Conferences","earnings":"Earnings","all":"All","conferencesCount":"{{count}} conferences","onMap":"{{count}} on map","techmemeEvents":"Techmeme Events ↗","today":"TODAY","soon":"SOON"},"techReadiness":{"internetUsers":"Internet Users","mobileSubscriptions":"Mobile Subscriptions","rdSpending":"R&D Spending","fetchingData":"Fetching World Bank Data","internetUsersIndicator":"Internet Users","mobileSubscriptionsIndicator":"Mobile Subscriptions","broadbandAccess":"Broadband Access","rdExpenditure":"R&D Expenditure","analyzingCountries":"Analyzing 200+ countries...","source":"Source: World Bank","updated":"Updated: {{date}}","infoTooltip":"<strong>Global Tech Readiness</strong><br>Composite score (0-100) based on World Bank data:<br><br><strong>Metrics shown:</strong><br>🌐 Internet Users (% of population)<br>📱 Mobile Subscriptions (per 100 people)<br>🔬 R&D Expenditure (% of GDP)<br><br><strong>Weights:</strong> R&D (35%), Internet (30%), Broadband (20%), Mobile (15%)<br><br><em>— = No recent data available</em><br><em>Source: World Bank Open Data (2019-2024)</em>"},"populationExposure":{"noData":"No exposure data available","totalAffected":"Total Affected","affectedCount":"{{count}} affected","radiusKm":"{{km}}km radius","infoTooltip":"<strong>Population Exposure Estimates</strong> Estimated population within event impact radius. Based on WorldPop country density data.<ul><li>Conflict: 50km radius</li><li>Earthquake: 100km radius</li><li>Flood: 100km radius</li><li>Wildfire: 30km radius</li></ul>"},"satelliteFires":{"noData":"No fire data available","region":"Region","fires":"Fires","high":"High","total":"Total","never":"never","time":{"justNow":"just now","minutesAgo":"{{count}}m ago","hoursAgo":"{{count}}h ago"},"infoTooltip":"NASA FIRMS VIIRS satellite thermal detections across monitored conflict regions. High-intensity = brightness >360K & confidence >80%."},"ucdpEvents":{"stateBased":"State-Based","nonState":"Non-State","oneSided":"One-Sided","country":"Country","deaths":"Deaths","date":"Date","actors":"Actors","deathsCount":"{{count}} deaths","moreNotShown":"{{count}} more events not shown","noEvents":"No events in this category","infoTooltip":"<strong>UCDP Georeferenced Events</strong> Event-level conflict data from Uppsala University.<ul><li><strong>State-Based</strong>: Government vs rebel group</li><li><strong>Non-State</strong>: Armed group vs armed group</li><li><strong>One-Sided</strong>: Violence against civilians</li></ul>Deaths shown as best estimate (low-high range). ACLED duplicates are filtered out automatically."},"displacement":{"noData":"No data","refugees":"Refugees","asylumSeekers":"Asylum Seekers","idps":"IDPs","total":"Total","origins":"Origins","hosts":"Hosts","badges":{"crisis":"CRISIS","high":"HIGH","elevated":"ELEVATED"},"country":"Country","status":"Status","count":"Count","infoTooltip":"<strong>UNHCR Displacement Data</strong> Global refugee, asylum seeker, and IDP counts from UNHCR.<ul><li><strong>Origins</strong>: Countries people flee FROM</li><li><strong>Hosts</strong>: Countries hosting refugees</li><li>Crisis badges: >1M | High: >500K displaced</li></ul>Data updates yearly. CC BY 4.0 license."},"climate":{"noAnomalies":"No significant anomalies detected","zone":"Zone","temp":"Temp","precip":"Precip","severityLabel":"Severity","severity":{"extreme":"EXTREME","moderate":"MODERATE","normal":"NORMAL"},"infoTooltip":"<strong>Climate Anomaly Monitor</strong> Temperature and precipitation deviations from 30-day baseline. Data from Open-Meteo (ERA5 reanalysis).<ul><li><strong>Extreme</strong>: >5°C or >80mm/day deviation</li><li><strong>Moderate</strong>: >3°C or >40mm/day deviation</li></ul>Monitors 15 conflict/disaster-prone zones."},"newsPanel":{"close":"Close","summarize":"Summarize this panel","generatingSummary":"Generating summary...","sources":"{{count}} sources","relatedAssetsNear":"Related assets near {{location}}"},"export":{"exportData":"Export Data"},"runtimeConfig":{"getApiKey":"Get API key"},"intelligenceFindings":{"hideFindings":"Hide Intelligence Findings","badgeTitle":"Intelligence findings","title":"Intelligence Findings","none":"No recent intelligence findings","monitoring":"MONITORING","scanning":"Scanning for correlations and anomalies...","reviewRecommended":"{{count}} intelligence findings - review recommended","count":"{{count}} intelligence finding","detected":"{{count}} DETECTED","critical":"{{count}} CRITICAL","highPriority":"{{count}} HIGH PRIORITY","more":"+{{count}} more findings","all":"All Intelligence Findings ({{count}})","priority":{"critical":"CRITICAL","high":"HIGH","medium":"MEDIUM","low":"LOW"},"insights":{"criticalDestabilization":"Critical destabilization - immediate attention","significantShift":"Significant shift - monitor closely","developingSituation":"Developing situation - track for escalation","convergence":"Multiple events clustering in region","cascade":"Infrastructure disruption spreading","review":"Review for situational awareness"},"time":{"justNow":"just now","minutesAgo":"{{count}}m ago","hoursAgo":"{{count}}h ago","daysAgo":"{{count}}d ago"}},"countryTimeline":{"now":"now","noEventsIn7Days":"No events in 7 days"},"gdeltIntel":{"infoTooltip":"<strong>GDELT Intelligence</strong> Real-time global news monitoring:<ul><li>Curated topic categories (conflicts, cyber, etc.)</li><li>Articles from 100+ languages translated</li><li>Updates every 15 minutes</li></ul>Source: GDELT Project (gdeltproject.org)"},"investments":{"infoTooltip":"Database of Saudi Arabia and UAE foreign direct investments in global critical infrastructure. Click a row to fly to the investment on the map.","searchPlaceholder":"Search assets, countries, entities…","allCountries":"All Countries","saudiArabia":"Saudi Arabia","uae":"UAE","allSectors":"All Sectors","allEntities":"All Entities","allStatuses":"All Statuses","operational":"Operational","underConstruction":"Under Construction","announced":"Announced","rumoured":"Rumoured","divested":"Divested","asset":"Asset","country":"Country","sector":"Sector","status":"Status","investment":"Investment","year":"Year","noMatch":"No investments match filters","undisclosed":"Undisclosed","sectors":{"ports":"Ports","pipelines":"Pipelines","energy":"Energy","datacenters":"Data Centers","airports":"Airports","railways":"Railways","telecoms":"Telecoms","water":"Water","logistics":"Logistics","mining":"Mining","realEstate":"Real Estate","manufacturing":"Manufacturing"}},"prediction":{"infoTooltip":"<strong>Prediction Markets</strong> Real-money forecasting markets:<ul><li>Prices reflect crowd probability estimates</li><li>Higher volume = more reliable signal</li><li>Geopolitical and current events focus</li></ul>Source: Polymarket (polymarket.com)"},"etfFlows":{"unavailable":"ETF data temporarily unavailable","netFlow":"Net Flow","estFlow":"Est. Flow","totalVol":"Total Vol","etfs":"ETFs","netInflow":"NET INFLOW","netOutflow":"NET OUTFLOW","table":{"ticker":"Ticker","issuer":"Issuer","estFlow":"Est. Flow","volume":"Volume","change":"Change"}},"macroSignals":{"overall":"Overall","verdict":{"buy":"BUY","cash":"CASH"},"bullish":"{{count}}/{{total}} bullish","signals":{"liquidity":"Liquidity","flow":"Flow","regime":"Regime","btcTrend":"BTC Trend","hashRate":"Hash Rate","mining":"Mining","fearGreed":"Fear & Greed"}},"panel":{"showMethodologyInfo":"Show methodology info","dragToResize":"Drag to resize (double-click to reset)","openSettings":"Open Settings"},"languageSelector":{"selectLanguage":"Select Language"},"serviceStatus":{"checkingServices":"Checking services...","allOperational":"All services operational","ok":"OK","degraded":"Degraded","outage":"Outage","backendUnavailable":"Desktop local backend unavailable. Falling back to cloud API.","desktopReadiness":"Desktop readiness","acceptanceChecks":"Acceptance checks: {{ready}}/{{total}} ready · key-backed features {{available}}/{{featureTotal}}","nonParityFallbacks":"Non-parity fallbacks ({{count}})","categories":{"all":"All","cloud":"Cloud","dev":"Dev Tools","comm":"Comms","ai":"AI","saas":"SaaS"}},"verification":{"title":"Information Verification Checklist","hint":"Based on Bellingcat's OSH Framework","verdicts":{"verified":"VERIFIED","likely":"LIKELY AUTHENTIC","uncertain":"UNCERTAIN","unreliable":"UNRELIABLE"},"notesTitle":"Verification Notes","noNotes":"No notes added","addNotePlaceholder":"Add verification note...","add":"Add","resetChecklist":"Reset Checklist","checks":{"recency":"Recent timestamp confirmed","geolocation":"Location verified","source":"Primary source identified","crossref":"Cross-referenced with other sources","noAi":"No AI generation artifacts","noRecrop":"Not recycled/old footage","metadata":"Metadata verified","context":"Context established"}},"liveNews":{"retry":"Retry","notLive":"{{name}} is not currently live","cannotEmbed":"{{name}} cannot be embedded in this app (YouTube {{code}})","openOnYouTube":"Open on YouTube"}}`),pc=JSON.parse('{"startDate":"START DATE","endDate":"END DATE","magnitude":"Magnitude","depth":"Depth","intensity":"Intensity","type":"Type","status":"Status","severity":"Severity","location":"LOCATION","coordinates":"Coordinates","casualties":"CASUALTIES","displaced":"DISPLACED","belligerents":"BELLIGERENTS","keyDevelopments":"KEY DEVELOPMENTS","unknown":"Unknown","source":"Source","target":"Target","events":"Events","impact":"Impact","capacity":"Capacity","alerts":"Active Alerts","updated":"Updated","common":{"start":"START","end":"END","updated":"UPDATED"},"conflict":{"title":"CONFLICT ZONE"},"earthquake":{"levels":{"major":"MAJOR","moderate":"MODERATE","minor":"MINOR"}},"base":{"types":{"us-nato":"US/NATO","china":"CHINA","russia":"RUSSIA"}},"protest":{"acledVerified":"ACLED (verified)","gdelt":"GDELT","riots":"Riots","highSeverity":"High Severity"},"flight":{"groundStop":"GROUND STOP","groundDelay":"GROUND DELAY PROGRAM","departureDelay":"DEPARTURE DELAYS","arrivalDelay":"ARRIVAL DELAYS","delaysReported":"DELAYS REPORTED","delays":"DELAYS","avgDelay":"AVG DELAY","cancelled":"CANCELLED","sources":{"faa":"FAA ASWS","eurocontrol":"Eurocontrol","computed":"Computed"},"regions":{"americas":"Americas","europe":"Europe","apac":"Asia-Pacific","mena":"Middle East","africa":"Africa"}},"apt":{"description":"Advanced Persistent Threat group with state-level capabilities. Known for sophisticated cyber operations targeting critical infrastructure, government, and defense sectors."},"cyberThreat":{"title":"CYBER THREAT"},"nuclear":{"types":{"plant":"POWER PLANT","enrichment":"ENRICHMENT","weapons":"WEAPONS COMPLEX","research":"RESEARCH"},"description":"Nuclear facility under monitoring. Strategic importance for regional security and non-proliferation concerns."},"economic":{"types":{"exchange":"STOCK EXCHANGE","centralBank":"CENTRAL BANK","financialHub":"FINANCIAL HUB"},"closed":"CLOSED"},"irradiator":{"subtitle":"Industrial Gamma Irradiator Facility","description":"Industrial irradiation facility using Cobalt-60 or Cesium-137 sources for medical device sterilization, food preservation, or material processing. Source: IAEA DIIF Database."},"pipeline":{"title":"PIPELINE","types":{"oil":"OIL PIPELINE","gas":"GAS PIPELINE","products":"PRODUCTS PIPELINE"},"status":{"operating":"OPERATING","construction":"UNDER CONSTRUCTION"},"description":"Major {{type}} pipeline infrastructure. {{status}}"},"pipelineStatusDesc":{"operating":"Currently operational and transporting resources.","construction":"Currently under construction."},"cable":{"fault":"FAULT","degraded":"DEGRADED","active":"ACTIVE","major":"MAJOR","cable":"CABLE","subtitle":"Undersea Fiber Optic Cable","type":"SUBMARINE CABLE","advisory":"FAULT ADVISORY","repairDeployment":"REPAIR DEPLOYMENT","repairStatus":{"onStation":"On Station","enRoute":"En Route"},"health":{"evidence":"HEALTH EVIDENCE"},"description":"Undersea telecommunications cable carrying international internet traffic. These fiber optic cables form the backbone of global internet connectivity, transmitting over 95% of intercontinental data."},"repairShip":{"note":"Repair vessel tracking indicates active deployment toward fault site.","badge":"REPAIR SHIP","description":"Repair ship tracking indicates active deployment in support of undersea cable restoration.","status":{"onStation":"ON STATION","enRoute":"EN ROUTE"}},"strategic":"STRATEGIC","verified":"VERIFIED","sampledList":"Showing a sampled list of {{count}} events.","reason":"REASON","threat":"THREAT","aka":"Also known as","sponsor":"SPONSOR","origin":"ORIGIN","country":"COUNTRY","malware":"MALWARE","lastSeen":"LAST SEEN","open":"OPEN","tradingHours":"TRADING HOURS","gamma":"GAMMA","city":"CITY","length":"LENGTH","operator":"OPERATOR","countries":"COUNTRIES","waypoints":"WAYPOINTS","repairEta":"REPAIR ETA","timeUnits":{"m":"m","h":"h","d":"d"},"hotspot":{"escalation":"ESCALATION ASSESSMENT","baseline":"Baseline","score":"Score","trend":"Trend","components":{"news":"News","cii":"CII","geo":"Geo","military":"Military"},"levels":{"stable":"STABLE","watch":"WATCH","elevated":"ELEVATED","high":"HIGH","critical":"CRITICAL"}},"buttons":{"track":"Track Issue","details":"View Details"},"historicalContext":"HISTORICAL CONTEXT","lastMajorEvent":"Last Major Event","precedents":"Precedents","cyclicalPattern":"Cyclical Pattern","whyItMatters":"WHY IT MATTERS","keyEntities":"KEY ENTITIES","relatedHeadlines":"RELATED HEADLINES","liveIntel":"Live Intelligence","loadingNews":"Loading global news...","noCoverage":"No recent global coverage","time":"Time","area":"Area","expires":"Expires","aisGapSpike":"AIS GAP SPIKE","chokepointCongestion":"CHOKEPOINT CONGESTION","darkening":"DARKENING","density":"DENSITY","darkShips":"DARK SHIPS","vesselCount":"VESSEL COUNT","window":"WINDOW","region":"REGION","fatalities":"FATALITIES","actors":"ACTORS","near":"Near","moreEvents":"more events","monitoring":"Monitoring","viewUSGS":"View on USGS","expired":"Expired","timeAgo":{"s":"{{count}}s ago","m":"{{count}}m ago","h":"{{count}}h ago","d":"{{count}}d ago"},"cableAdvisory":{"reported":"REPORTED","impact":"IMPACT","eta":"ETA"},"outage":{"levels":{"total":"TOTAL BLACKOUT","major":"MAJOR OUTAGE","partial":"PARTIAL DISRUPTION","disruption":"DISRUPTION"},"reported":"REPORTED","categories":"CATEGORIES","readReport":"Read full report"},"datacenter":{"status":{"existing":"OPERATIONAL","planned":"PLANNED","decommissioned":"DECOMMISSIONED","unknown":"UNKNOWN"},"gpuChipCount":"GPU/CHIP COUNT","chipType":"CHIP TYPE","power":"POWER","sector":"SECTOR","attribution":"Data: Epoch AI GPU Clusters","chips":"chips","cluster":{"title":"{{count}} Data Centers","totalChips":"TOTAL CHIPS","totalPower":"TOTAL POWER","operational":"OPERATIONAL","planned":"PLANNED","moreDataCenters":"+ {{count}} more data centers","sampledSites":"Showing a sampled list of {{count}} sites."}},"startupHub":{"tiers":{"mega":"MEGA HUB","major":"MAJOR HUB","emerging":"EMERGING","hub":"HUB"},"unicorns":"UNICORNS"},"cloudRegion":{"provider":"PROVIDER","availabilityZones":"AVAILABILITY ZONES"},"techHQ":{"types":{"faang":"BIG TECH","unicorn":"UNICORN","public":"PUBLIC","tech":"TECH"},"marketCap":"MARKET CAP","employees":"EMPLOYEES"},"accelerator":{"types":{"accelerator":"ACCELERATOR","incubator":"INCUBATOR","studio":"STARTUP STUDIO"},"founded":"FOUNDED","notableAlumni":"NOTABLE ALUMNI"},"techEvent":{"days":{"today":"TODAY","tomorrow":"TOMORROW","inDays":"IN {{count}} DAYS"},"date":"DATE","moreInformation":"More Information"},"techHQCluster":{"companiesCount":"{{count}} COMPANIES","bigTechCount":"{{count}} Big Tech","unicornsCount":"{{count}} Unicorns","publicCount":"{{count}} Public","sampled":"Showing a sampled list of {{count}} companies."},"techEventCluster":{"eventsCount":"{{count}} EVENTS","upcomingWithin2Weeks":"{{count}} upcoming within 2 weeks","sampled":"Showing a sampled list of {{count}} events."},"militaryFlight":{"types":{"fighter":"Fighter","bomber":"Bomber","transport":"Transport","tanker":"Tanker","awacs":"AWACS/AEW","reconnaissance":"Reconnaissance","helicopter":"Helicopter","drone":"UAV/Drone","patrol":"Patrol","specialOps":"Special Operations","vip":"VIP Transport"},"altitude":"ALTITUDE","ground":"Ground","speed":"SPEED","heading":"HEADING","hexCode":"HEX CODE","squawk":"SQUAWK","attribution":"Source: OpenSky Network"},"militaryVessel":{"aisDark":"AIS DARK","vessel":"Vessel","speed":"SPEED","heading":"HEADING","mmsi":"MMSI","hull":"HULL #","region":"REGION","strikeGroup":"STRIKE GROUP","deploymentStatus":"STATUS","usniIntel":"USNI Intel","usniSource":"Source: USNI News Fleet Tracker","approximatePosition":"Position approximate — based on USNI weekly report, not real-time AIS.","darkDescription":"⚠ Vessel has gone dark - AIS signal lost. May indicate sensitive operations."},"militaryCluster":{"flightActivity":{"exercise":"Military Exercise","patrol":"Patrol Activity","transport":"Transport Operations","unknown":"Military Activity"},"moreAircraft":"+{{count}} more aircraft","aircraftCount":"{{count}} AIRCRAFT","aircraft":"AIRCRAFT","activity":"ACTIVITY","primary":"PRIMARY","trackedAircraft":"TRACKED AIRCRAFT","vesselActivity":{"exercise":"Naval Exercise","deployment":"Naval Deployment","patrol":"Patrol Activity","transit":"Fleet Transit","unknown":"Naval Activity"},"moreVessels":"+{{count}} more vessels","vesselsCount":"{{count}} VESSELS","vessels":"VESSELS","trackedVessels":"TRACKED VESSELS"},"naturalEvent":{"closed":"CLOSED","active":"ACTIVE","reported":"REPORTED","viewOnSource":"View on {{source}}","attribution":"Data: NASA EONET"},"port":{"types":{"container":"CONTAINER","oil":"OIL TERMINAL","lng":"LNG TERMINAL","naval":"NAVAL PORT","mixed":"MIXED","bulk":"BULK"},"worldRank":"WORLD RANK"},"spaceport":{"status":{"active":"ACTIVE","construction":"CONSTRUCTION","inactive":"INACTIVE"},"launchActivity":"LAUNCH ACTIVITY","description":"Strategic space launch facility. Launch cadence and orbit access capabilities are key geopolitical indicators."},"mineral":{"status":{"producing":"PRODUCING","development":"DEVELOPMENT","exploration":"EXPLORATION"},"projectSubtitle":"{{mineral}} PROJECT"},"stockExchange":{"marketCap":"MARKET CAP"},"financialCenter":{"gfciRank":"GFCI RANK","specialties":"SPECIALTIES"},"centralBank":{"currency":"CURRENCY"},"commodityHub":{"commodities":"COMMODITIES"},"hotspotSubtexts":{"conflict_zone":"Conflict Zone","dprk_watch":"DPRK Watch","egypt_gis":"Egypt/GIS","energy_space":"Energy/Space","financial_hub":"Financial Hub","gchq_mi6":"GCHQ/MI6","greenland_intel":"Greenland Intel","haiti_crisis":"Haiti Crisis","irgc_activity":"IRGC Activity","insurgency_coups":"Insurgency/Coups","iraq_pmf":"Iraq/PMF","kremlin_activity":"Kremlin Activity","lebanon_hezbollah":"Lebanon/Hezbollah","mossad_idf":"Mossad/IDF","nato_hq":"NATO HQ","pla_mss_activity":"PLA/MSS Activity","pentagon_pizza_index":"Pentagon Pizza Index","piracy_conflict":"Piracy/Conflict","qatar_al_udeid":"Qatar/Al Udeid","saudi_gip_mbs":"Saudi GIP/MBS","strait_watch":"Strait Watch","syria_crisis":"Syria Crisis","tech_ai_hub":"Tech/AI Hub","turkey_mit":"Turkey/MIT","uae_ecsr":"UAE/ECSR","venezuela_crisis":"Venezuela Crisis","yemen_houthis":"Yemen/Houthis"}}'),mc={context:{prediction_leads_news:{whyItMatters:"Prediction markets often price in information before it becomes news—traders may have early access to developments.",actionableInsight:"Monitor for breaking news in the next 1-6 hours that could explain the market move.",confidenceNote:"Higher confidence if multiple prediction markets move in same direction."},news_leads_markets:{whyItMatters:"News is breaking faster than markets are reacting—potential mispricing opportunity.",actionableInsight:"Watch for market catch-up as algorithms and traders digest the news.",confidenceNote:"Stronger signal if news is from Tier 1 wire services."},silent_divergence:{whyItMatters:"Market moving significantly without any identifiable news catalyst—possible insider knowledge, algorithmic trading, or unreported development.",actionableInsight:"Investigate alternative data sources; news may emerge later explaining the move.",confidenceNote:"Lower confidence as cause is unknown—treat as early warning, not confirmed intelligence."},velocity_spike:{whyItMatters:"A story is accelerating across multiple news sources—indicates growing significance and potential for market/policy impact.",actionableInsight:"This topic warrants immediate attention; expect official statements or market reactions.",confidenceNote:"Higher confidence with more sources; check if Tier 1 sources are among them."},keyword_spike:{whyItMatters:"A term is appearing at significantly higher frequency than its baseline across multiple sources, indicating a developing story.",actionableInsight:"Review related headlines and AI summary, then correlate with country instability and market moves.",confidenceNote:"Confidence increases with stronger baseline multiplier and broader source diversity."},convergence:{whyItMatters:"Multiple independent source types confirming same event—cross-validation increases likelihood of accuracy.",actionableInsight:"Treat this as high-confidence intelligence; triangulation reduces false positive risk.",confidenceNote:"Very high confidence when wire + government + intel sources align."},triangulation:{whyItMatters:'The "authority triangle" (wire services, government sources, intel specialists) are aligned—this is the gold standard for breaking news confirmation.',actionableInsight:"This is actionable intelligence; expect market/policy reactions imminently.",confidenceNote:"Highest confidence signal in the system—multiple authoritative sources agree."},flow_drop:{whyItMatters:"Physical commodity flow disruption detected—supply constraints often precede price spikes.",actionableInsight:"Monitor energy commodity prices; assess supply chain exposure.",confidenceNote:"Confidence depends on disruption duration and alternative supply availability."},flow_price_divergence:{whyItMatters:"Supply disruption news is not yet reflected in commodity prices—potential information edge.",actionableInsight:"Either markets are slow to react, or the disruption is less significant than reported.",confidenceNote:"Medium confidence—markets may have better information than news reports."},geo_convergence:{whyItMatters:"Multiple news events clustering around same geographic location—potential escalation or coordinated activity.",actionableInsight:"Increase monitoring priority for this region; correlate with satellite/AIS data if available.",confidenceNote:"Higher confidence if events span multiple source types and time periods."},explained_market_move:{whyItMatters:"Market move has clear news catalyst—no mystery, price action reflects known information.",actionableInsight:"Understand the narrative driving the move; assess if reaction is proportional.",confidenceNote:"High confidence—news and price action are correlated."},hotspot_escalation:{whyItMatters:"Geopolitical hotspot showing significant escalation based on news activity, country instability, geographic convergence, and military presence.",actionableInsight:"Increase monitoring priority; assess downstream impacts on infrastructure, markets, and regional stability.",confidenceNote:"Confidence weighted by multiple data sources—news (35%), country instability (25%), geo-convergence (25%), military activity (15%)."},sector_cascade:{whyItMatters:"Market movement is cascading across related sectors—indicates systemic reaction to a catalyzing event.",actionableInsight:"Identify the primary catalyst; assess exposure across correlated assets.",confidenceNote:"Higher confidence when multiple sectors move with similar velocity and direction."},military_surge:{whyItMatters:"Military transport activity significantly above baseline—indicates potential deployment, humanitarian operation, or force projection.",actionableInsight:"Correlate with regional news; assess nearby base activity and naval movements.",confidenceNote:"Higher confidence with sustained activity over multiple hours and diverse aircraft types."},fallback:{whyItMatters:"Signal detected.",actionableInsight:"Monitor for developments.",confidenceNote:"Standard confidence."}}},hc={instabilityRising:"{{country}} Instability Rising",instabilityFalling:"{{country}} Instability Falling",indexRose:"Instability index rose from {{from}} to {{to}} ({{change}}). Driver: {{driver}}",indexFell:"Instability index fell from {{from}} to {{to}} ({{change}}). Driver: {{driver}}",geoAlert:"Geographic Alert: {{location}}",cascadeAlert:"Infrastructure Cascade Alert",infraAlert:"Infrastructure Alert: {{name}}",countriesAffected:"{{count}} countries affected, highest impact: {{impact}}",alert:"Alert: {{location}}",multipleRegions:"Multiple Regions",trending:'"{{term}}" Trending - {{count}} mentions in {{hours}}h',eventsDetected:"{{count}} events detected in region ({{lat}}°, {{lon}}°)"},yc={topics:{military:{name:"Military Activity",description:"Military exercises, deployments, and operations"},cyber:{name:"Cyber Threats",description:"Cyber attacks, ransomware, and digital threats"},nuclear:{name:"Nuclear",description:"Nuclear programs, IAEA inspections, proliferation"},sanctions:{name:"Sanctions",description:"Economic sanctions and trade restrictions"},intelligence:{name:"Intelligence",description:"Espionage, intelligence operations, surveillance"},maritime:{name:"Maritime Security",description:"Naval operations, maritime chokepoints, sea lanes"}}},gc={loading:"Loading...",error:"Error",noData:"No data available",noDataAvailable:"No data available",updated:"Updated just now",ago:"{{time}} ago",retrying:"Retrying…",failedToLoad:"Failed to load data",noDataShort:"No data",upstreamUnavailable:"Upstream API unavailable — will retry automatically",loadingUcdpEvents:"Loading UCDP events",loadingStablecoins:"Loading stablecoins...",scanningThermalData:"Scanning thermal data",calculatingExposure:"Calculating exposure",computingSignals:"Computing signals...",loadingEtfData:"Loading ETF data...",loadingDisplacement:"Loading displacement data",loadingClimateData:"Loading climate data",failedTechReadiness:"Failed to load tech readiness data",failedRiskOverview:"Failed to calculate risk overview",failedPredictions:"Failed to load predictions",failedCII:"Failed to calculate CII",failedDependencyGraph:"Failed to build dependency graph",failedIntelFeed:"Failed to load intelligence feed",failedMarketData:"Failed to load market data",failedSectorData:"Failed to load sector data",failedCommodities:"Failed to load commodities",failedCryptoData:"Failed to load crypto data",failedClusterNews:"Failed to cluster news",noNewsAvailable:"No news available",noActiveTechHubs:"No active tech hubs",noActiveGeoHubs:"No active geopolitical hubs",allSourcesDisabled:"All sources disabled",allIntelSourcesDisabled:"All Intel sources disabled",noEventsInCategory:"No events in this category",exportCsv:"Export CSV",exportJson:"Export JSON",exportData:"Export Data",selectAll:"Select All",selectNone:"Select None",unrest:"Unrest",conflict:"Conflict",security:"Security",information:"Information",shareStory:"Share story",exportImage:"Export Image",new:"NEW",live:"LIVE",cached:"CACHED",unavailable:"UNAVAILABLE",close:"Close",currentVariant:"(current)",retry:"Retry",refresh:"Refresh"},Ua={app:rc,countryBrief:oc,header:cc,panels:lc,modals:uc,components:dc,popups:pc,signals:mc,alerts:hc,intel:yc,common:gc},_s=["en","fr","de","es","it","pl","pt","nl","sv","ru","ar","zh","ja","tr","th","vi"],fc=new Set(_s),La=new Set,Sc=Object.assign({"../locales/ar.json":()=>$(()=>import("./locale-ar-1H-jVGYp.js"),[]).then(t=>t.default),"../locales/de.json":()=>$(()=>import("./locale-de-BSCsJo7B.js"),[]).then(t=>t.default),"../locales/es.json":()=>$(()=>import("./locale-es-CTGBDif4.js"),[]).then(t=>t.default),"../locales/fr.json":()=>$(()=>import("./locale-fr-BV_7FUCr.js"),[]).then(t=>t.default),"../locales/it.json":()=>$(()=>import("./locale-it-D2He_BZ-.js"),[]).then(t=>t.default),"../locales/ja.json":()=>$(()=>import("./locale-ja-JJGjMO2q.js"),[]).then(t=>t.default),"../locales/nl.json":()=>$(()=>import("./locale-nl-_dGyDUs4.js"),[]).then(t=>t.default),"../locales/pl.json":()=>$(()=>import("./locale-pl-Ca3Gdrh6.js"),[]).then(t=>t.default),"../locales/pt.json":()=>$(()=>import("./locale-pt-BiMELaCj.js"),[]).then(t=>t.default),"../locales/ru.json":()=>$(()=>import("./locale-ru-Ch3f3PUu.js"),[]).then(t=>t.default),"../locales/sv.json":()=>$(()=>import("./locale-sv-C4TqZHSO.js"),[]).then(t=>t.default),"../locales/th.json":()=>$(()=>import("./locale-th-DWB53zAj.js"),[]).then(t=>t.default),"../locales/tr.json":()=>$(()=>import("./locale-tr-C_bItgZG.js"),[]).then(t=>t.default),"../locales/vi.json":()=>$(()=>import("./locale-vi-6B70XITv.js"),[]).then(t=>t.default),"../locales/zh.json":()=>$(()=>import("./locale-zh-BtBQ1Wja.js"),[]).then(t=>t.default)}),vc=new Set(["ar"]);function Bs(t){var e;const a=((e=(t||"en").split("-")[0])==null?void 0:e.toLowerCase())||"en";return fc.has(a)?a:"en"}function Da(t){const a=t.split("-")[0]||t;document.documentElement.setAttribute("lang",a==="zh"?"zh-CN":a),vc.has(a)?document.documentElement.setAttribute("dir","rtl"):document.documentElement.removeAttribute("dir")}async function Oa(t){const a=Bs(t);if(La.has(a)&&z.hasResourceBundle(a,"translation"))return a;let e;if(a==="en")e=Ua;else{const n=Sc[`../locales/${a}.json`];n?e=await n():(console.warn(`No locale file for "${a}", falling back to English`),e=Ua)}return z.addResourceBundle(a,"translation",e,!0,!0),La.add(a),a}async function QS(){if(z.isInitialized){const a=Bs(z.language||"en");await Oa(a),Da(z.language||a);return}La.add("en"),await z.use(Ao).init({resources:{en:{translation:Ua}},supportedLngs:[..._s],nonExplicitSupportedLngs:!0,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const t=await Oa(z.language||"en");t!=="en"&&await z.changeLanguage(t),Da(z.language||t)}function u(t,a){return z.t(t,a)}async function ZS(t){const a=await Oa(t);await z.changeLanguage(a),Da(a),window.location.reload()}function J(){return(z.language||"en").split("-")[0]}function e0(){const t=J();return{en:"en-US",zh:"zh-CN",pt:"pt-BR",ja:"ja-JP",tr:"tr-TR",th:"th-TH",vi:"vi-VN"}[t]||t}const t0=[{code:"en",label:"English",flag:"🇬🇧"},{code:"ar",label:"العربية",flag:"🇸🇦"},{code:"zh",label:"中文",flag:"🇨🇳"},{code:"fr",label:"Français",flag:"🇫🇷"},{code:"de",label:"Deutsch",flag:"🇩🇪"},{code:"es",label:"Español",flag:"🇪🇸"},{code:"it",label:"Italiano",flag:"🇮🇹"},{code:"pl",label:"Polski",flag:"🇵🇱"},{code:"pt",label:"Português",flag:"🇵🇹"},{code:"nl",label:"Nederlands",flag:"🇳🇱"},{code:"sv",label:"Svenska",flag:"🇸🇪"},{code:"ru",label:"Русский",flag:"🇷🇺"},{code:"ja",label:"日本語",flag:"🇯🇵"},{code:"th",label:"ไทย",flag:"🇹🇭"},{code:"tr",label:"Türkçe",flag:"🇹🇷"},{code:"vi",label:"Tiếng Việt",flag:"🇻🇳"}];function wc(t,a="worldmonitor-export"){const e=JSON.stringify(t,null,2);ra(e,`${a}.json`,"application/json")}function bc(t,a="worldmonitor-export"){const e=[];t.news&&t.news.length>0&&(e.push("=== NEWS ==="),e.push("Title,Source,Link,Published,IsAlert"),t.news.forEach(n=>{var i;if("primaryTitle"in n){const s=n;e.push(_e([s.primaryTitle,s.primarySource,s.primaryLink,s.lastUpdated.toISOString(),String(s.isAlert)]))}else{const s=n;e.push(_e([s.title,s.source,s.link,((i=s.pubDate)==null?void 0:i.toISOString())||"",String(s.isAlert)]))}}),e.push("")),t.markets&&t.markets.length>0&&(e.push("=== MARKETS ==="),e.push("Symbol,Name,Price,Change"),t.markets.forEach(n=>{e.push(_e([n.symbol,n.name,String(n.price??""),String(n.change??"")]))}),e.push("")),t.predictions&&t.predictions.length>0&&(e.push("=== PREDICTIONS ==="),e.push("Title,Yes Price,Volume"),t.predictions.forEach(n=>{e.push(_e([n.title,String(n.yesPrice),String(n.volume??"")]))}),e.push("")),ra(e.join(`
`),`${a}.csv`,"text/csv")}function a0(t){const a=new Date().toISOString().replace(/[:.]/g,"-");ra(JSON.stringify(t,null,2),`country-brief-${t.code}-${a}.json`,"application/json")}function n0(t){const a=[];if(a.push(`Country Brief: ${t.country} (${t.code})`),a.push(`Generated: ${t.generatedAt}`),a.push(""),t.score!=null&&(a.push(`Score,${t.score}`),a.push(`Level,${t.level||""}`),a.push(`Trend,${t.trend||""}`)),t.components&&(a.push(""),a.push("Component,Value"),a.push(`Unrest,${t.components.unrest}`),a.push(`Conflict,${t.components.conflict}`),a.push(`Security,${t.components.security}`),a.push(`Information,${t.components.information}`)),t.signals){a.push(""),a.push("Signal,Count");for(const[n,i]of Object.entries(t.signals))a.push(_e([n,String(i)]))}t.headlines&&t.headlines.length>0&&(a.push(""),a.push("Title,Source,Link,Published"),t.headlines.forEach(n=>a.push(_e([n.title,n.source,n.link,n.pubDate||""])))),t.brief&&(a.push(""),a.push("Intelligence Brief"),a.push(`"${t.brief.replace(/"/g,'""')}"`));const e=new Date().toISOString().replace(/[:.]/g,"-");ra(a.join(`
`),`country-brief-${t.code}-${e}.csv`,"text/csv")}function _e(t){return t.map(a=>`"${(a||"").replace(/"/g,'""')}"`).join(",")}function ra(t,a,e){const n=new Blob([t],{type:e}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}class i0{constructor(a){h(this,"element");h(this,"isOpen",!1);h(this,"getData");this.getData=a,this.element=document.createElement("div"),this.element.className="export-panel-container",this.element.innerHTML=`
      <button class="export-btn" title="${u("common.exportData")}">⬇</button>
      <div class="export-menu hidden">
        <button class="export-option" data-format="csv">${u("common.exportCsv")}</button>
        <button class="export-option" data-format="json">${u("common.exportJson")}</button>
      </div>
    `,this.setupEventListeners()}setupEventListeners(){const a=this.element.querySelector(".export-btn"),e=this.element.querySelector(".export-menu");a.addEventListener("click",()=>{this.isOpen=!this.isOpen,e.classList.toggle("hidden",!this.isOpen)}),document.addEventListener("click",n=>{this.element.contains(n.target)||(this.isOpen=!1,e.classList.add("hidden"))}),this.element.querySelectorAll(".export-option").forEach(n=>{n.addEventListener("click",()=>{const i=n.dataset.format;this.export(i),this.isOpen=!1,e.classList.add("hidden")})})}export(a){const e=this.getData(),i=`worldmonitor-${new Date().toISOString().replace(/[:.]/g,"-")}`;a==="json"?wc(e,i):bc(e,i)}getElement(){return this.element}}const Fa=["conflicts","bases","cables","pipelines","hotspots","ais","nuclear","irradiators","sanctions","weather","economic","waterways","outages","cyberThreats","datacenters","protests","flights","military","natural","spaceports","minerals","fires","ucdpEvents","displacement","climate","startupHubs","cloudRegions","accelerators","techHQs","techEvents"],Ac=["1h","6h","24h","48h","7d","all"],Cc=["global","america","mena","eu","asia","latam","africa","oceania"],ya=(t,a,e)=>Math.min(e,Math.max(a,t));function s0(t,a){const e=new URLSearchParams(t),n=e.get("view"),i=Cc.includes(n)?n:void 0,s=e.get("zoom"),r=s?Number.parseFloat(s):NaN,o=Number.isFinite(r)?ya(r,1,10):void 0,c=e.get("lat"),l=e.get("lon"),d=c?Number.parseFloat(c):NaN,m=l?Number.parseFloat(l):NaN,y=Number.isFinite(d)?ya(d,-90,90):void 0,f=Number.isFinite(m)?ya(m,-180,180):void 0,g=e.get("timeRange"),v=Ac.includes(g)?g:void 0,b=e.get("country"),C=b&&/^[A-Z]{2}$/i.test(b.trim())?b.trim().toUpperCase():void 0,A=e.get("layers");let k;if(A!==null){k={...a};const I=A.trim();if(I!==""&&I!=="none"){const N=new Set(I.split(",").map(G=>G.trim()).filter(Boolean));Fa.forEach(G=>{k[G]=N.has(G)})}else Fa.forEach(N=>{k[N]=!1})}return{view:i,zoom:o,lat:y,lon:f,timeRange:v,layers:k,country:C}}function r0(t,a){const e=new URL(t),n=new URLSearchParams;a.center&&(n.set("lat",a.center.lat.toFixed(4)),n.set("lon",a.center.lon.toFixed(4))),n.set("zoom",a.zoom.toFixed(2)),n.set("view",a.view),n.set("timeRange",a.timeRange);const i=Fa.filter(s=>a.layers[s]);return n.set("layers",i.length>0?i.join(","):"none"),a.country&&n.set("country",a.country),e.search=n.toString(),e.toString()}const kc=2,Ic=300*1e3,Tc=600*1e3;function Ec(){return typeof window>"u"?!1:!!window.__TAURI__&&typeof navigator<"u"&&navigator.onLine===!1}class Mc{constructor(a){h(this,"state",{failures:0,cooldownUntil:0});h(this,"cache",null);h(this,"name");h(this,"maxFailures");h(this,"cooldownMs");h(this,"cacheTtlMs");h(this,"lastDataState",{mode:"unavailable",timestamp:null,offline:!1});this.name=a.name,this.maxFailures=a.maxFailures??kc,this.cooldownMs=a.cooldownMs??Ic,this.cacheTtlMs=a.cacheTtlMs??Tc}isOnCooldown(){return Date.now()<this.state.cooldownUntil?!0:(this.state.cooldownUntil>0&&(this.state={failures:0,cooldownUntil:0}),!1)}getCooldownRemaining(){return Math.max(0,Math.ceil((this.state.cooldownUntil-Date.now())/1e3))}getStatus(){return this.lastDataState.offline?this.lastDataState.mode==="cached"?"offline mode (serving cached data)":"offline mode (live API unavailable)":this.isOnCooldown()?`temporarily unavailable (retry in ${this.getCooldownRemaining()}s)`:"ok"}getDataState(){return{...this.lastDataState}}getCached(){return this.cache&&Date.now()-this.cache.timestamp<this.cacheTtlMs?this.cache.data:null}getCachedOrDefault(a){var e;return((e=this.cache)==null?void 0:e.data)??a}recordSuccess(a){this.state={failures:0,cooldownUntil:0},this.cache={data:a,timestamp:Date.now()},this.lastDataState={mode:"live",timestamp:Date.now(),offline:!1}}clearCache(){this.cache=null}recordFailure(a){this.state.failures++,this.state.lastError=a,this.state.failures>=this.maxFailures&&(this.state.cooldownUntil=Date.now()+this.cooldownMs,console.warn(`[${this.name}] On cooldown for ${this.cooldownMs/1e3}s after ${this.state.failures} failures`))}async execute(a,e){var s,r,o;const n=Ec();if(this.isOnCooldown()){console.log(`[${this.name}] Currently unavailable, ${this.getCooldownRemaining()}s remaining`);const c=this.getCached();return c!==null?(this.lastDataState={mode:"cached",timestamp:((s=this.cache)==null?void 0:s.timestamp)??null,offline:n},c):(this.lastDataState={mode:"unavailable",timestamp:null,offline:n},this.getCachedOrDefault(e))}const i=this.getCached();if(i!==null)return this.lastDataState={mode:"cached",timestamp:((r=this.cache)==null?void 0:r.timestamp)??null,offline:n},i;try{const c=await a();return this.recordSuccess(c),c}catch(c){const l=String(c);return console.error(`[${this.name}] Failed:`,l),this.recordFailure(l),this.lastDataState={mode:"unavailable",timestamp:((o=this.cache)==null?void 0:o.timestamp)??null,offline:n},this.getCachedOrDefault(e)}}}const xs=new Map;function M(t){const a=new Mc(t);return xs.set(t.name,a),a}function o0(t){const a=xs.get(t);return a?{onCooldown:a.isOnCooldown(),remainingSeconds:a.getCooldownRemaining()}:{onCooldown:!1,remainingSeconds:0}}const Nc=.5,Rc=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","as","is","was","are","were","been","be","have","has","had","do","does","did","will","would","could","should","may","might","must","shall","can","need","it","its","this","that","these","those","i","you","he","she","we","they","what","which","who","whom","how","when","where","why","all","each","every","both","few","more","most","other","some","such","no","not","only","same","so","than","too","very","just","also","now","new","says","said","after"]),Pc=new Set(["ai","app","api","new","top","big","ceo","cto","update","report","latest","breaking","analysis","reuters","exclusive","opinion","editorial","watch","live","video","photo","photos","read","full","source","sources","according","ahead","english","times","post","news","press","media","journal","morning","evening","daily","weekly","monthly","newsletter","subscribe","podcast","interview","says","said","tells","told","calls","called","makes","made","takes","took","gets","gives","gave","goes","went","comes","came","puts","sets","set","shows","shown","finds","found","keeps","kept","holds","held","runs","turns","turned","leads","led","brings","brought","starts","started","moves","moved","plans","planned","wants","wanted","needs","needed","looks","looked","works","worked","tries","tried","asks","asked","uses","used","expects","expected","reports","reported","claims","claimed","warns","warned","reveals","revealed","announces","announced","confirms","confirmed","denies","denied","launches","launched","signs","signed","faces","faced","seeks","sought","hits","hit","dies","died","killed","kills","rises","rose","falls","fell","wins","won","lost","ends","ended","begins","began","opens","opened","closes","closed","raises","raised","cuts","cut","adds","added","drops","dropped","pushes","pushed","pulls","pulled","backs","backed","blocks","blocked","passes","passed","votes","voted","joins","joined","leaves","left","returns","returned","sends","sent","urges","urged","vows","vowed","pledges","pledged","rejects","rejected","approves","approved","first","last","next","major","former","still","despite","amid","over","under","back","year","years","day","days","week","weeks","month","months","time","long","high","low","part","early","late","key","two","three","four","five","million","billion","percent","nearly","almost","already","just","even","since","while","during","before","between","again","against","into","through","around","about","much","many","several","second","third","possible","likely","least","best","worst","largest","biggest","smallest","highest","lowest","record","global","local","state","states","department","officials","official","country","countries","people","group","groups","plan","deal","talks","move","order","case","house","court","secretary","board","control","bank","power","leader","leaders","government","minister","president","agency","market","markets","company","companies","world","white","head","side","point","end","line","area","number","issue","issues","policy","security","force","forces","system","service","services","program","project","effort","action","support","level","rate","rates","price","prices","trade","growth","change","changes","crisis","risk","impact","future","history","data","team","member","members","office","sector","region","regions","center","role","south","north","east","west","eastern","western","southern","northern","central","middle","united","national","international","federal","say","get","give","go","come","put","take","make","know","think","see","want","look","find","tell","ask","use","try","leave","call","keep","let","begin","show","hear","play","run","move","help","turn","start","hold","bring","write","provide","sit","stand","lose","pay","meet","include","continue","learn","lead","believe","feel","follow","stop","speak","allow","add","grow","open","walk","win","offer","appear","buy","wait","serve","die","send","build","stay","fall","reach","remain","suggest","raise","sell","require","decide","develop","break","happen","create","live","000","100","200","500","per","than","trading","stock","earnings","finance","defi","ipo","tradingview","currency","dollar","usd","investing","equity","valuation","ecb","regulation","outlook","forecast","financial","com","platform","block","focus","today","chief","basel","ongoing","higher","poised","track","wall","street","financialcontent","ray","msn","aol","2025","2026","2027","january","february","march","april","may","june","july","august","september","october","november","december","goldman","sachs","off","here","there","where","when","what","which","who","whom","this","that","these","those","been","being","have","has","had","having","does","done","doing","would","could","should","will","shall","might","must","also","more","most","some","other","only","very","after","with","from","they","them","their","then","now","how","all","each","every","both","few","own","same","such","too","any","well"]);function Hs(t){const a=t.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(e=>e.length>2&&!Rc.has(e));return new Set(a)}function Uc(t,a){if(t.size===0&&a.size===0)return 0;const e=new Set([...t].filter(i=>a.has(i))),n=new Set([...t,...a]);return e.size/n.size}function _a(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $s(){return`sig-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}const Lc={prediction_leads_news:{whyItMatters:"Prediction markets often price in information before it becomes news—traders may have early access to developments.",actionableInsight:"Monitor for breaking news in the next 1-6 hours that could explain the market move.",confidenceNote:"Higher confidence if multiple prediction markets move in same direction."},news_leads_markets:{whyItMatters:"News is breaking faster than markets are reacting—potential mispricing opportunity.",actionableInsight:"Watch for market catch-up as algorithms and traders digest the news.",confidenceNote:"Stronger signal if news is from Tier 1 wire services."},silent_divergence:{whyItMatters:"Market moving significantly without any identifiable news catalyst—possible insider knowledge, algorithmic trading, or unreported development.",actionableInsight:"Investigate alternative data sources; news may emerge later explaining the move.",confidenceNote:"Lower confidence as cause is unknown—treat as early warning, not confirmed intelligence."},velocity_spike:{whyItMatters:"A story is accelerating across multiple news sources—indicates growing significance and potential for market/policy impact.",actionableInsight:"This topic warrants immediate attention; expect official statements or market reactions.",confidenceNote:"Higher confidence with more sources; check if Tier 1 sources are among them."},keyword_spike:{whyItMatters:"A term is appearing at significantly higher frequency than its baseline across multiple sources, indicating a developing story.",actionableInsight:"Review related headlines and AI summary, then correlate with country instability and market moves.",confidenceNote:"Confidence increases with stronger baseline multiplier and broader source diversity."},convergence:{whyItMatters:"Multiple independent source types confirming same event—cross-validation increases likelihood of accuracy.",actionableInsight:"Treat this as high-confidence intelligence; triangulation reduces false positive risk.",confidenceNote:"Very high confidence when wire + government + intel sources align."},triangulation:{whyItMatters:'The "authority triangle" (wire services, government sources, intel specialists) are aligned—this is the gold standard for breaking news confirmation.',actionableInsight:"This is actionable intelligence; expect market/policy reactions imminently.",confidenceNote:"Highest confidence signal in the system—multiple authoritative sources agree."},flow_drop:{whyItMatters:"Physical commodity flow disruption detected—supply constraints often precede price spikes.",actionableInsight:"Monitor energy commodity prices; assess supply chain exposure.",confidenceNote:"Confidence depends on disruption duration and alternative supply availability."},flow_price_divergence:{whyItMatters:"Supply disruption news is not yet reflected in commodity prices—potential information edge.",actionableInsight:"Either markets are slow to react, or the disruption is less significant than reported.",confidenceNote:"Medium confidence—markets may have better information than news reports."},geo_convergence:{whyItMatters:"Multiple news events clustering around same geographic location—potential escalation or coordinated activity.",actionableInsight:"Increase monitoring priority for this region; correlate with satellite/AIS data if available.",confidenceNote:"Higher confidence if events span multiple source types and time periods."},explained_market_move:{whyItMatters:"Market move has clear news catalyst—no mystery, price action reflects known information.",actionableInsight:"Understand the narrative driving the move; assess if reaction is proportional.",confidenceNote:"High confidence—news and price action are correlated."},hotspot_escalation:{whyItMatters:"Geopolitical hotspot showing significant escalation based on news activity, country instability, geographic convergence, and military presence.",actionableInsight:"Increase monitoring priority; assess downstream impacts on infrastructure, markets, and regional stability.",confidenceNote:"Confidence weighted by multiple data sources—news (35%), country instability (25%), geo-convergence (25%), military activity (15%)."},sector_cascade:{whyItMatters:"Market movement is cascading across related sectors—indicates systemic reaction to a catalyzing event.",actionableInsight:"Identify the primary catalyst; assess exposure across correlated assets.",confidenceNote:"Higher confidence when multiple sectors move with similar velocity and direction."},military_surge:{whyItMatters:"Military transport activity significantly above baseline—indicates potential deployment, humanitarian operation, or force projection.",actionableInsight:"Correlate with regional news; assess nearby base activity and naval movements.",confidenceNote:"Higher confidence with sustained activity over multiple hours and diverse aircraft types."}};function c0(t){const a=Lc[t]?t:"fallback";return{whyItMatters:u(`signals.context.${a}.whyItMatters`),actionableInsight:u(`signals.context.${a}.actionableInsight`),confidenceNote:u(`signals.context.${a}.confidenceNote`)}}const Rt=new Map;let Ba="";function E(t){const a=document.documentElement.dataset.theme||"dark";a!==Ba&&(Rt.clear(),Ba=a);const e=Rt.get(t);if(e)return e;const n=getComputedStyle(document.documentElement).getPropertyValue(t).trim();return Rt.set(t,n),n}function Dc(){Rt.clear(),Ba=""}const Gs="worldmonitor-theme",yn="dark";function Oc(){try{const t=localStorage.getItem(Gs);if(t==="dark"||t==="light")return t}catch{}return yn}function l0(){const t=document.documentElement.dataset.theme;return t==="dark"||t==="light"?t:yn}function u0(t){document.documentElement.dataset.theme=t,Dc();try{localStorage.setItem(Gs,t)}catch{}const a=document.querySelector('meta[name="theme-color"]');a&&(a.content=t==="dark"?"#0a0f0a":"#f8f9fa"),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{theme:t}}))}function d0(){const t=Oc();if(t!==yn){document.documentElement.dataset.theme=t;const a=document.querySelector('meta[name="theme-color"]');a&&(a.content="#f8f9fa")}}function xa(t){const e=Math.floor((new Date().getTime()-t.getTime())/1e3),n=J();try{const i=new Intl.RelativeTimeFormat(n,{numeric:"auto"});return e<60?i.format(-Math.round(e),"second"):e<3600?i.format(-Math.round(e/60),"minute"):e<86400?i.format(-Math.round(e/3600),"hour"):i.format(-Math.round(e/86400),"day")}catch{return e<60?"Just now":e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`}}function Vs(t){return t>=1e3?`$${t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`:`$${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}function oa(t){return`${t>=0?"+":""}${t.toFixed(2)}%`}function ca(t){return t>=0?"up":"down"}function Fc(t){const a=Math.abs(t),e=t>=0?"up":"down";return a>=2?`${e}-3`:a>=1?`${e}-2`:`${e}-1`}function p0(t,a){let e;return(...n)=>{clearTimeout(e),e=setTimeout(()=>t(...n),a)}}function m0(t){let a=!1,e=null;return(...n)=>{e=n,a||(a=!0,requestAnimationFrame(()=>{a=!1,e&&(t(...e),e=null)}))}}function h0(t,a){try{const e=localStorage.getItem(t);if(e){const n=JSON.parse(e);return typeof a=="object"&&a!==null&&!Array.isArray(a)?{...a,...n}:n}}catch(e){console.warn(`Failed to load ${t} from storage:`,e)}return a}let $t=!1;function Vn(){return $t}function Ha(t){return t instanceof DOMException&&(t.name==="QuotaExceededError"||t.code===22)}function $a(){$t||($t=!0,console.warn("[Storage] Quota exceeded — disabling further writes"))}function y0(t,a){if(!$t)try{localStorage.setItem(t,JSON.stringify(a))}catch(e){Ha(e)?$a():console.warn(`Failed to save ${t} to storage:`,e)}}function _c(){return`id-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}const Bc=768;function gn(){return window.innerWidth<Bc}function xc(t,a){const e=Math.max(1,a),n=[];for(let i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n}const la=[{id:"keystone",name:"Keystone Pipeline",type:"oil",status:"operating",points:[[-104.05,50.95],[-104,49],[-101.5,46.8],[-97.5,44.4],[-97,41.2],[-95.9,36.1],[-95,29.8]],capacity:"590,000 bpd",length:"3,456 km",operator:"TC Energy",countries:["Canada","USA"]},{id:"dakota-access",name:"Dakota Access Pipeline",type:"oil",status:"operating",points:[[-103.5,47.5],[-100.8,46.8],[-97,45.5],[-96,43.5],[-93.5,41.5],[-91,40.5]],capacity:"570,000 bpd",length:"1,886 km",operator:"Energy Transfer",countries:["USA"]},{id:"trans-mountain",name:"Trans Mountain Pipeline",type:"oil",status:"operating",points:[[-114.1,53.5],[-117.5,52.9],[-119.3,52.1],[-121,50.7],[-122.8,49.3]],capacity:"890,000 bpd",length:"1,150 km",operator:"Trans Mountain Corp",countries:["Canada"]},{id:"colonial",name:"Colonial Pipeline",type:"oil",status:"operating",points:[[-95.4,29.8],[-93.2,30.2],[-90.1,30],[-86.8,30.7],[-84.4,33.8],[-80.8,32.1],[-78.6,35.8],[-77,38.9],[-74,40.7]],capacity:"2.5 million bpd",length:"8,850 km",operator:"Colonial Pipeline Co",countries:["USA"]},{id:"enbridge-line5",name:"Enbridge Line 5",type:"oil",status:"operating",points:[[-89,46.8],[-86,45.8],[-84.5,45.5],[-83,43],[-82.5,42.3]],capacity:"540,000 bpd",length:"1,038 km",operator:"Enbridge",countries:["USA","Canada"]},{id:"permian-gulf",name:"Permian Express Pipeline",type:"oil",status:"operating",points:[[-102.5,32],[-100.5,31.5],[-98,30],[-96.5,29],[-95,29.5]],capacity:"480,000 bpd",length:"830 km",operator:"Energy Transfer",countries:["USA"]},{id:"capline",name:"Capline Pipeline",type:"oil",status:"operating",points:[[-89.1,30],[-90.5,32.3],[-90.2,35.1],[-89,38.6]],capacity:"1.2 million bpd",length:"1,017 km",operator:"Marathon/Plains",countries:["USA"]},{id:"seaway",name:"Seaway Pipeline",type:"oil",status:"operating",points:[[-97,36],[-96,33],[-95.5,30.5],[-95,29.5]],capacity:"850,000 bpd",length:"800 km",operator:"Enterprise/Enbridge",countries:["USA"]},{id:"explorer",name:"Explorer Pipeline",type:"oil",status:"operating",points:[[-95.5,29.8],[-95,32],[-94.5,35],[-93,38.5],[-90.5,41.5],[-88,41.9]],capacity:"660,000 bpd",length:"2,900 km",operator:"Explorer Pipeline",countries:["USA"]},{id:"enbridge-mainline",name:"Enbridge Mainline",type:"oil",status:"operating",points:[[-114.1,53.5],[-110,53.5],[-105,52],[-97,49.9],[-92,48],[-86,46.5],[-83.5,42.5]],capacity:"2.85 million bpd",length:"5,353 km",operator:"Enbridge",countries:["Canada","USA"]},{id:"plantation",name:"Plantation Pipeline",type:"oil",status:"operating",points:[[-90.1,30],[-87,30.5],[-84.5,33.7],[-81.1,34],[-79,35.5],[-77.5,37.5]],capacity:"660,000 bpd",length:"4,800 km",operator:"Kinder Morgan",countries:["USA"]},{id:"mid-valley",name:"Mid-Valley Pipeline",type:"oil",status:"operating",points:[[-90,29.9],[-89.5,32],[-86,36.1],[-85.7,38.2],[-83,39.1],[-81.5,41.5]],capacity:"320,000 bpd",length:"1,400 km",operator:"Sunoco",countries:["USA"]},{id:"gulf-coast-pipeline",name:"Gulf Coast Pipeline",type:"oil",status:"operating",points:[[-97,36],[-97.5,33.5],[-96,30.5],[-95,29.5]],capacity:"700,000 bpd",length:"780 km",operator:"Enterprise Products",countries:["USA"]},{id:"flanagan-south",name:"Flanagan South Pipeline",type:"oil",status:"operating",points:[[-88,41.5],[-90.5,39.5],[-94,37],[-97,36]],capacity:"600,000 bpd",length:"950 km",operator:"Enbridge",countries:["USA"]},{id:"spearhead",name:"Spearhead Pipeline",type:"oil",status:"operating",points:[[-88,41.5],[-90,39.8],[-94.5,37],[-97,36]],capacity:"193,000 bpd",length:"1,060 km",operator:"Enbridge",countries:["USA"]},{id:"druzhba",name:"Druzhba Pipeline",type:"oil",status:"operating",points:[[52.3,54.7],[44,53.2],[37.6,52.3],[32,52.4],[24,52.2],[21,52.2],[14.4,52.5]],capacity:"1.2 million bpd",length:"5,327 km",operator:"Transneft",countries:["Russia","Belarus","Poland","Germany","Ukraine","Czech Republic","Hungary"]},{id:"btc",name:"Baku-Tbilisi-Ceyhan (BTC)",type:"oil",status:"operating",points:[[49.9,40.4],[47.5,41.3],[44.8,41.7],[41.6,41.6],[36.8,39.5],[35.9,37]],capacity:"1.2 million bpd",length:"1,768 km",operator:"BP",countries:["Azerbaijan","Georgia","Turkey"]},{id:"cpc",name:"Caspian Pipeline Consortium",type:"oil",status:"operating",points:[[53,46.9],[49,46],[45.5,45.5],[40,45],[37.4,45]],capacity:"1.4 million bpd",length:"1,510 km",operator:"CPC",countries:["Kazakhstan","Russia"]},{id:"east-west",name:"East-West Pipeline (Petroline)",type:"oil",status:"operating",points:[[50.1,26.3],[47,26],[44,25.5],[41,24],[38.5,22.5]],capacity:"5 million bpd",length:"1,200 km",operator:"Saudi Aramco",countries:["Saudi Arabia"]},{id:"sumed",name:"SUMED Pipeline",type:"oil",status:"operating",points:[[33,29],[31.2,30],[29.9,31.2]],capacity:"2.5 million bpd",length:"320 km",operator:"SUMED",countries:["Egypt"]},{id:"kirkuk-ceyhan",name:"Kirkuk-Ceyhan Pipeline",type:"oil",status:"operating",points:[[44.4,35.5],[42.5,36.5],[40,37],[37,37.5],[35.9,37]],capacity:"1.6 million bpd",length:"970 km",operator:"BOTAS/SOMO",countries:["Iraq","Turkey"]},{id:"habshan-fujairah",name:"Habshan-Fujairah Pipeline",type:"oil",status:"operating",points:[[53.6,23.9],[55,24.8],[56.2,25.1],[56.4,25.1]],capacity:"1.5 million bpd",length:"370 km",operator:"ADNOC",countries:["UAE"]},{id:"abqaiq-yanbu",name:"Abqaiq-Yanbu Pipeline",type:"oil",status:"operating",points:[[49.7,25.9],[47,26],[44,25],[41,24],[38,24]],capacity:"3 million bpd",length:"1,170 km",operator:"Saudi Aramco",countries:["Saudi Arabia"]},{id:"iran-turkey",name:"Iran-Turkey Gas Pipeline",type:"gas",status:"operating",points:[[48,38.5],[45,38.2],[43.5,37],[42,37.2]],capacity:"14 bcm/year",length:"2,577 km",operator:"NIGC/BOTAS",countries:["Iran","Turkey"]},{id:"igat-1",name:"IGAT-1 (Iranian Gas Trunkline)",type:"gas",status:"operating",points:[[52.5,27.5],[51.5,30.5],[50.5,32.5],[48.5,35.5],[48,38]],capacity:"15 bcm/year",length:"1,100 km",operator:"NIGC",countries:["Iran"]},{id:"south-pars-assaluyeh",name:"South Pars Gas Pipeline",type:"gas",status:"operating",points:[[52,26],[52.5,27.5],[52,29.5],[51.5,31]],capacity:"40 bcm/year",length:"900 km",operator:"NIGC",countries:["Iran"]},{id:"basra-gas",name:"Basra Gas Pipeline",type:"gas",status:"operating",points:[[47.8,30.5],[47,31.5],[46,32.5],[45,33]],capacity:"8 bcm/year",length:"300 km",operator:"Basra Gas Company",countries:["Iraq"]},{id:"trans-israel",name:"Trans-Israel Pipeline (Eilat-Ashkelon)",type:"oil",status:"operating",points:[[34.9,29.6],[35,30.5],[34.8,31],[34.6,31.6]],capacity:"600,000 bpd",length:"254 km",operator:"EAPC",countries:["Israel"]},{id:"leviathan-ashdod",name:"Leviathan Gas Pipeline",type:"gas",status:"operating",points:[[34,33],[34.5,32.5],[34.6,31.8]],capacity:"12 bcm/year",length:"120 km",operator:"Noble Energy",countries:["Israel"]},{id:"ain-dar-abqaiq",name:"Ain Dar-Abqaiq Pipeline",type:"oil",status:"operating",points:[[49.2,25.4],[49.7,25.9]],capacity:"2 million bpd",length:"50 km",operator:"Saudi Aramco",countries:["Saudi Arabia"]},{id:"kuwait-oil-export",name:"Kuwait Oil Export Pipeline",type:"oil",status:"operating",points:[[47.5,29],[48.2,29.4],[48,29]],capacity:"2 million bpd",length:"120 km",operator:"KOC",countries:["Kuwait"]},{id:"abu-dhabi-crude",name:"Abu Dhabi Crude Oil Pipeline",type:"oil",status:"operating",points:[[54,24],[54.5,24.5],[55.5,25]],capacity:"1.8 million bpd",length:"200 km",operator:"ADNOC",countries:["UAE"]},{id:"chad-cameroon",name:"Chad-Cameroon Pipeline",type:"oil",status:"operating",points:[[16.8,10],[14.5,7.5],[12.5,5.5],[10,4]],capacity:"250,000 bpd",length:"1,070 km",operator:"COTCO",countries:["Chad","Cameroon"]},{id:"nigeria-bonny",name:"Trans-Niger Pipeline (Bonny)",type:"oil",status:"operating",points:[[6,5.5],[6.5,5],[7.2,4.5]],capacity:"600,000 bpd",length:"250 km",operator:"Shell",countries:["Nigeria"]},{id:"forcados-escravos",name:"Forcados-Escravos Pipeline",type:"oil",status:"operating",points:[[5.3,5.4],[5.5,5.2],[5.8,5]],capacity:"400,000 bpd",length:"150 km",operator:"Shell/Chevron",countries:["Nigeria"]},{id:"angola-offshore",name:"Angola Offshore Export Pipeline",type:"oil",status:"operating",points:[[12,-6.5],[12.5,-7],[13.2,-8.8]],capacity:"800,000 bpd",length:"300 km",operator:"Sonangol",countries:["Angola"]},{id:"cameroon-lobe",name:"Cameroon Lobe Pipeline",type:"oil",status:"operating",points:[[9,2.5],[9.2,3],[9.7,4]],capacity:"100,000 bpd",length:"180 km",operator:"SNH",countries:["Cameroon"]},{id:"sudan-port",name:"Greater Nile Oil Pipeline",type:"oil",status:"operating",points:[[30,9.5],[32,13],[34,16],[37.2,19.6]],capacity:"500,000 bpd",length:"1,610 km",operator:"GNPOC",countries:["South Sudan","Sudan"]},{id:"baltic-pipeline",name:"Baltic Pipeline System (BPS)",type:"oil",status:"operating",points:[[50,55],[40,58],[32,59.5],[28,59.9]],capacity:"1.5 million bpd",length:"2,350 km",operator:"Transneft",countries:["Russia"]},{id:"bps-2",name:"Baltic Pipeline System 2 (BPS-2)",type:"oil",status:"operating",points:[[42,56.5],[35,58],[30,59],[28.5,59.5]],capacity:"600,000 bpd",length:"1,000 km",operator:"Transneft",countries:["Russia"]},{id:"northern-lights",name:"Surgut-Polotsk Pipeline",type:"oil",status:"operating",points:[[73.4,61.2],[68,60],[55,57],[40,55],[28,55.5]],capacity:"900,000 bpd",length:"3,500 km",operator:"Transneft",countries:["Russia","Belarus"]},{id:"russia-novorossiysk",name:"Tikhoretsk-Novorossiysk Pipeline",type:"oil",status:"operating",points:[[40,45.5],[38.5,45],[37.8,44.7]],capacity:"1 million bpd",length:"350 km",operator:"Transneft",countries:["Russia"]},{id:"west-east-oil",name:"West-East Oil Pipeline (China)",type:"oil",status:"operating",points:[[87.6,43.8],[95,40],[105,38.5],[114,36],[120,34]],capacity:"400,000 bpd",length:"4,200 km",operator:"CNPC",countries:["China"]},{id:"shenyang-dalian",name:"Shenyang-Dalian Pipeline",type:"oil",status:"operating",points:[[123.4,41.8],[122.5,40.5],[121.6,38.9]],capacity:"300,000 bpd",length:"450 km",operator:"CNPC",countries:["China"]},{id:"lanzhou-chengdu",name:"Lanzhou-Chengdu Pipeline",type:"oil",status:"operating",points:[[103.8,36],[104,33],[104.1,30.7]],capacity:"200,000 bpd",length:"880 km",operator:"CNPC",countries:["China"]},{id:"espo",name:"Eastern Siberia-Pacific Ocean (ESPO)",type:"oil",status:"operating",points:[[114.5,56.5],[120,55],[126,52],[131,48.5],[133,47]],capacity:"1.6 million bpd",length:"4,857 km",operator:"Transneft",countries:["Russia"]},{id:"mohe-daqing",name:"Mohe-Daqing Pipeline (ESPO Spur)",type:"oil",status:"operating",points:[[124,52],[125,50],[126,48.5],[125.1,46.6]],capacity:"600,000 bpd",length:"960 km",operator:"CNPC",countries:["Russia","China"]},{id:"kazakhstan-china",name:"Kazakhstan-China Oil Pipeline",type:"oil",status:"operating",points:[[53,47.1],[60,45.5],[68,43.5],[75,43],[82,44.2],[87.6,43.8]],capacity:"400,000 bpd",length:"2,228 km",operator:"KazTransOil/CNPC",countries:["Kazakhstan","China"]},{id:"china-myanmar",name:"China-Myanmar Pipeline",type:"oil",status:"operating",points:[[93.2,20.1],[96.5,22],[98.5,24],[100.5,25],[102.7,25]],capacity:"440,000 bpd",length:"771 km",operator:"CNPC",countries:["Myanmar","China"]},{id:"turkstream",name:"TurkStream",type:"gas",status:"operating",points:[[38.5,44.6],[35,43.5],[31,42.5],[29,41.3]],capacity:"31.5 bcm/year",length:"930 km",operator:"Gazprom",countries:["Russia","Turkey"]},{id:"blue-stream",name:"Blue Stream",type:"gas",status:"operating",points:[[37.8,44.6],[35.5,43],[33,42],[31,41.5]],capacity:"16 bcm/year",length:"1,213 km",operator:"Gazprom/BOTAS",countries:["Russia","Turkey"]},{id:"yamal-europe",name:"Yamal-Europe Pipeline",type:"gas",status:"operating",points:[[73.5,67.5],[66,64],[55,60],[45,57],[32,55],[24,53],[17,52.5],[14,52.5]],capacity:"33 bcm/year",length:"4,196 km",operator:"Gazprom",countries:["Russia","Belarus","Poland","Germany"]},{id:"trans-adriatic",name:"Trans Adriatic Pipeline (TAP)",type:"gas",status:"operating",points:[[20.1,39.6],[19.5,40.5],[18,40.8],[16.5,41]],capacity:"10 bcm/year",length:"878 km",operator:"TAP AG",countries:["Greece","Albania","Italy"]},{id:"tanap",name:"Trans-Anatolian Pipeline (TANAP)",type:"gas",status:"operating",points:[[42,41.6],[39,40],[35,39],[32,38.5],[29,39.5],[26.5,40.5]],capacity:"16 bcm/year",length:"1,850 km",operator:"TANAP",countries:["Azerbaijan","Georgia","Turkey"]},{id:"europipe-i",name:"Europipe I",type:"gas",status:"operating",points:[[2.5,58.5],[4,56],[6,54.5],[8.5,54]],capacity:"18 bcm/year",length:"620 km",operator:"Gassco",countries:["Norway","Germany"]},{id:"europipe-ii",name:"Europipe II",type:"gas",status:"operating",points:[[7,60],[5,57.5],[4.5,55.5],[6.5,54],[8.5,53.5]],capacity:"24 bcm/year",length:"658 km",operator:"Gassco",countries:["Norway","Germany"]},{id:"langeled",name:"Langeled Pipeline",type:"gas",status:"operating",points:[[2,61.5],[1,59],[0,56.5],[.5,53.5]],capacity:"25.5 bcm/year",length:"1,200 km",operator:"Gassco",countries:["Norway","UK"]},{id:"interconnector",name:"Interconnector (IUK)",type:"gas",status:"operating",points:[[1.3,51.4],[2,51.3],[3.2,51.3]],capacity:"20 bcm/year",length:"235 km",operator:"Interconnector Ltd",countries:["UK","Belgium"]},{id:"bbl-pipeline",name:"BBL Pipeline",type:"gas",status:"operating",points:[[1.7,52.8],[3.5,53],[5,53.5]],capacity:"15 bcm/year",length:"230 km",operator:"BBL Company",countries:["UK","Netherlands"]},{id:"balticconnector",name:"Balticconnector",type:"gas",status:"operating",points:[[24.8,59.4],[24.5,59.5],[24.7,59.8]],capacity:"7.2 bcm/year",length:"77 km",operator:"Elering/Baltic Connector",countries:["Estonia","Finland"]},{id:"brotherhood",name:"Brotherhood Pipeline System",type:"gas",status:"operating",points:[[76,66.5],[70,63],[60,58],[50,55],[40,52],[32,50.5],[24,49],[18,48.5]],capacity:"100+ bcm/year",length:"4,500 km",operator:"Gazprom",countries:["Russia","Ukraine","Slovakia","Czech Republic"]},{id:"opal",name:"OPAL Pipeline",type:"gas",status:"operating",points:[[12.1,54.1],[12.5,52.5],[13,51],[14.5,50]],capacity:"36 bcm/year",length:"470 km",operator:"OPAL Gastransport",countries:["Germany","Czech Republic"]},{id:"nel",name:"NEL Pipeline",type:"gas",status:"operating",points:[[12.1,54.1],[11,53.8],[9.5,53.5],[8,53.2]],capacity:"20 bcm/year",length:"440 km",operator:"NEL Gastransport",countries:["Germany"]},{id:"dolphin",name:"Dolphin Gas Pipeline",type:"gas",status:"operating",points:[[51.5,25.9],[52,25.3],[54.4,24.5]],capacity:"3.2 bcf/day",length:"364 km",operator:"Dolphin Energy",countries:["Qatar","UAE"]},{id:"arab-gas",name:"Arab Gas Pipeline",type:"gas",status:"operating",points:[[34.4,31.5],[35.5,32],[36.3,33.9],[36,35.5],[36.2,36.6]],capacity:"10 bcm/year",length:"1,200 km",operator:"Various",countries:["Egypt","Jordan","Syria","Lebanon"]},{id:"central-asia-china",name:"Central Asia-China Gas Pipeline",type:"gas",status:"operating",points:[[62.5,39],[66,41.3],[69,41],[75,40.5],[80,40],[87.5,44]],capacity:"55 bcm/year",length:"1,833 km",operator:"CNPC",countries:["Turkmenistan","Uzbekistan","Kazakhstan","China"]},{id:"power-of-siberia",name:"Power of Siberia",type:"gas",status:"operating",points:[[118,62],[122,58],[127.5,52],[130,48.5],[127.5,45.8]],capacity:"38 bcm/year",length:"3,000 km",operator:"Gazprom",countries:["Russia","China"]},{id:"hbj",name:"HBJ Pipeline (Hazira-Vijaipur-Jagdishpur)",type:"gas",status:"operating",points:[[72.6,21.1],[74.5,22.5],[76,23.5],[79,24],[82,26],[83,26.8]],capacity:"33 mcm/day",length:"2,700 km",operator:"GAIL",countries:["India"]},{id:"dahej-uran",name:"Dahej-Uran Pipeline",type:"gas",status:"operating",points:[[72.6,21.7],[72.8,20.5],[72.9,19]],capacity:"20 mcm/day",length:"500 km",operator:"GAIL",countries:["India"]},{id:"east-india-pipeline",name:"East India Gas Pipeline",type:"gas",status:"operating",points:[[81.6,16.5],[83,18],[85.8,20.3],[87,22.5],[88.3,22.6]],capacity:"16 mcm/day",length:"1,400 km",operator:"GAIL",countries:["India"]},{id:"trans-thailand-malaysia",name:"Trans-Thailand-Malaysia Pipeline",type:"gas",status:"operating",points:[[101,6.5],[101.5,5.5],[103,4.5],[103.8,1.3]],capacity:"15 bcm/year",length:"1,100 km",operator:"PTT/Petronas",countries:["Thailand","Malaysia","Singapore"]},{id:"south-sumatra-west-java",name:"South Sumatra-West Java Pipeline",type:"gas",status:"operating",points:[[104.8,-2.9],[105.5,-4.5],[106,-5.5],[106.8,-6.2]],capacity:"8 bcm/year",length:"500 km",operator:"Pertamina",countries:["Indonesia"]},{id:"west-african-gas",name:"West African Gas Pipeline",type:"gas",status:"operating",points:[[5.5,4.3],[2.5,6.1],[1.2,6.2],[.2,5.6]],capacity:"5 bcm/year",length:"678 km",operator:"WAPCo",countries:["Nigeria","Benin","Togo","Ghana"]},{id:"greenstream",name:"Greenstream Pipeline",type:"gas",status:"operating",points:[[12.5,32.9],[12,35],[11.5,37],[15,38.2]],capacity:"11 bcm/year",length:"520 km",operator:"Greenstream BV",countries:["Libya","Italy"]},{id:"medgaz",name:"Medgaz Pipeline",type:"gas",status:"operating",points:[[-.6,35.9],[-1.5,36.5],[-2.5,36.8]],capacity:"8 bcm/year",length:"210 km",operator:"Medgaz SA",countries:["Algeria","Spain"]},{id:"transmed",name:"TransMed Pipeline",type:"gas",status:"operating",points:[[3,36.8],[8,37],[10,37.5],[12.5,37.8],[14.2,40.8]],capacity:"33.5 bcm/year",length:"2,475 km",operator:"Sonatrach/Eni",countries:["Algeria","Tunisia","Italy"]},{id:"bolivia-brazil",name:"Bolivia-Brazil Pipeline (GASBOL)",type:"gas",status:"operating",points:[[-63.2,-17.8],[-60,-19],[-56,-21],[-50,-22.5],[-47,-23.5]],capacity:"30 mcm/day",length:"3,150 km",operator:"TBG",countries:["Bolivia","Brazil"]},{id:"norandino",name:"NorAndino Pipeline",type:"gas",status:"operating",points:[[-63.8,-22],[-65,-23.5],[-66,-25],[-68,-24.3]],capacity:"8 mcm/day",length:"1,180 km",operator:"NorAndino",countries:["Argentina","Chile"]},{id:"gasoducto-sur",name:"Gasoducto del Sur",type:"gas",status:"operating",points:[[-68.5,-38.9],[-70,-40.5],[-71.5,-42],[-72.5,-45]],capacity:"12 mcm/day",length:"1,500 km",operator:"TGS",countries:["Argentina"]},{id:"camisea",name:"Camisea Pipeline",type:"gas",status:"operating",points:[[-72.7,-11.8],[-74,-13],[-75.5,-13.5],[-77,-12]],capacity:"20 mcm/day",length:"730 km",operator:"TGP",countries:["Peru"]},{id:"oleoducto-norperuano",name:"Oleoducto Norperuano",type:"oil",status:"operating",points:[[-76,-4.5],[-78,-5],[-79.5,-5.2],[-80.5,-5]],capacity:"200,000 bpd",length:"854 km",operator:"Petroperu",countries:["Peru"]},{id:"ocensa",name:"OCENSA Pipeline",type:"oil",status:"operating",points:[[-72,4.5],[-73.5,5.5],[-74.5,6.5],[-75,8],[-75.5,10.5]],capacity:"590,000 bpd",length:"830 km",operator:"OCENSA",countries:["Colombia"]},{id:"cano-limon",name:"Cano Limon Pipeline",type:"oil",status:"operating",points:[[-70.2,6.8],[-71.5,7],[-73,8.5],[-74.8,10.9]],capacity:"220,000 bpd",length:"780 km",operator:"Ecopetrol",countries:["Colombia"]},{id:"moomba-sydney",name:"Moomba-Sydney Pipeline",type:"gas",status:"operating",points:[[140,-28.1],[145,-31],[148,-33],[151.2,-33.9]],capacity:"14.6 bcm/year",length:"2,081 km",operator:"APA Group",countries:["Australia"]},{id:"dampier-bunbury",name:"Dampier-Bunbury Pipeline",type:"gas",status:"operating",points:[[116.7,-20.7],[116.5,-24],[116,-28],[115.6,-33.3]],capacity:"32 bcm/year",length:"1,530 km",operator:"DBP",countries:["Australia"]},{id:"eastern-gas-pipeline",name:"Eastern Gas Pipeline",type:"gas",status:"operating",points:[[147,-38],[148.5,-36.5],[150,-35.5],[151.2,-33.9]],capacity:"8.7 bcm/year",length:"795 km",operator:"Jemena",countries:["Australia"]},{id:"roma-brisbane",name:"Roma-Brisbane Pipeline",type:"gas",status:"operating",points:[[148.8,-26.6],[150,-26.5],[152,-27],[153,-27.5]],capacity:"6 bcm/year",length:"440 km",operator:"APA Group",countries:["Australia"]},{id:"south-west-qld-pipeline",name:"South West Queensland Pipeline",type:"gas",status:"operating",points:[[141.5,-28],[144,-27.5],[147,-27],[149,-26.5]],capacity:"10 bcm/year",length:"937 km",operator:"APA Group",countries:["Australia"]}],g0={oil:"#ff6b35",gas:"#00b4d8",products:"#ffd166"},fn=[{id:"shanghai",name:"Port of Shanghai",lat:31.23,lon:121.47,country:"China",type:"container",rank:1,note:"World's busiest container port. 47M+ TEU."},{id:"singapore",name:"Port of Singapore",lat:1.26,lon:103.84,country:"Singapore",type:"mixed",rank:2,note:"Major transshipment hub. Malacca Strait gateway. 37M+ TEU."},{id:"ningbo",name:"Ningbo-Zhoushan",lat:29.87,lon:121.55,country:"China",type:"mixed",rank:3,note:"Largest cargo throughput globally. 33M+ TEU."},{id:"shenzhen",name:"Port of Shenzhen",lat:22.52,lon:114.05,country:"China",type:"container",rank:4,note:"South China gateway. Yantian terminal. 30M+ TEU."},{id:"guangzhou",name:"Port of Guangzhou",lat:23.08,lon:113.24,country:"China",type:"mixed",rank:5,note:"Pearl River Delta. Nansha terminal. 24M+ TEU."},{id:"qingdao",name:"Port of Qingdao",lat:36.07,lon:120.31,country:"China",type:"mixed",rank:6,note:"North China hub. PLA Navy North Sea Fleet nearby."},{id:"busan",name:"Port of Busan",lat:35.1,lon:129.04,country:"South Korea",type:"container",rank:7,note:"Northeast Asia transshipment hub. 22M+ TEU."},{id:"tianjin",name:"Port of Tianjin",lat:38.99,lon:117.7,country:"China",type:"mixed",rank:8,note:"Beijing's maritime gateway. 21M+ TEU."},{id:"hong_kong",name:"Port of Hong Kong",lat:22.29,lon:114.15,country:"China (SAR)",type:"container",rank:9,note:"Historic transshipment hub. 16M+ TEU."},{id:"rotterdam",name:"Port of Rotterdam",lat:51.9,lon:4.5,country:"Netherlands",type:"mixed",rank:10,note:"Europe's largest port. Gateway to EU. 14M+ TEU."},{id:"jebel_ali",name:"Jebel Ali (Dubai)",lat:25.01,lon:55.06,country:"UAE",type:"container",rank:11,note:"Middle East's largest port. DP World hub. 14M+ TEU."},{id:"antwerp",name:"Port of Antwerp-Bruges",lat:51.26,lon:4.4,country:"Belgium",type:"mixed",rank:12,note:"Europe's second largest. Petrochemicals hub. 13M+ TEU."},{id:"klang",name:"Port Klang",lat:3,lon:101.39,country:"Malaysia",type:"container",rank:13,note:"Malacca Strait. Westports terminal. 13M+ TEU."},{id:"xiamen",name:"Port of Xiamen",lat:24.45,lon:118.08,country:"China",type:"container",rank:14,note:"Taiwan Strait. Strategic location. 12M+ TEU."},{id:"kaohsiung",name:"Port of Kaohsiung",lat:22.61,lon:120.28,country:"Taiwan",type:"container",rank:15,note:"Taiwan's largest port. Semiconductor exports. 9M+ TEU."},{id:"los_angeles",name:"Port of Los Angeles",lat:33.73,lon:-118.26,country:"USA",type:"container",rank:16,note:"Western Hemisphere busiest. US-Asia trade gateway. 9M+ TEU."},{id:"long_beach",name:"Port of Long Beach",lat:33.75,lon:-118.2,country:"USA",type:"container",rank:17,note:"Handles 40% of US container imports with LA. 8M+ TEU."},{id:"tanjung_pelepas",name:"Tanjung Pelepas",lat:1.37,lon:103.55,country:"Malaysia",type:"container",rank:18,note:"Maersk hub. Singapore competitor. 11M+ TEU."},{id:"hamburg",name:"Port of Hamburg",lat:53.54,lon:9.99,country:"Germany",type:"container",rank:19,note:"Germany's largest. North Sea-Baltic connector. 8M+ TEU."},{id:"laem_chabang",name:"Laem Chabang",lat:13.08,lon:100.88,country:"Thailand",type:"container",rank:20,note:"Thailand's main port. EEC hub. 8M+ TEU."},{id:"new_york_nj",name:"Port of NY/NJ",lat:40.67,lon:-74.04,country:"USA",type:"container",rank:21,note:"US East Coast largest. Newark/Elizabeth terminals. 9M+ TEU."},{id:"piraeus",name:"Port of Piraeus",lat:37.94,lon:23.65,country:"Greece",type:"container",rank:25,note:"COSCO-operated. China's Mediterranean gateway. 5M+ TEU."},{id:"ras_tanura",name:"Ras Tanura",lat:26.64,lon:50.16,country:"Saudi Arabia",type:"oil",note:"World's largest offshore oil terminal. Saudi Aramco. 6.5M+ bpd."},{id:"fujairah",name:"Port of Fujairah",lat:25.12,lon:56.35,country:"UAE",type:"oil",note:"Major bunkering hub. Hormuz bypass. Outside Persian Gulf."},{id:"kharg_island",name:"Kharg Island",lat:29.23,lon:50.31,country:"Iran",type:"oil",note:"Iran's main oil export terminal. 90%+ of oil exports."},{id:"ras_laffan",name:"Ras Laffan",lat:25.93,lon:51.54,country:"Qatar",type:"lng",note:"World's largest LNG export facility. 77M+ tonnes/year."},{id:"houston",name:"Port of Houston",lat:29.73,lon:-95.02,country:"USA",type:"mixed",note:"US oil/petrochemical hub. 2nd busiest US port by tonnage."},{id:"sabine_pass",name:"Sabine Pass LNG",lat:29.73,lon:-93.87,country:"USA",type:"lng",note:"Largest US LNG export terminal. Cheniere Energy."},{id:"novorossiysk",name:"Novorossiysk",lat:44.72,lon:37.77,country:"Russia",type:"oil",note:"Russia's largest Black Sea port. CPC terminal. 140M+ tonnes/year."},{id:"primorsk",name:"Primorsk",lat:60.35,lon:28.62,country:"Russia",type:"oil",note:"Baltic Sea oil terminal. Russia's largest oil port."},{id:"port_said",name:"Port Said",lat:31.26,lon:32.3,country:"Egypt",type:"mixed",note:"Suez Canal northern entrance. 12% of global trade."},{id:"suez_port",name:"Port of Suez",lat:29.97,lon:32.55,country:"Egypt",type:"mixed",note:"Suez Canal southern terminus. Red Sea access."},{id:"gibraltar",name:"Port of Gibraltar",lat:36.14,lon:-5.35,country:"UK (Gibraltar)",type:"naval",note:"Mediterranean-Atlantic gateway. UK naval base."},{id:"djibouti",name:"Port of Djibouti",lat:11.59,lon:43.15,country:"Djibouti",type:"mixed",note:"Bab el-Mandeb gateway. Chinese + US military bases."},{id:"aden",name:"Port of Aden",lat:12.79,lon:45.03,country:"Yemen",type:"mixed",note:"Red Sea strategic port. Houthi conflict area."},{id:"hodeidah",name:"Port of Hodeidah",lat:14.8,lon:42.95,country:"Yemen",type:"bulk",note:"Yemen's main humanitarian port. Houthi-controlled."},{id:"bandar_abbas",name:"Bandar Abbas",lat:27.18,lon:56.28,country:"Iran",type:"mixed",note:"Iran's largest container port. Hormuz Strait."},{id:"colon",name:"Port of Colon",lat:9.35,lon:-79.9,country:"Panama",type:"container",note:"Panama Canal Atlantic side. Major transshipment."},{id:"balboa",name:"Port of Balboa",lat:8.95,lon:-79.56,country:"Panama",type:"container",note:"Panama Canal Pacific terminus. Americas hub."},{id:"algeciras",name:"Port of Algeciras",lat:36.13,lon:-5.43,country:"Spain",type:"container",note:"Gibraltar Strait. Maersk transshipment hub. 5M+ TEU."},{id:"zhanjiang",name:"Zhanjiang",lat:21.2,lon:110.4,country:"China",type:"naval",note:"PLA Navy South Sea Fleet HQ. Carrier base."},{id:"yulin",name:"Yulin Naval Base",lat:18.23,lon:109.52,country:"China",type:"naval",note:"Hainan Island. Nuclear submarine base. SCS control."},{id:"vladivostok",name:"Port of Vladivostok",lat:43.12,lon:131.88,country:"Russia",type:"naval",note:"Russian Pacific Fleet HQ. Trans-Siberian terminus."},{id:"murmansk",name:"Port of Murmansk",lat:68.97,lon:33.05,country:"Russia",type:"naval",note:"Arctic ice-free port. Northern Fleet base."},{id:"gwadar",name:"Gwadar",lat:25.12,lon:62.33,country:"Pakistan",type:"mixed",note:"Chinese CPEC port. Strategic PLA Navy interest."},{id:"hambantota",name:"Hambantota",lat:6.12,lon:81.12,country:"Sri Lanka",type:"mixed",note:"Chinese 99-year lease. Indian Ocean strategic."},{id:"chabahar",name:"Chabahar",lat:25.3,lon:60.6,country:"Iran",type:"mixed",note:"India-developed port. Hormuz bypass. Afghanistan access."},{id:"colombo",name:"Port of Colombo",lat:6.94,lon:79.84,country:"Sri Lanka",type:"container",note:"Indian Ocean transshipment hub. 7M+ TEU."},{id:"yokohama",name:"Port of Yokohama",lat:35.44,lon:139.64,country:"Japan",type:"container",note:"Tokyo Bay. Japan's 2nd largest. US 7th Fleet logistics."},{id:"nagoya",name:"Port of Nagoya",lat:35.05,lon:136.88,country:"Japan",type:"mixed",note:"Japan's largest by cargo. Toyota/auto exports."},{id:"felixstowe",name:"Port of Felixstowe",lat:51.95,lon:1.33,country:"UK",type:"container",note:"UK's busiest container port. 4M+ TEU."},{id:"le_havre",name:"Port of Le Havre",lat:49.48,lon:.11,country:"France",type:"container",note:"France's largest container port. Paris gateway."},{id:"savannah",name:"Port of Savannah",lat:32.08,lon:-81.09,country:"USA",type:"container",note:"Fastest growing US port. 5M+ TEU."},{id:"norfolk",name:"Port of Virginia",lat:36.95,lon:-76.33,country:"USA",type:"mixed",note:"Adjacent to Norfolk Naval Base. 3M+ TEU."},{id:"santos",name:"Port of Santos",lat:-23.95,lon:-46.3,country:"Brazil",type:"mixed",note:"Latin America's busiest port. Sao Paulo gateway."},{id:"karachi",name:"Port of Karachi",lat:24.84,lon:67,country:"Pakistan",type:"mixed",note:"Pakistan's largest port. Naval HQ. 2M+ TEU."},{id:"nhava_sheva",name:"Nhava Sheva (JNPT)",lat:18.95,lon:72.95,country:"India",type:"container",note:"India's busiest container port. Mumbai gateway. 6M+ TEU."},{id:"chennai",name:"Port of Chennai",lat:13.1,lon:80.29,country:"India",type:"container",note:"India's 2nd largest. Auto industry. Bay of Bengal."},{id:"mundra",name:"Mundra Port",lat:22.73,lon:69.72,country:"India",type:"mixed",note:"India's largest private port. Adani Group."}],Hc=[{iata:"JFK",icao:"KJFK",name:"John F. Kennedy International",city:"New York",country:"USA",lat:40.6413,lon:-73.7781,region:"americas"},{iata:"LAX",icao:"KLAX",name:"Los Angeles International",city:"Los Angeles",country:"USA",lat:33.9416,lon:-118.4085,region:"americas"},{iata:"ORD",icao:"KORD",name:"O'Hare International",city:"Chicago",country:"USA",lat:41.9742,lon:-87.9073,region:"americas"},{iata:"ATL",icao:"KATL",name:"Hartsfield-Jackson Atlanta",city:"Atlanta",country:"USA",lat:33.6407,lon:-84.4277,region:"americas"},{iata:"DFW",icao:"KDFW",name:"Dallas/Fort Worth International",city:"Dallas",country:"USA",lat:32.8998,lon:-97.0403,region:"americas"},{iata:"DEN",icao:"KDEN",name:"Denver International",city:"Denver",country:"USA",lat:39.8561,lon:-104.6737,region:"americas"},{iata:"SFO",icao:"KSFO",name:"San Francisco International",city:"San Francisco",country:"USA",lat:37.6213,lon:-122.379,region:"americas"},{iata:"SEA",icao:"KSEA",name:"Seattle-Tacoma International",city:"Seattle",country:"USA",lat:47.4502,lon:-122.3088,region:"americas"},{iata:"MIA",icao:"KMIA",name:"Miami International",city:"Miami",country:"USA",lat:25.7959,lon:-80.287,region:"americas"},{iata:"BOS",icao:"KBOS",name:"Boston Logan International",city:"Boston",country:"USA",lat:42.3656,lon:-71.0096,region:"americas"},{iata:"EWR",icao:"KEWR",name:"Newark Liberty International",city:"Newark",country:"USA",lat:40.6895,lon:-74.1745,region:"americas"},{iata:"IAH",icao:"KIAH",name:"George Bush Intercontinental",city:"Houston",country:"USA",lat:29.9902,lon:-95.3368,region:"americas"},{iata:"PHX",icao:"KPHX",name:"Phoenix Sky Harbor",city:"Phoenix",country:"USA",lat:33.4373,lon:-112.0078,region:"americas"},{iata:"LAS",icao:"KLAS",name:"Harry Reid International",city:"Las Vegas",country:"USA",lat:36.084,lon:-115.1537,region:"americas"},{iata:"YYZ",icao:"CYYZ",name:"Toronto Pearson",city:"Toronto",country:"Canada",lat:43.6777,lon:-79.6248,region:"americas"},{iata:"YVR",icao:"CYVR",name:"Vancouver International",city:"Vancouver",country:"Canada",lat:49.1947,lon:-123.1792,region:"americas"},{iata:"MEX",icao:"MMMX",name:"Mexico City International",city:"Mexico City",country:"Mexico",lat:19.4363,lon:-99.0721,region:"americas"},{iata:"GRU",icao:"SBGR",name:"São Paulo–Guarulhos",city:"São Paulo",country:"Brazil",lat:-23.4356,lon:-46.4731,region:"americas"},{iata:"EZE",icao:"SAEZ",name:"Ministro Pistarini",city:"Buenos Aires",country:"Argentina",lat:-34.8222,lon:-58.5358,region:"americas"},{iata:"BOG",icao:"SKBO",name:"El Dorado International",city:"Bogotá",country:"Colombia",lat:4.7016,lon:-74.1469,region:"americas"},{iata:"SCL",icao:"SCEL",name:"Arturo Merino Benítez",city:"Santiago",country:"Chile",lat:-33.393,lon:-70.7858,region:"americas"},{iata:"LIM",icao:"SPJC",name:"Jorge Chávez International",city:"Lima",country:"Peru",lat:-12.0219,lon:-77.1143,region:"americas"},{iata:"LHR",icao:"EGLL",name:"London Heathrow",city:"London",country:"UK",lat:51.47,lon:-.4543,region:"europe"},{iata:"CDG",icao:"LFPG",name:"Paris Charles de Gaulle",city:"Paris",country:"France",lat:49.0097,lon:2.5479,region:"europe"},{iata:"FRA",icao:"EDDF",name:"Frankfurt Airport",city:"Frankfurt",country:"Germany",lat:50.0379,lon:8.5622,region:"europe"},{iata:"AMS",icao:"EHAM",name:"Amsterdam Schiphol",city:"Amsterdam",country:"Netherlands",lat:52.3105,lon:4.7683,region:"europe"},{iata:"MAD",icao:"LEMD",name:"Adolfo Suárez Madrid–Barajas",city:"Madrid",country:"Spain",lat:40.4983,lon:-3.5676,region:"europe"},{iata:"FCO",icao:"LIRF",name:"Leonardo da Vinci–Fiumicino",city:"Rome",country:"Italy",lat:41.8003,lon:12.2389,region:"europe"},{iata:"MUC",icao:"EDDM",name:"Munich Airport",city:"Munich",country:"Germany",lat:48.3537,lon:11.775,region:"europe"},{iata:"BCN",icao:"LEBL",name:"Barcelona–El Prat",city:"Barcelona",country:"Spain",lat:41.2974,lon:2.0833,region:"europe"},{iata:"LGW",icao:"EGKK",name:"London Gatwick",city:"London",country:"UK",lat:51.1537,lon:-.1821,region:"europe"},{iata:"ZRH",icao:"LSZH",name:"Zurich Airport",city:"Zurich",country:"Switzerland",lat:47.4647,lon:8.5492,region:"europe"},{iata:"VIE",icao:"LOWW",name:"Vienna International",city:"Vienna",country:"Austria",lat:48.1103,lon:16.5697,region:"europe"},{iata:"CPH",icao:"EKCH",name:"Copenhagen Airport",city:"Copenhagen",country:"Denmark",lat:55.618,lon:12.6508,region:"europe"},{iata:"DUB",icao:"EIDW",name:"Dublin Airport",city:"Dublin",country:"Ireland",lat:53.4264,lon:-6.2499,region:"europe"},{iata:"IST",icao:"LTFM",name:"Istanbul Airport",city:"Istanbul",country:"Turkey",lat:41.2753,lon:28.7519,region:"europe"},{iata:"SVO",icao:"UUEE",name:"Sheremetyevo International",city:"Moscow",country:"Russia",lat:55.9736,lon:37.4125,region:"europe"},{iata:"ARN",icao:"ESSA",name:"Stockholm Arlanda",city:"Stockholm",country:"Sweden",lat:59.6519,lon:17.9186,region:"europe"},{iata:"OSL",icao:"ENGM",name:"Oslo Gardermoen",city:"Oslo",country:"Norway",lat:60.1939,lon:11.1004,region:"europe"},{iata:"HEL",icao:"EFHK",name:"Helsinki-Vantaa",city:"Helsinki",country:"Finland",lat:60.3172,lon:24.9633,region:"europe"},{iata:"HND",icao:"RJTT",name:"Tokyo Haneda",city:"Tokyo",country:"Japan",lat:35.5494,lon:139.7798,region:"apac"},{iata:"NRT",icao:"RJAA",name:"Narita International",city:"Tokyo",country:"Japan",lat:35.772,lon:140.3929,region:"apac"},{iata:"PEK",icao:"ZBAA",name:"Beijing Capital",city:"Beijing",country:"China",lat:40.0799,lon:116.6031,region:"apac"},{iata:"PVG",icao:"ZSPD",name:"Shanghai Pudong",city:"Shanghai",country:"China",lat:31.1443,lon:121.8083,region:"apac"},{iata:"HKG",icao:"VHHH",name:"Hong Kong International",city:"Hong Kong",country:"China",lat:22.308,lon:113.9185,region:"apac"},{iata:"SIN",icao:"WSSS",name:"Singapore Changi",city:"Singapore",country:"Singapore",lat:1.3644,lon:103.9915,region:"apac"},{iata:"ICN",icao:"RKSI",name:"Incheon International",city:"Seoul",country:"South Korea",lat:37.4602,lon:126.4407,region:"apac"},{iata:"BKK",icao:"VTBS",name:"Suvarnabhumi Airport",city:"Bangkok",country:"Thailand",lat:13.69,lon:100.7501,region:"apac"},{iata:"SYD",icao:"YSSY",name:"Sydney Kingsford Smith",city:"Sydney",country:"Australia",lat:-33.9461,lon:151.1772,region:"apac"},{iata:"MEL",icao:"YMML",name:"Melbourne Airport",city:"Melbourne",country:"Australia",lat:-37.669,lon:144.841,region:"apac"},{iata:"DEL",icao:"VIDP",name:"Indira Gandhi International",city:"Delhi",country:"India",lat:28.5562,lon:77.1,region:"apac"},{iata:"BOM",icao:"VABB",name:"Chhatrapati Shivaji Maharaj",city:"Mumbai",country:"India",lat:19.0896,lon:72.8656,region:"apac"},{iata:"KUL",icao:"WMKK",name:"Kuala Lumpur International",city:"Kuala Lumpur",country:"Malaysia",lat:2.7456,lon:101.7099,region:"apac"},{iata:"CGK",icao:"WIII",name:"Soekarno-Hatta International",city:"Jakarta",country:"Indonesia",lat:-6.1256,lon:106.6558,region:"apac"},{iata:"MNL",icao:"RPLL",name:"Ninoy Aquino International",city:"Manila",country:"Philippines",lat:14.5086,lon:121.0197,region:"apac"},{iata:"TPE",icao:"RCTP",name:"Taiwan Taoyuan International",city:"Taipei",country:"Taiwan",lat:25.0797,lon:121.2342,region:"apac"},{iata:"AKL",icao:"NZAA",name:"Auckland Airport",city:"Auckland",country:"New Zealand",lat:-37.0082,lon:174.785,region:"apac"},{iata:"DXB",icao:"OMDB",name:"Dubai International",city:"Dubai",country:"UAE",lat:25.2532,lon:55.3657,region:"mena"},{iata:"DOH",icao:"OTHH",name:"Hamad International",city:"Doha",country:"Qatar",lat:25.2731,lon:51.6081,region:"mena"},{iata:"AUH",icao:"OMAA",name:"Abu Dhabi International",city:"Abu Dhabi",country:"UAE",lat:24.433,lon:54.6511,region:"mena"},{iata:"RUH",icao:"OERK",name:"King Khalid International",city:"Riyadh",country:"Saudi Arabia",lat:24.9576,lon:46.6988,region:"mena"},{iata:"JED",icao:"OEJN",name:"King Abdulaziz International",city:"Jeddah",country:"Saudi Arabia",lat:21.6796,lon:39.1565,region:"mena"},{iata:"CAI",icao:"HECA",name:"Cairo International",city:"Cairo",country:"Egypt",lat:30.1219,lon:31.4056,region:"mena"},{iata:"TLV",icao:"LLBG",name:"Ben Gurion Airport",city:"Tel Aviv",country:"Israel",lat:32.0055,lon:34.8854,region:"mena"},{iata:"AMM",icao:"OJAI",name:"Queen Alia International",city:"Amman",country:"Jordan",lat:31.7226,lon:35.9932,region:"mena"},{iata:"BAH",icao:"OBBI",name:"Bahrain International",city:"Manama",country:"Bahrain",lat:26.2708,lon:50.6336,region:"mena"},{iata:"KWI",icao:"OKBK",name:"Kuwait International",city:"Kuwait City",country:"Kuwait",lat:29.2266,lon:47.9689,region:"mena"},{iata:"MCT",icao:"OOMS",name:"Muscat International",city:"Muscat",country:"Oman",lat:23.5933,lon:58.2844,region:"mena"},{iata:"CMN",icao:"GMMN",name:"Mohammed V International",city:"Casablanca",country:"Morocco",lat:33.3675,lon:-7.5898,region:"mena"},{iata:"ALG",icao:"DAAG",name:"Houari Boumediene Airport",city:"Algiers",country:"Algeria",lat:36.691,lon:3.2154,region:"mena"},{iata:"TUN",icao:"DTTA",name:"Tunis–Carthage International",city:"Tunis",country:"Tunisia",lat:36.851,lon:10.2272,region:"mena"},{iata:"JNB",icao:"FAOR",name:"O.R. Tambo International",city:"Johannesburg",country:"South Africa",lat:-26.1392,lon:28.246,region:"africa"},{iata:"CPT",icao:"FACT",name:"Cape Town International",city:"Cape Town",country:"South Africa",lat:-33.9715,lon:18.6021,region:"africa"},{iata:"NBO",icao:"HKJK",name:"Jomo Kenyatta International",city:"Nairobi",country:"Kenya",lat:-1.3192,lon:36.9278,region:"africa"},{iata:"LOS",icao:"DNMM",name:"Murtala Muhammed International",city:"Lagos",country:"Nigeria",lat:6.5774,lon:3.3212,region:"africa"},{iata:"ADD",icao:"HAAB",name:"Bole International",city:"Addis Ababa",country:"Ethiopia",lat:8.9779,lon:38.7993,region:"africa"},{iata:"ACC",icao:"DGAA",name:"Kotoka International",city:"Accra",country:"Ghana",lat:5.6052,lon:-.1668,region:"africa"},{iata:"DAR",icao:"HTDA",name:"Julius Nyerere International",city:"Dar es Salaam",country:"Tanzania",lat:-6.8781,lon:39.2026,region:"africa"},{iata:"MRU",icao:"FIMP",name:"Sir Seewoosagur Ramgoolam",city:"Mauritius",country:"Mauritius",lat:-20.4302,lon:57.6836,region:"africa"}];Hc.filter(t=>t.country==="USA").map(t=>t.iata);const $c=[{id:"^GSPC",type:"index",name:"S&P 500",aliases:["s&p","s&p 500","sp500","spx","spy"],keywords:["market","stocks","wall street","equities"],related:["^DJI","^IXIC"]},{id:"^DJI",type:"index",name:"Dow Jones",aliases:["dow","dow jones","djia","dow 30"],keywords:["blue chip","industrials","market"],related:["^GSPC","^IXIC"]},{id:"^IXIC",type:"index",name:"NASDAQ",aliases:["nasdaq","nasdaq composite","qqq","tech index"],keywords:["tech stocks","growth","technology"],related:["^GSPC","XLK"]},{id:"AAPL",type:"company",name:"Apple Inc.",aliases:["apple","aapl","tim cook","iphone","ipad","mac"],keywords:["iphone","ios","app store","macbook","vision pro","services","wearables"],sector:"Technology",related:["MSFT","GOOGL","TSM"]},{id:"MSFT",type:"company",name:"Microsoft Corporation",aliases:["microsoft","msft","satya nadella","windows","azure","xbox"],keywords:["azure","cloud","windows","office","copilot","openai","teams","github"],sector:"Technology",related:["AAPL","GOOGL","AMZN","NVDA"]},{id:"NVDA",type:"company",name:"NVIDIA Corporation",aliases:["nvidia","nvda","jensen huang","geforce"],keywords:["gpu","ai chip","datacenter","cuda","h100","blackwell","artificial intelligence","gaming","graphics"],sector:"Technology",related:["AMD","TSM","AVGO","INTC","MSFT"]},{id:"GOOGL",type:"company",name:"Alphabet Inc.",aliases:["google","alphabet","googl","goog","sundar pichai","youtube"],keywords:["search","ads","android","chrome","gemini","waymo","cloud","ai"],sector:"Technology",related:["META","MSFT","AAPL","AMZN"]},{id:"AMZN",type:"company",name:"Amazon.com Inc.",aliases:["amazon","amzn","aws","andy jassy","jeff bezos","prime"],keywords:["ecommerce","cloud","aws","prime","alexa","warehouse","logistics","retail"],sector:"Technology",related:["MSFT","GOOGL","WMT","COST"]},{id:"META",type:"company",name:"Meta Platforms Inc.",aliases:["meta","facebook","fb","mark zuckerberg","zuckerberg","instagram","whatsapp"],keywords:["social media","metaverse","vr","reels","advertising","llama","ai"],sector:"Technology",related:["GOOGL","SNAP","PINS"]},{id:"TSM",type:"company",name:"Taiwan Semiconductor",aliases:["tsmc","tsm","taiwan semi","taiwan semiconductor"],keywords:["chip","foundry","semiconductor","fab","wafer","node","nanometer","taiwan"],sector:"Technology",related:["NVDA","AMD","AAPL","AVGO","INTC"]},{id:"AVGO",type:"company",name:"Broadcom Inc.",aliases:["broadcom","avgo","avago","hock tan"],keywords:["chip","semiconductor","wireless","5g","networking","infrastructure","vmware","enterprise"],sector:"Technology",related:["NVDA","QCOM","TSM","INTC"]},{id:"ORCL",type:"company",name:"Oracle Corporation",aliases:["oracle","orcl","larry ellison","ellison"],keywords:["database","cloud","enterprise","java","erp","saas"],sector:"Technology",related:["MSFT","SAP","CRM"]},{id:"NFLX",type:"company",name:"Netflix Inc.",aliases:["netflix","nflx"],keywords:["streaming","entertainment","movies","series","subscription","content"],sector:"Technology",related:["DIS","WBD","PARA"]},{id:"LMT",type:"company",name:"Lockheed Martin",aliases:["lockheed","lockheed martin","lmt","skunk works"],keywords:["f-35","defense","missile","aerospace","himars","javeline"],sector:"Defense",related:["RTX","NOC","GD","BA"]},{id:"RTX",type:"company",name:"RTX Corp",aliases:["raytheon","rtx","pratt & whitney","collins aerospace"],keywords:["missile","patriot","defense","radar","engine"],sector:"Defense",related:["LMT","NOC","GD"]},{id:"NOC",type:"company",name:"Northrop Grumman",aliases:["northrop","northrop grumman","noc"],keywords:["b-21","bomber","space","defense","drone"],sector:"Defense",related:["LMT","RTX","L3H"]},{id:"BA",type:"company",name:"Boeing",aliases:["boeing","ba"],keywords:["airplane","737 max","defense","space","starliner"],sector:"Defense",related:["AIR.PA","LMT"]},{id:"GD",type:"company",name:"General Dynamics",aliases:["general dynamics","gd"],keywords:["submarine","tank","abrams","gulfstream","defense"],sector:"Defense",related:["LMT","HII"]},{id:"RHM.DE",type:"company",name:"Rheinmetall AG",aliases:["rheinmetall","rhm"],keywords:["tank","leopard","ammunition","defense","germany"],sector:"Defense",related:["KMW","BAE.L"]},{id:"AIR.PA",type:"company",name:"Airbus SE",aliases:["airbus","eads"],keywords:["airplane","defense","helicopter","space","europe"],sector:"Defense",related:["BA","SAF.PA"]},{id:"ASML",type:"company",name:"ASML Holding",aliases:["asml"],keywords:["lithography","euv","duv","chip equipment","semiconductor"],sector:"Technology",related:["TSM","INTC","SAMSUNG"]},{id:"005930.KS",type:"company",name:"Samsung Electronics",aliases:["samsung","samsung electronics"],keywords:["memory","chip","phone","display","foundry"],sector:"Technology",related:["SK hynix","AAPL","TSM"]},{id:"ALB",type:"company",name:"Albemarle",aliases:["albemarle","alb"],keywords:["lithium","battery","ev","mining"],sector:"Materials",related:["SQM","TSLA"]},{id:"SQM",type:"company",name:"SQM",aliases:["sqm","sociedad quimica"],keywords:["lithium","chile","mining","battery"],sector:"Materials",related:["ALB"]},{id:"MP",type:"company",name:"MP Materials",aliases:["mp materials","mountain pass"],keywords:["rare earth","neodymium","magnet","mining","china alternative"],sector:"Materials",related:["ARE"]},{id:"FCX",type:"company",name:"Freeport-McMoRan",aliases:["freeport","fcx"],keywords:["copper","gold","mining","indonesia","grasberg"],sector:"Materials",related:["SCCO","RIO"]},{id:"BRK-B",type:"company",name:"Berkshire Hathaway",aliases:["berkshire","berkshire hathaway","brk","warren buffett","buffett","charlie munger"],keywords:["insurance","investing","conglomerate","value"],sector:"Finance",related:["JPM","BAC","GS"]},{id:"JPM",type:"company",name:"JPMorgan Chase",aliases:["jpmorgan","jp morgan","jpm","chase","jamie dimon","dimon"],keywords:["bank","banking","investment bank","credit","loans","interest rate"],sector:"Finance",related:["BAC","GS","MS","C"]},{id:"V",type:"company",name:"Visa Inc.",aliases:["visa"],keywords:["payments","credit card","debit","transaction","fintech"],sector:"Finance",related:["MA","AXP","PYPL"]},{id:"MA",type:"company",name:"Mastercard Inc.",aliases:["mastercard","master card"],keywords:["payments","credit card","debit","transaction","fintech"],sector:"Finance",related:["V","AXP","PYPL"]},{id:"BAC",type:"company",name:"Bank of America",aliases:["bank of america","bofa","bac","boa"],keywords:["bank","banking","mortgage","loans","credit","interest rate"],sector:"Finance",related:["JPM","WFC","C"]},{id:"LLY",type:"company",name:"Eli Lilly",aliases:["eli lilly","lilly","lly"],keywords:["pharma","drug","ozempic","diabetes","obesity","weight loss","mounjaro","zepbound"],sector:"Healthcare",related:["NVO","PFE","MRK","JNJ"]},{id:"UNH",type:"company",name:"UnitedHealth Group",aliases:["unitedhealth","united health","unh","optum"],keywords:["insurance","healthcare","managed care","medicare","medicaid"],sector:"Healthcare",related:["CVS","CI","HUM"]},{id:"NVO",type:"company",name:"Novo Nordisk",aliases:["novo nordisk","novo","nvo"],keywords:["pharma","drug","ozempic","wegovy","diabetes","obesity","glp-1","weight loss"],sector:"Healthcare",related:["LLY","PFE","MRK"]},{id:"JNJ",type:"company",name:"Johnson & Johnson",aliases:["johnson johnson","j&j","jnj","johnson and johnson"],keywords:["pharma","medical devices","consumer health","vaccine"],sector:"Healthcare",related:["PFE","MRK","ABT"]},{id:"XOM",type:"company",name:"Exxon Mobil",aliases:["exxon","exxonmobil","exxon mobil","xom","mobil"],keywords:["oil","gas","drilling","refinery","petroleum","energy","fossil fuel"],sector:"Energy",related:["CVX","COP","CL=F"]},{id:"TSLA",type:"company",name:"Tesla Inc.",aliases:["tesla","tsla","elon musk","musk"],keywords:["ev","electric vehicle","battery","autopilot","fsd","robotaxi","energy storage","solar"],sector:"Consumer",related:["RIVN","LCID","F","GM"]},{id:"WMT",type:"company",name:"Walmart Inc.",aliases:["walmart","wmt","wal-mart"],keywords:["retail","grocery","ecommerce","stores","consumer","discount"],sector:"Consumer",related:["COST","TGT","AMZN"]},{id:"COST",type:"company",name:"Costco Wholesale",aliases:["costco","cost"],keywords:["retail","wholesale","membership","grocery","warehouse"],sector:"Consumer",related:["WMT","TGT","BJ"]},{id:"HD",type:"company",name:"Home Depot",aliases:["home depot","hd","homedepot"],keywords:["retail","home improvement","construction","housing","diy"],sector:"Consumer",related:["LOW","WMT"]},{id:"PG",type:"company",name:"Procter & Gamble",aliases:["procter gamble","p&g","pg","procter & gamble","procter and gamble"],keywords:["consumer goods","household","personal care","detergent","beauty"],sector:"Consumer",related:["KO","PEP","CL","UL"]},{id:"XLK",type:"sector",name:"Technology Select Sector",aliases:["tech sector","technology sector","xlk"],keywords:["tech","software","hardware","it"],related:["AAPL","MSFT","NVDA"]},{id:"XLF",type:"sector",name:"Financial Select Sector",aliases:["finance sector","financial sector","xlf","banks"],keywords:["bank","insurance","financial"],related:["JPM","BAC","V"]},{id:"XLE",type:"sector",name:"Energy Select Sector",aliases:["energy sector","xle","oil stocks"],keywords:["oil","gas","energy","drilling"],related:["XOM","CVX","CL=F"]},{id:"XLV",type:"sector",name:"Health Care Select Sector",aliases:["healthcare sector","health sector","xlv","pharma stocks"],keywords:["pharma","biotech","healthcare","medical"],related:["LLY","UNH","JNJ"]},{id:"SMH",type:"sector",name:"Semiconductor ETF",aliases:["semis","semiconductor sector","smh","chip stocks"],keywords:["chip","semiconductor","foundry","fab"],related:["NVDA","TSM","AVGO","AMD"]},{id:"^VIX",type:"commodity",name:"VIX Volatility Index",aliases:["vix","fear index","volatility"],keywords:["volatility","fear","uncertainty","hedging","options"],related:["^GSPC"]},{id:"GC=F",type:"commodity",name:"Gold Futures",aliases:["gold","xau","bullion"],keywords:["precious metal","safe haven","inflation hedge","bullion","jewelry"],related:["SI=F","GLD"]},{id:"CL=F",type:"commodity",name:"Crude Oil WTI",aliases:["oil","crude","wti","crude oil","petroleum","brent"],keywords:["opec","drilling","refinery","barrel","pipeline","energy","gasoline","fuel"],related:["NG=F","XOM","CVX","XLE"]},{id:"NG=F",type:"commodity",name:"Natural Gas Futures",aliases:["natural gas","natgas","gas"],keywords:["lng","pipeline","heating","energy","utility"],related:["CL=F","XLE"]},{id:"SI=F",type:"commodity",name:"Silver Futures",aliases:["silver","xag"],keywords:["precious metal","industrial metal","solar","electronics"],related:["GC=F","HG=F"]},{id:"HG=F",type:"commodity",name:"Copper Futures",aliases:["copper"],keywords:["industrial metal","construction","wiring","ev","infrastructure"],related:["SI=F","GC=F"]},{id:"bitcoin",type:"crypto",name:"Bitcoin",aliases:["bitcoin","btc","satoshi"],keywords:["cryptocurrency","blockchain","digital currency","halving","btc mining"],related:["ethereum","solana"]},{id:"ethereum",type:"crypto",name:"Ethereum",aliases:["ethereum","eth","ether","vitalik"],keywords:["smart contract","defi","nft","blockchain","eth gas"],related:["bitcoin","solana"]},{id:"solana",type:"crypto",name:"Solana",aliases:["solana","sol token"],keywords:["blockchain","defi","nft","solana network"],related:["bitcoin","ethereum"]},{id:"CN",type:"country",name:"China",aliases:["china","chinese","beijing","prc","xi jinping"],keywords:["trade war","tariff","ccp","pla","taiwan strait","south china sea","yuan","rmb"],related:["TW","TSM","BABA"]},{id:"TW",type:"country",name:"Taiwan",aliases:["taiwan","taiwanese","taipei","roc"],keywords:["strait","semiconductor","chip","invasion","blockade"],related:["CN","TSM","NVDA"]},{id:"RU",type:"country",name:"Russia",aliases:["russia","russian","moscow","kremlin","putin","vladimir putin"],keywords:["sanctions","ukraine","war","gas","oil","nato","nuclear"],related:["UA","CL=F","NG=F"]},{id:"UA",type:"country",name:"Ukraine",aliases:["ukraine","ukrainian","kyiv","kiev","zelenskyy","zelensky"],keywords:["war","invasion","grain","nato","aid","defense"],related:["RU","CL=F","GC=F"]},{id:"IR",type:"country",name:"Iran",aliases:["iran","iranian","tehran","khamenei","irgc"],keywords:["sanctions","nuclear","oil","strait of hormuz","proxy","hezbollah","houthi"],related:["IL","CL=F","SA"]},{id:"IL",type:"country",name:"Israel",aliases:["israel","israeli","tel aviv","jerusalem","netanyahu","idf"],keywords:["gaza","hamas","hezbollah","iran","defense","war","middle east"],related:["IR","CL=F"]},{id:"SA",type:"country",name:"Saudi Arabia",aliases:["saudi","saudi arabia","riyadh","mbs","aramco"],keywords:["opec","oil","production","cut","crude","energy"],related:["CL=F","IR","XOM"]},{id:"AE",type:"country",name:"UAE",aliases:["uae","united arab emirates","emirates","abu dhabi","dubai","mbz"],keywords:["oil","trade","g42","ai","logistics","dp world"],related:["SA","CL=F","MSFT"]},{id:"QA",type:"country",name:"Qatar",aliases:["qatar","doha","al thani"],keywords:["lng","gas","mediator","hamas","al udeid","energy"],related:["NG=F","XOM","US"]},{id:"TR",type:"country",name:"Turkey",aliases:["turkey","turkiye","erdogan","ankara"],keywords:["nato","bosphorus","drone","bayraktar","kurds","lira"],related:["RU","UA","RHM.DE"]},{id:"EG",type:"country",name:"Egypt",aliases:["egypt","cairo","sisi"],keywords:["suez canal","gaza","rafah","imf","debt","tourism"],related:["IL","SA","AE"]}],f0=[{id:"openai-hq",name:"OpenAI",sector:"AI Research",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7562,lon:-122.4193,employees:700,foundedYear:2015,keyProducts:["GPT-4","ChatGPT","DALL-E","API Platform"],valuation:8e10},{id:"anthropic-hq",name:"Anthropic",sector:"AI Research",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7937,lon:-122.3965,employees:500,foundedYear:2021,keyProducts:["Claude","Constitutional AI"],valuation:184e8},{id:"google-deepmind-uk",name:"Google DeepMind",sector:"AI Research",officeType:"headquarters",city:"London",country:"United Kingdom",lat:51.531,lon:-.1247,employees:2500,foundedYear:2010,keyProducts:["Gemini","AlphaGo","AlphaFold"]},{id:"google-hq",name:"Google/Alphabet",sector:"Cloud/AI",officeType:"headquarters",city:"Mountain View",country:"United States",lat:37.422,lon:-122.0841,employees:182502,foundedYear:1998,keyProducts:["Search","Cloud","Gemini AI","YouTube"],stockSymbol:"GOOGL",valuation:2e12},{id:"meta-hq",name:"Meta (Facebook)",sector:"Social/AI",officeType:"headquarters",city:"Menlo Park",country:"United States",lat:37.4848,lon:-122.1482,employees:67317,foundedYear:2004,keyProducts:["Facebook","Instagram","WhatsApp","Llama AI"],stockSymbol:"META",valuation:12e11},{id:"microsoft-hq",name:"Microsoft",sector:"Cloud/AI",officeType:"headquarters",city:"Redmond",country:"United States",lat:47.6423,lon:-122.139,employees:221e3,foundedYear:1975,keyProducts:["Azure","Office 365","GitHub","OpenAI Investment"],stockSymbol:"MSFT",valuation:3e12},{id:"amazon-hq",name:"Amazon",sector:"Cloud/AI",officeType:"headquarters",city:"Seattle",country:"United States",lat:47.6223,lon:-122.3389,employees:1541e3,foundedYear:1994,keyProducts:["AWS","E-commerce","Alexa","Bedrock AI"],stockSymbol:"AMZN",valuation:19e11},{id:"nvidia-hq",name:"NVIDIA",sector:"AI Chips",officeType:"headquarters",city:"Santa Clara",country:"United States",lat:37.3708,lon:-121.9646,employees:29600,foundedYear:1993,keyProducts:["H100","A100","GB200","CUDA"],stockSymbol:"NVDA",valuation:35e11},{id:"amd-hq",name:"AMD",sector:"AI Chips",officeType:"headquarters",city:"Santa Clara",country:"United States",lat:37.3861,lon:-121.9633,employees:26e3,foundedYear:1969,keyProducts:["MI300X","EPYC","Ryzen"],stockSymbol:"AMD"},{id:"tsmc-hq",name:"TSMC",sector:"AI Chips",officeType:"headquarters",city:"Hsinchu",country:"Taiwan",lat:24.7799,lon:121.0371,employees:77e3,foundedYear:1987,keyProducts:["3nm Process","5nm Process","Chip Manufacturing"],stockSymbol:"TSM",valuation:9e11},{id:"mistral-hq",name:"Mistral AI",sector:"AI Research",officeType:"headquarters",city:"Paris",country:"France",lat:48.8566,lon:2.3522,employees:240,foundedYear:2023,keyProducts:["Mistral Large","Mixtral"],valuation:6e9},{id:"cohere-hq",name:"Cohere",sector:"AI Research",officeType:"headquarters",city:"Toronto",country:"Canada",lat:43.6532,lon:-79.3832,employees:400,foundedYear:2019,keyProducts:["Command","Embed","Rerank"],valuation:5e9},{id:"inflection-hq",name:"Inflection AI",sector:"AI Research",officeType:"headquarters",city:"Palo Alto",country:"United States",lat:37.4419,lon:-122.143,employees:35,foundedYear:2022,keyProducts:["Pi Assistant"],valuation:4e9},{id:"adept-hq",name:"Adept AI",sector:"AI Research",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7749,lon:-122.4194,employees:50,foundedYear:2022,keyProducts:["ACT-1","AI Automation"],valuation:1e9},{id:"perplexity-hq",name:"Perplexity AI",sector:"AI Research",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7749,lon:-122.4194,employees:80,foundedYear:2022,keyProducts:["AI Search"],valuation:9e9},{id:"baidu-hq",name:"Baidu",sector:"AI Research",officeType:"headquarters",city:"Beijing",country:"China",lat:39.9925,lon:116.3272,employees:36e3,foundedYear:2e3,keyProducts:["ERNIE Bot","Search","Apollo"],stockSymbol:"BIDU"},{id:"bytedance-hq",name:"ByteDance",sector:"Social/AI",officeType:"headquarters",city:"Beijing",country:"China",lat:39.9163,lon:116.4896,employees:15e4,foundedYear:2012,keyProducts:["TikTok","Douyin","AI Recommendations"],valuation:225e9},{id:"alibaba-hq",name:"Alibaba Cloud",sector:"Cloud/AI",officeType:"headquarters",city:"Hangzhou",country:"China",lat:30.2741,lon:120.1551,employees:239e3,foundedYear:1999,keyProducts:["Alibaba Cloud","Tongyi Qianwen","E-commerce"],stockSymbol:"BABA"},{id:"tencent-hq",name:"Tencent",sector:"Cloud/AI",officeType:"headquarters",city:"Shenzhen",country:"China",lat:22.5431,lon:114.0579,employees:105e3,foundedYear:1998,keyProducts:["WeChat","Tencent Cloud","Gaming"]},{id:"moonshot-hq",name:"Moonshot AI",sector:"AI Research",officeType:"headquarters",city:"Beijing",country:"China",lat:39.9042,lon:116.4074,employees:200,foundedYear:2023,keyProducts:["Kimi Chat"],valuation:25e8},{id:"databricks-hq",name:"Databricks",sector:"AI Platform",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7749,lon:-122.4194,employees:5500,foundedYear:2013,keyProducts:["Lakehouse","MLOps","DBRX"],valuation:43e9},{id:"scale-ai-hq",name:"Scale AI",sector:"AI Data",officeType:"headquarters",city:"San Francisco",country:"United States",lat:37.7749,lon:-122.4194,employees:600,foundedYear:2016,keyProducts:["Data Labeling","Foundation Model Platforms"],valuation:14e9},{id:"huggingface-hq",name:"Hugging Face",sector:"AI Platform",officeType:"headquarters",city:"New York",country:"United States",lat:40.7128,lon:-74.006,employees:400,foundedYear:2016,keyProducts:["Model Hub","Transformers","Inference"],valuation:45e8},{id:"cerebras-hq",name:"Cerebras",sector:"AI Chips",officeType:"headquarters",city:"Sunnyvale",country:"United States",lat:37.3688,lon:-122.0363,employees:400,foundedYear:2016,keyProducts:["CS-2","Wafer-Scale Engine"],stockSymbol:"CBRS"},{id:"groq-hq",name:"Groq",sector:"AI Chips",officeType:"headquarters",city:"Mountain View",country:"United States",lat:37.3861,lon:-122.0839,employees:350,foundedYear:2016,keyProducts:["LPU","Inference Chips"],valuation:28e8},{id:"sambanova-hq",name:"SambaNova Systems",sector:"AI Chips",officeType:"headquarters",city:"Palo Alto",country:"United States",lat:37.4419,lon:-122.143,employees:600,foundedYear:2017,keyProducts:["DataScale","RDU Chips"],valuation:5e9},{id:"sap-hq",name:"SAP",sector:"Enterprise/AI",officeType:"headquarters",city:"Walldorf",country:"Germany",lat:49.3044,lon:8.6434,employees:105e3,foundedYear:1972,keyProducts:["ERP","SAP AI","Cloud"],stockSymbol:"SAP"},{id:"spotify-hq",name:"Spotify",sector:"Media/AI",officeType:"headquarters",city:"Stockholm",country:"Sweden",lat:59.3293,lon:18.0686,employees:9800,foundedYear:2006,keyProducts:["Music Streaming","AI Recommendations"],stockSymbol:"SPOT"},{id:"google-london",name:"Google London",sector:"Cloud/AI",officeType:"major office",city:"London",country:"United Kingdom",lat:51.5339,lon:-.1247,employees:7e3,foundedYear:2003,keyProducts:["European HQ"]},{id:"meta-london",name:"Meta London",sector:"Social/AI",officeType:"major office",city:"London",country:"United Kingdom",lat:51.5074,lon:-.0901,employees:5e3,foundedYear:2007,keyProducts:["European Engineering Hub"]},{id:"amazon-berlin",name:"Amazon Berlin",sector:"Cloud/AI",officeType:"major office",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,employees:3500,foundedYear:2013,keyProducts:["AWS Europe"]},{id:"apple-singapore",name:"Apple Singapore",sector:"Consumer/AI",officeType:"major office",city:"Singapore",country:"Singapore",lat:1.2789,lon:103.8489,employees:2e3,foundedYear:1981,keyProducts:["APAC Operations"]}],S0=[{id:"anthropic-research",name:"Anthropic",type:"industry",city:"San Francisco",country:"United States",lat:37.7937,lon:-122.3965,foundedYear:2021,focusAreas:["AI Safety","Constitutional AI","Large Language Models","Interpretability"],notableWork:["Claude AI family","Constitutional AI framework","Mechanistic interpretability"],publications:45},{id:"openai-research",name:"OpenAI",type:"industry",city:"San Francisco",country:"United States",lat:37.7562,lon:-122.4193,foundedYear:2015,focusAreas:["AGI","Large Language Models","Reinforcement Learning","AI Safety"],notableWork:["GPT-4","DALL-E","CLIP","Whisper"],publications:150},{id:"deepmind",name:"Google DeepMind",type:"industry",city:"London",country:"United Kingdom",lat:51.531,lon:-.1247,foundedYear:2010,focusAreas:["Reinforcement Learning","Protein Folding","Game AI","Multimodal AI"],notableWork:["AlphaGo","AlphaFold","Gemini","MuZero"],publications:500},{id:"meta-fair",name:"Meta AI (FAIR)",type:"industry",city:"Menlo Park",country:"United States",lat:37.4848,lon:-122.1482,foundedYear:2013,focusAreas:["Computer Vision","NLP","Open Source AI","Reinforcement Learning"],notableWork:["Llama","PyTorch","SAM","DINOv2"],publications:800},{id:"microsoft-research",name:"Microsoft Research AI",type:"industry",city:"Redmond",country:"United States",lat:47.6423,lon:-122.139,foundedYear:1991,focusAreas:["Deep Learning","NLP","Responsible AI","Quantum Computing"],notableWork:["ResNet","Azure AI","Phi models","Turing-NLG"],publications:1200},{id:"stanford-hai",name:"Stanford HAI",type:"academic",city:"Stanford",country:"United States",lat:37.4275,lon:-122.1697,foundedYear:2019,focusAreas:["Human-Centered AI","AI Ethics","AI Policy","Interdisciplinary Research"],notableWork:["AI Index Report","Foundation Models Research"],publications:300,faculty:200},{id:"mit-csail",name:"MIT CSAIL",type:"academic",city:"Cambridge",country:"United States",lat:42.3601,lon:-71.0942,foundedYear:1963,focusAreas:["Computer Vision","Robotics","NLP","Machine Learning Theory"],notableWork:["Object detection","Neural architecture search","Federated learning"],publications:2e3,faculty:80},{id:"berkeley-ai",name:"UC Berkeley AI Research (BAIR)",type:"academic",city:"Berkeley",country:"United States",lat:37.8719,lon:-122.2585,foundedYear:2016,focusAreas:["Deep Learning","Robotics","Computer Vision","NLP"],notableWork:["Deep RL","Neural Networks","Autonomous Systems"],publications:450,faculty:50},{id:"cmu-ml",name:"CMU Machine Learning Department",type:"academic",city:"Pittsburgh",country:"United States",lat:40.4433,lon:-79.9436,foundedYear:2006,focusAreas:["Machine Learning Theory","Deep Learning","Statistical ML","Neural Computation"],notableWork:["Statistical learning","Graph neural networks","Meta-learning"],publications:800,faculty:45},{id:"princeton-ai",name:"Princeton AI",type:"academic",city:"Princeton",country:"United States",lat:40.343,lon:-74.6514,foundedYear:1985,focusAreas:["Computer Vision","ML Theory","NLP","AI Safety"],notableWork:["ImageNet","Object recognition","Neural networks"],publications:400,faculty:30},{id:"oxford-ai",name:"Oxford AI",type:"academic",city:"Oxford",country:"United Kingdom",lat:51.7548,lon:-1.2544,foundedYear:1985,focusAreas:["Deep Learning","Computer Vision","NLP","Healthcare AI"],notableWork:["Visual Geometry Group","Deep learning for healthcare"],publications:600,faculty:40},{id:"cambridge-ml",name:"Cambridge Machine Learning Group",type:"academic",city:"Cambridge",country:"United Kingdom",lat:52.2043,lon:.1218,foundedYear:1990,focusAreas:["Bayesian ML","Probabilistic Models","Deep Learning","Reinforcement Learning"],notableWork:["Gaussian processes","Bayesian optimization","Probabilistic programming"],publications:500,faculty:35},{id:"eth-ai",name:"ETH Zurich AI Center",type:"academic",city:"Zurich",country:"Switzerland",lat:47.3769,lon:8.5417,foundedYear:2020,focusAreas:["Computer Vision","Robotics","ML Theory","Trustworthy AI"],notableWork:["3D vision","Autonomous systems","Safe AI"],publications:350,faculty:60},{id:"mpi-is",name:"Max Planck Institute for Intelligent Systems",type:"research institute",city:"Tübingen",country:"Germany",lat:48.5216,lon:9.0576,foundedYear:2011,focusAreas:["Machine Learning","Computer Vision","Robotics","Causal Inference"],notableWork:["Causal ML","Embodied AI","Vision research"],publications:400,faculty:25},{id:"tsinghua-ai",name:"Tsinghua University AI Institute",type:"academic",city:"Beijing",country:"China",lat:39.9994,lon:116.3267,foundedYear:2018,focusAreas:["Computer Vision","NLP","Robotics","AI Safety"],notableWork:["Large-scale AI models","Vision research"],publications:700,faculty:100},{id:"peking-ai",name:"Peking University AI",type:"academic",city:"Beijing",country:"China",lat:39.9925,lon:116.3059,foundedYear:2002,focusAreas:["NLP","Knowledge Graphs","Computer Vision","ML Theory"],notableWork:["Chinese NLP","Knowledge representation"],publications:600,faculty:80},{id:"tokyo-ai",name:"University of Tokyo AI Research",type:"academic",city:"Tokyo",country:"Japan",lat:35.713,lon:139.7625,foundedYear:2020,focusAreas:["Robotics","Computer Vision","Human-AI Interaction","Healthcare AI"],notableWork:["Humanoid robotics","Medical AI"],publications:400,faculty:50},{id:"nus-ai",name:"National University of Singapore AI",type:"academic",city:"Singapore",country:"Singapore",lat:1.2966,lon:103.7764,foundedYear:2018,focusAreas:["Computer Vision","NLP","Healthcare AI","Trustworthy AI"],notableWork:["Medical imaging","Southeast Asia NLP"],publications:350,faculty:45},{id:"chai-berkeley",name:"Center for Human-Compatible AI (CHAI)",type:"research institute",city:"Berkeley",country:"United States",lat:37.8719,lon:-122.2585,foundedYear:2016,focusAreas:["AI Safety","Value Alignment","Inverse Reinforcement Learning","AI Governance"],notableWork:["Value alignment research","Cooperative inverse RL"],publications:120,faculty:15},{id:"miri",name:"Machine Intelligence Research Institute (MIRI)",type:"research institute",city:"Berkeley",country:"United States",lat:37.8715,lon:-122.273,foundedYear:2e3,focusAreas:["AI Safety","Formal Verification","Decision Theory","Agent Foundations"],notableWork:["Agent foundations","Alignment theory"],publications:80},{id:"fhi",name:"Future of Humanity Institute",type:"research institute",city:"Oxford",country:"United Kingdom",lat:51.7548,lon:-1.2544,foundedYear:2005,focusAreas:["Existential Risk","AI Governance","Long-term AI Safety","Ethics"],notableWork:["AI risk research","Global catastrophic risks"],publications:200,faculty:20},{id:"alignment-research-center",name:"Alignment Research Center (ARC)",type:"research institute",city:"Berkeley",country:"United States",lat:37.8715,lon:-122.273,foundedYear:2021,focusAreas:["AI Alignment","Eliciting Latent Knowledge","AI Safety Evaluations"],notableWork:["ARC Evals","ELK research"],publications:30},{id:"baidu-research",name:"Baidu Research",type:"industry",city:"Beijing",country:"China",lat:39.9925,lon:116.3272,foundedYear:2013,focusAreas:["NLP","Computer Vision","Speech Recognition","Autonomous Driving"],notableWork:["ERNIE models","Apollo autonomous driving","PaddlePaddle"],publications:400},{id:"alibaba-damo",name:"Alibaba DAMO Academy",type:"industry",city:"Hangzhou",country:"China",lat:30.2741,lon:120.1551,foundedYear:2017,focusAreas:["NLP","Computer Vision","Speech","Quantum Computing"],notableWork:["Qwen models","Vision transformers","Cloud AI"],publications:300},{id:"sony-ai",name:"Sony AI",type:"industry",city:"Tokyo",country:"Japan",lat:35.6586,lon:139.7454,foundedYear:2019,focusAreas:["Gaming AI","Computer Vision","Robotics","Creativity AI"],notableWork:["Gran Turismo AI","Gastronomy AI"],publications:80},{id:"allen-ai",name:"Allen Institute for AI (AI2)",type:"research institute",city:"Seattle",country:"United States",lat:47.6205,lon:-122.3493,foundedYear:2014,focusAreas:["NLP","Computer Vision","Reasoning","Open Research"],notableWork:["Semantic Scholar","AllenNLP","OLMo"],publications:500},{id:"ibm-research-ai",name:"IBM Research AI",type:"industry",city:"Yorktown Heights",country:"United States",lat:41.2788,lon:-73.8084,foundedYear:1945,focusAreas:["Enterprise AI","Quantum AI","Trustworthy AI","NLP"],notableWork:["Watson","Granite models","Neuro-symbolic AI"],publications:1e3},{id:"mila",name:"Mila - Quebec AI Institute",type:"research institute",city:"Montreal",country:"Canada",lat:45.5017,lon:-73.5673,foundedYear:1993,focusAreas:["Deep Learning","Reinforcement Learning","NLP","Climate AI"],notableWork:["GANs","Attention mechanisms","Graph neural networks"],publications:800,faculty:70},{id:"vector-institute",name:"Vector Institute",type:"research institute",city:"Toronto",country:"Canada",lat:43.6532,lon:-79.3832,foundedYear:2017,focusAreas:["Deep Learning","Healthcare AI","ML Theory","Responsible AI"],notableWork:["Medical AI","Vector scholarship program"],publications:250,faculty:40},{id:"huawei-paris",name:"Huawei Paris Research Center",type:"industry",city:"Paris",country:"France",lat:48.8566,lon:2.3522,foundedYear:2016,focusAreas:["Computer Vision","NLP","Mathematics","Theory"],notableWork:["Vision research","Theoretical ML"],publications:200},{id:"samsung-ai",name:"Samsung AI Center",type:"industry",city:"Cambridge",country:"United Kingdom",lat:52.2043,lon:.1218,foundedYear:2018,focusAreas:["Computer Vision","On-Device AI","Generative AI","Robotics"],notableWork:["Mobile AI","Edge computing"],publications:150}],v0=[{id:"sf-bay-area",name:"San Francisco Bay Area",city:"San Francisco",country:"United States",lat:37.7749,lon:-122.4194,ecosystemTier:"tier1",totalFunding2024:62e9,activeStartups:12500,unicorns:78,topSectors:["AI/ML","Enterprise SaaS","Fintech","Biotech"],majorVCs:["Sequoia Capital","Andreessen Horowitz","Accel","Kleiner Perkins","Greylock"],notableStartups:["OpenAI","Anthropic","Scale AI","Databricks","Stripe"],avgSeedRound:35e5,avgSeriesA:18e6},{id:"palo-alto",name:"Palo Alto / Stanford",city:"Palo Alto",country:"United States",lat:37.4419,lon:-122.143,ecosystemTier:"tier1",totalFunding2024:28e9,activeStartups:4200,unicorns:45,topSectors:["AI/ML","Enterprise Software","Semiconductors","Cleantech"],majorVCs:["Y Combinator","NEA","Lightspeed","Khosla Ventures"],notableStartups:["Adept AI","Inflection AI","SambaNova","Palantir"],avgSeedRound:4e6,avgSeriesA:2e7},{id:"nyc",name:"New York City",city:"New York",country:"United States",lat:40.7128,lon:-74.006,ecosystemTier:"tier1",totalFunding2024:35e9,activeStartups:9e3,unicorns:42,topSectors:["Fintech","Enterprise SaaS","AI/ML","Media/Adtech"],majorVCs:["Union Square Ventures","Lerer Hippeau","FirstMark","Insight Partners"],notableStartups:["Hugging Face","DataBricks NYC","Verkada","Toast"],avgSeedRound:28e5,avgSeriesA:15e6},{id:"boston",name:"Boston",city:"Boston",country:"United States",lat:42.3601,lon:-71.0589,ecosystemTier:"tier2",totalFunding2024:18e9,activeStartups:4500,unicorns:28,topSectors:["Biotech","Robotics","AI/ML","Healthcare IT"],majorVCs:["General Catalyst","Battery Ventures","Atlas Venture","Highland Capital"],notableStartups:["Boston Dynamics","DataRobot","Toast","Optimus Ride"],avgSeedRound:25e5,avgSeriesA:12e6},{id:"seattle",name:"Seattle",city:"Seattle",country:"United States",lat:47.6062,lon:-122.3321,ecosystemTier:"tier2",totalFunding2024:12e9,activeStartups:3800,unicorns:22,topSectors:["Cloud/SaaS","AI/ML","Gaming","E-commerce"],majorVCs:["Madrona Venture Group","Founder's Co-op","Trilogy Equity"],notableStartups:["Outreach","Convoy","Rec Room","Highspot"],avgSeedRound:22e5,avgSeriesA:1e7},{id:"austin",name:"Austin",city:"Austin",country:"United States",lat:30.2672,lon:-97.7431,ecosystemTier:"tier2",totalFunding2024:85e8,activeStartups:3200,unicorns:18,topSectors:["AI/ML","Enterprise SaaS","Semiconductors","Cleantech"],majorVCs:["LiveOak Venture Partners","S3 Ventures","Silverton Partners"],notableStartups:["OpenAI Austin","Tesla AI","Jungle Scout","BigCommerce"],avgSeedRound:2e6,avgSeriesA:9e6},{id:"los-angeles",name:"Los Angeles",city:"Los Angeles",country:"United States",lat:34.0522,lon:-118.2437,ecosystemTier:"tier2",totalFunding2024:11e9,activeStartups:4100,unicorns:24,topSectors:["Entertainment Tech","AI/ML","Aerospace","Consumer"],majorVCs:["Upfront Ventures","Crosscut Ventures","Mucker Capital"],notableStartups:["SpaceX","Snap","Bird","Honeybook"],avgSeedRound:23e5,avgSeriesA:11e6},{id:"london",name:"London",city:"London",country:"United Kingdom",lat:51.5074,lon:-.1278,ecosystemTier:"tier1",totalFunding2024:24e9,activeStartups:7500,unicorns:38,topSectors:["Fintech","AI/ML","Healthtech","Enterprise SaaS"],majorVCs:["Index Ventures","Balderton Capital","Atomico","LocalGlobe"],notableStartups:["DeepMind","Revolut","Monzo","Darktrace"],avgSeedRound:18e5,avgSeriesA:8e6},{id:"paris",name:"Paris",city:"Paris",country:"France",lat:48.8566,lon:2.3522,ecosystemTier:"tier2",totalFunding2024:95e8,activeStartups:4200,unicorns:26,topSectors:["AI/ML","Deeptech","Fintech","Healthtech"],majorVCs:["Partech","Eurazeo","Alven Capital","Elaia Partners"],notableStartups:["Mistral AI","Qonto","Dataiku","Alan"],avgSeedRound:15e5,avgSeriesA:7e6},{id:"berlin",name:"Berlin",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,ecosystemTier:"tier2",totalFunding2024:78e8,activeStartups:3900,unicorns:18,topSectors:["Fintech","Enterprise SaaS","Mobility","AI/ML"],majorVCs:["Earlybird","Cavalry Ventures","Target Global","HV Capital"],notableStartups:["N26","Auto1","Tier Mobility","SoundCloud"],avgSeedRound:13e5,avgSeriesA:6e6},{id:"amsterdam",name:"Amsterdam",city:"Amsterdam",country:"Netherlands",lat:52.3676,lon:4.9041,ecosystemTier:"tier2",totalFunding2024:52e8,activeStartups:2800,unicorns:14,topSectors:["Fintech","SaaS","AI/ML","Logistics"],majorVCs:["Inkef Capital","Peak Capital","Prosperity Capital"],notableStartups:["Adyen","MessageBird","Mollie","Elastic"],avgSeedRound:12e5,avgSeriesA:55e5},{id:"stockholm",name:"Stockholm",city:"Stockholm",country:"Sweden",lat:59.3293,lon:18.0686,ecosystemTier:"tier2",totalFunding2024:48e8,activeStartups:2400,unicorns:16,topSectors:["Gaming","Fintech","SaaS","Cleantech"],majorVCs:["EQT Ventures","Creandum","Northzone"],notableStartups:["Spotify","Klarna","King","Northvolt"],avgSeedRound:14e5,avgSeriesA:6e6},{id:"zurich",name:"Zurich",city:"Zurich",country:"Switzerland",lat:47.3769,lon:8.5417,ecosystemTier:"tier2",totalFunding2024:35e8,activeStartups:1800,unicorns:9,topSectors:["Deeptech","Fintech","AI/ML","Biotech"],majorVCs:["Redalpine","btov Partners","Zühlke Ventures"],notableStartups:["Scandit","GetYourGuide","On Running","MindMaze"],avgSeedRound:11e5,avgSeriesA:5e6},{id:"beijing",name:"Beijing",city:"Beijing",country:"China",lat:39.9042,lon:116.4074,ecosystemTier:"tier1",totalFunding2024:32e9,activeStartups:8900,unicorns:54,topSectors:["AI/ML","Enterprise Software","Fintech","Autonomous Driving"],majorVCs:["Sequoia China","Matrix Partners China","GGV Capital","5Y Capital"],notableStartups:["ByteDance","Baidu AI","Megvii","Moonshot AI"],avgSeedRound:2e6,avgSeriesA:1e7},{id:"shanghai",name:"Shanghai",city:"Shanghai",country:"China",lat:31.2304,lon:121.4737,ecosystemTier:"tier1",totalFunding2024:28e9,activeStartups:7200,unicorns:42,topSectors:["E-commerce","Fintech","AI/ML","Gaming"],majorVCs:["Qiming Venture Partners","Gaorong Capital","Hillhouse Capital"],notableStartups:["Pinduoduo","Xiaohongshu","miHoYo","Lufax"],avgSeedRound:18e5,avgSeriesA:9e6},{id:"shenzhen",name:"Shenzhen",city:"Shenzhen",country:"China",lat:22.5431,lon:114.0579,ecosystemTier:"tier1",totalFunding2024:22e9,activeStartups:6800,unicorns:36,topSectors:["Hardware","AI/ML","Robotics","Consumer Electronics"],majorVCs:["Shenzhen Capital Group","IDG Capital","Morningside Ventures"],notableStartups:["DJI","Tencent","OnePlus","BYD"],avgSeedRound:16e5,avgSeriesA:8e6},{id:"singapore",name:"Singapore",city:"Singapore",country:"Singapore",lat:1.3521,lon:103.8198,ecosystemTier:"tier2",totalFunding2024:11e9,activeStartups:4100,unicorns:19,topSectors:["Fintech","E-commerce","AI/ML","Logistics"],majorVCs:["Vertex Ventures","East Ventures","Monk's Hill Ventures"],notableStartups:["Grab","Sea Group","Razer","PatSnap"],avgSeedRound:15e5,avgSeriesA:7e6},{id:"bangalore",name:"Bangalore",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,ecosystemTier:"tier1",totalFunding2024:14e9,activeStartups:6500,unicorns:32,topSectors:["SaaS","AI/ML","Fintech","E-commerce"],majorVCs:["Accel India","Sequoia India","Blume Ventures","Lightspeed India"],notableStartups:["Flipkart","Swiggy","Ola","Byju's"],avgSeedRound:12e5,avgSeriesA:6e6},{id:"tokyo",name:"Tokyo",city:"Tokyo",country:"Japan",lat:35.6762,lon:139.6503,ecosystemTier:"tier2",totalFunding2024:68e8,activeStartups:3400,unicorns:12,topSectors:["AI/ML","Robotics","Gaming","Healthtech"],majorVCs:["JAFCO","Global Brain","WiL","Incubate Fund"],notableStartups:["Preferred Networks","SmartNews","Spiber","Mercari"],avgSeedRound:1e6,avgSeriesA:5e6},{id:"seoul",name:"Seoul",city:"Seoul",country:"South Korea",lat:37.5665,lon:126.978,ecosystemTier:"tier2",totalFunding2024:52e8,activeStartups:2900,unicorns:14,topSectors:["Gaming","AI/ML","E-commerce","Fintech"],majorVCs:["Kakao Ventures","Softbank Ventures Asia","Korea Investment Partners"],notableStartups:["Coupang","Krafton","Toss","Yanolja"],avgSeedRound:9e5,avgSeriesA:45e5},{id:"toronto",name:"Toronto",city:"Toronto",country:"Canada",lat:43.6532,lon:-79.3832,ecosystemTier:"tier2",totalFunding2024:62e8,activeStartups:3100,unicorns:16,topSectors:["AI/ML","Fintech","Healthtech","Enterprise SaaS"],majorVCs:["OMERS Ventures","Georgian Partners","iNovia Capital"],notableStartups:["Cohere","Wealthsimple","Shopify (Ottawa)","Clearco"],avgSeedRound:16e5,avgSeriesA:75e5},{id:"montreal",name:"Montreal",city:"Montreal",country:"Canada",lat:45.5017,lon:-73.5673,ecosystemTier:"tier2",totalFunding2024:38e8,activeStartups:2200,unicorns:8,topSectors:["AI/ML","Gaming","Aerospace","Deeptech"],majorVCs:["Real Ventures","Brightspark Ventures","iNovia Capital"],notableStartups:["Element AI","Lightspeed Commerce","BrainBox AI","Hopper"],avgSeedRound:13e5,avgSeriesA:6e6},{id:"tel-aviv",name:"Tel Aviv",city:"Tel Aviv",country:"Israel",lat:32.0853,lon:34.7818,ecosystemTier:"tier1",totalFunding2024:92e8,activeStartups:4800,unicorns:24,topSectors:["Cybersecurity","AI/ML","Fintech","Autonomous Systems"],majorVCs:["Bessemer Venture Partners","Viola Ventures","Aleph","JVP"],notableStartups:["Wiz","Snyk","Rapyd","Forter"],avgSeedRound:17e5,avgSeriesA:8e6},{id:"sydney",name:"Sydney",city:"Sydney",country:"Australia",lat:-33.8688,lon:151.2093,ecosystemTier:"tier2",totalFunding2024:34e8,activeStartups:2100,unicorns:8,topSectors:["Fintech","SaaS","Healthtech","AI/ML"],majorVCs:["Blackbird Ventures","Square Peg Capital","AirTree Ventures"],notableStartups:["Canva","Atlassian","AfterPay","Safety Culture"],avgSeedRound:11e5,avgSeriesA:5e6},{id:"dubai",name:"Dubai",city:"Dubai",country:"United Arab Emirates",lat:25.2048,lon:55.2708,ecosystemTier:"tier3",totalFunding2024:28e8,activeStartups:1800,unicorns:5,topSectors:["Fintech","E-commerce","AI/ML","Logistics"],majorVCs:["BECO Capital","Global Ventures","Wamda Capital"],notableStartups:["Careem","Noon","Tabby","Anghami"],avgSeedRound:1e6,avgSeriesA:45e5},{id:"sao-paulo",name:"São Paulo",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,ecosystemTier:"tier2",totalFunding2024:42e8,activeStartups:2600,unicorns:12,topSectors:["Fintech","E-commerce","SaaS","Agtech"],majorVCs:["Kaszek Ventures","Monashees","Valor Capital"],notableStartups:["Nubank","Stone","QuintoAndar","Vtex"],avgSeedRound:8e5,avgSeriesA:4e6},{id:"miami",name:"Miami",city:"Miami",country:"United States",lat:25.7617,lon:-80.1918,ecosystemTier:"tier3",totalFunding2024:32e8,activeStartups:1500,unicorns:8,topSectors:["Fintech","Crypto/Web3","Real Estate Tech","Healthcare"],majorVCs:["Founders Fund Miami","a16z crypto","Atomic"],notableStartups:["Blockchain.com","Pipe","Reef Technology","Papa"],avgSeedRound:2e6,avgSeriesA:8e6},{id:"denver",name:"Denver/Boulder",city:"Denver",country:"United States",lat:39.7392,lon:-104.9903,ecosystemTier:"tier3",totalFunding2024:41e8,activeStartups:2100,unicorns:10,topSectors:["Aerospace","Outdoor Tech","SaaS","Cleantech"],majorVCs:["Foundry Group","Techstars","High Alpha"],notableStartups:["Guild Education","Ibotta","Strava","SendGrid"],avgSeedRound:18e5,avgSeriesA:75e5},{id:"chicago",name:"Chicago",city:"Chicago",country:"United States",lat:41.8781,lon:-87.6298,ecosystemTier:"tier3",totalFunding2024:55e8,activeStartups:2800,unicorns:14,topSectors:["Fintech","Enterprise SaaS","Logistics","Foodtech"],majorVCs:["MATH Venture Partners","Chicago Ventures","Lightbank"],notableStartups:["Tempus","Relativity","Braintree","Grubhub"],avgSeedRound:15e5,avgSeriesA:6e6},{id:"barcelona",name:"Barcelona",city:"Barcelona",country:"Spain",lat:41.3851,lon:2.1734,ecosystemTier:"tier3",totalFunding2024:21e8,activeStartups:1600,unicorns:6,topSectors:["Gaming","Fintech","Traveltech","Healthtech"],majorVCs:["Nauta Capital","Seaya Ventures","Samaipata"],notableStartups:["Glovo","Typeform","Factorial","Wallapop"],avgSeedRound:9e5,avgSeriesA:4e6},{id:"helsinki",name:"Helsinki",city:"Helsinki",country:"Finland",lat:60.1699,lon:24.9384,ecosystemTier:"tier3",totalFunding2024:24e8,activeStartups:1200,unicorns:8,topSectors:["Gaming","Cleantech","SaaS","Deeptech"],majorVCs:["Lifeline Ventures","Maki.vc","Inventure"],notableStartups:["Supercell","Wolt","Aiven","Relex"],avgSeedRound:11e5,avgSeriesA:45e5},{id:"munich",name:"Munich",city:"Munich",country:"Germany",lat:48.1351,lon:11.582,ecosystemTier:"tier3",totalFunding2024:38e8,activeStartups:2e3,unicorns:10,topSectors:["Mobility","Enterprise AI","Deeptech","Industrialtech"],majorVCs:["UVC Partners","TengelMann Ventures","Cherry Ventures"],notableStartups:["Celonis","Personio","Lilium","FlixBus"],avgSeedRound:12e5,avgSeriesA:55e5},{id:"jakarta",name:"Jakarta",city:"Jakarta",country:"Indonesia",lat:-6.2088,lon:106.8456,ecosystemTier:"tier2",totalFunding2024:36e8,activeStartups:2500,unicorns:8,topSectors:["E-commerce","Fintech","Logistics","Edtech"],majorVCs:["East Ventures","Alpha JWC Ventures","Sequoia India/SEA"],notableStartups:["GoTo","Bukalapak","Traveloka","Xendit"],avgSeedRound:7e5,avgSeriesA:35e5},{id:"lagos",name:"Lagos",city:"Lagos",country:"Nigeria",lat:6.5244,lon:3.3792,ecosystemTier:"tier3",totalFunding2024:18e8,activeStartups:1100,unicorns:5,topSectors:["Fintech","Agtech","Logistics","Healthtech"],majorVCs:["TLcom Capital","Partech Africa","54 Collective"],notableStartups:["Flutterwave","OPay","Andela","Paystack"],avgSeedRound:6e5,avgSeriesA:25e5},{id:"nairobi",name:"Nairobi",city:"Nairobi",country:"Kenya",lat:-1.2921,lon:36.8219,ecosystemTier:"tier3",totalFunding2024:12e8,activeStartups:800,unicorns:3,topSectors:["Fintech","Agtech","Cleantech","Logistics"],majorVCs:["Novastar Ventures","DOB Equity","Savannah Fund"],notableStartups:["M-KOPA","Twiga Foods","Africa's Talking","Branch"],avgSeedRound:5e5,avgSeriesA:2e6},{id:"mexico-city",name:"Mexico City",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,ecosystemTier:"tier2",totalFunding2024:29e8,activeStartups:1900,unicorns:7,topSectors:["Fintech","E-commerce","Logistics","Proptech"],majorVCs:["ALLVP","Kaszek Ventures","QED Investors"],notableStartups:["Kavak","Clip","Bitso","Konfio"],avgSeedRound:7e5,avgSeriesA:3e6},{id:"ho-chi-minh",name:"Ho Chi Minh City",city:"Ho Chi Minh City",country:"Vietnam",lat:10.8231,lon:106.6297,ecosystemTier:"tier3",totalFunding2024:11e8,activeStartups:900,unicorns:3,topSectors:["Fintech","E-commerce","Edtech","Gaming"],majorVCs:["VinaCapital Ventures","Do Ventures","500 Startups Vietnam"],notableStartups:["VNPay","Tiki","MoMo","Sky Mavis"],avgSeedRound:4e5,avgSeriesA:18e5}],w0=[{id:"sf-bay",name:"Silicon Valley",city:"San Francisco",country:"USA",lat:37.3861,lon:-122.0839,tier:"mega",unicorns:200},{id:"nyc",name:"New York Tech",city:"New York",country:"USA",lat:40.7128,lon:-74.006,tier:"mega",unicorns:100},{id:"london",name:"London Tech City",city:"London",country:"UK",lat:51.5074,lon:-.1278,tier:"mega",unicorns:45},{id:"beijing",name:"Zhongguancun",city:"Beijing",country:"China",lat:39.9042,lon:116.4074,tier:"mega",unicorns:80},{id:"shanghai",name:"Shanghai Tech",city:"Shanghai",country:"China",lat:31.2304,lon:121.4737,tier:"mega",unicorns:50},{id:"boston",name:"Boston/Cambridge",city:"Boston",country:"USA",lat:42.3601,lon:-71.0589,tier:"major",unicorns:30},{id:"seattle",name:"Seattle Tech",city:"Seattle",country:"USA",lat:47.6062,lon:-122.3321,tier:"major",unicorns:25},{id:"austin",name:"Austin Tech",city:"Austin",country:"USA",lat:30.2672,lon:-97.7431,tier:"major",unicorns:15},{id:"la",name:"Silicon Beach",city:"Los Angeles",country:"USA",lat:34.0522,lon:-118.2437,tier:"major",unicorns:20},{id:"berlin",name:"Berlin Startup",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,tier:"major",unicorns:15},{id:"paris",name:"Station F",city:"Paris",country:"France",lat:48.8566,lon:2.3522,tier:"major",unicorns:25},{id:"telaviv",name:"Startup Nation",city:"Tel Aviv",country:"Israel",lat:32.0853,lon:34.7818,tier:"major",unicorns:40},{id:"singapore",name:"Singapore Tech",city:"Singapore",country:"Singapore",lat:1.3521,lon:103.8198,tier:"major",unicorns:15},{id:"bangalore",name:"Bangalore Tech",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,tier:"major",unicorns:35},{id:"tokyo",name:"Tokyo Tech",city:"Tokyo",country:"Japan",lat:35.6762,lon:139.6503,tier:"major",unicorns:10},{id:"toronto",name:"Toronto-Waterloo",city:"Toronto",country:"Canada",lat:43.6532,lon:-79.3832,tier:"major",unicorns:15},{id:"shenzhen",name:"Shenzhen Tech",city:"Shenzhen",country:"China",lat:22.5431,lon:114.0579,tier:"major",unicorns:25},{id:"miami",name:"Miami Tech",city:"Miami",country:"USA",lat:25.7617,lon:-80.1918,tier:"emerging"},{id:"denver",name:"Denver Tech",city:"Denver",country:"USA",lat:39.7392,lon:-104.9903,tier:"emerging"},{id:"amsterdam",name:"Amsterdam Startup",city:"Amsterdam",country:"Netherlands",lat:52.3676,lon:4.9041,tier:"emerging"},{id:"stockholm",name:"Stockholm Tech",city:"Stockholm",country:"Sweden",lat:59.3293,lon:18.0686,tier:"emerging"},{id:"dublin",name:"Dublin Tech",city:"Dublin",country:"Ireland",lat:53.3498,lon:-6.2603,tier:"emerging"},{id:"seoul",name:"Seoul Startup",city:"Seoul",country:"South Korea",lat:37.5665,lon:126.978,tier:"emerging"},{id:"sydney",name:"Sydney Tech",city:"Sydney",country:"Australia",lat:-33.8688,lon:151.2093,tier:"emerging"},{id:"saopaulo",name:"São Paulo Tech",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,tier:"emerging"},{id:"nairobi",name:"Silicon Savannah",city:"Nairobi",country:"Kenya",lat:-1.2921,lon:36.8219,tier:"emerging"},{id:"lagos",name:"Lagos Tech",city:"Lagos",country:"Nigeria",lat:6.5244,lon:3.3792,tier:"emerging"},{id:"dubai",name:"Dubai Internet City",city:"Dubai",country:"UAE",lat:25.0994,lon:55.1641,tier:"major",unicorns:5,description:"MENA's largest tech hub, home to regional HQs of global tech companies"},{id:"abudhabi",name:"Hub71",city:"Abu Dhabi",country:"UAE",lat:24.4539,lon:54.3773,tier:"emerging",description:"Abu Dhabi's global tech ecosystem backed by Mubadala"},{id:"riyadh",name:"Riyadh Tech",city:"Riyadh",country:"Saudi Arabia",lat:24.7136,lon:46.6753,tier:"emerging",unicorns:2,description:"Saudi Vision 2030 tech hub, rapidly growing fintech and AI ecosystem"},{id:"cairo",name:"Cairo Tech",city:"Cairo",country:"Egypt",lat:30.0444,lon:31.2357,tier:"emerging",description:"Egypt's startup capital with growing fintech scene"},{id:"amman",name:"Amman Tech",city:"Amman",country:"Jordan",lat:31.9454,lon:35.9284,tier:"emerging",description:"Jordan's tech hub, strong in gaming and edtech"}],b0=[{id:"yc",name:"Y Combinator",city:"San Francisco",country:"USA",lat:37.7749,lon:-122.4194,type:"accelerator",founded:2005,notable:["Airbnb","Stripe","Dropbox"]},{id:"500",name:"500 Global",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4094,type:"accelerator",founded:2010},{id:"nfx",name:"NFX Guild",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4294,type:"accelerator",notable:["Lyft","Trulia"]},{id:"a16z-css",name:"a16z crypto startup school",city:"Menlo Park",country:"USA",lat:37.453,lon:-122.1817,type:"accelerator"},{id:"plug-play",name:"Plug and Play",city:"Sunnyvale",country:"USA",lat:37.3688,lon:-122.0363,type:"accelerator",founded:2006,notable:["Dropbox","PayPal"]},{id:"alchemist",name:"Alchemist Accelerator",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4144,type:"accelerator",notable:["LaunchDarkly","Rigetti"]},{id:"indiebio",name:"IndieBio",city:"San Francisco",country:"USA",lat:37.7809,lon:-122.4044,type:"accelerator",notable:["Memphis Meats","Clara Foods"]},{id:"hax",name:"HAX",city:"San Francisco",country:"USA",lat:37.7789,lon:-122.3944,type:"accelerator",notable:["Makeblock","Mellow"]},{id:"boost-vc",name:"Boost VC",city:"San Mateo",country:"USA",lat:37.5585,lon:-122.2711,type:"accelerator",notable:["Coinbase","Etherscan"]},{id:"imagine-k12",name:"Imagine K12",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4094,type:"accelerator"},{id:"angelpad",name:"AngelPad",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4044,type:"accelerator",founded:2010,notable:["Postmates","Mopub"]},{id:"launch",name:"LAUNCH Accelerator",city:"San Francisco",country:"USA",lat:37.7799,lon:-122.4094,type:"accelerator"},{id:"sequoia-arc",name:"Sequoia Arc",city:"Menlo Park",country:"USA",lat:37.452,lon:-122.1787,type:"accelerator"},{id:"techstars-boulder",name:"Techstars Boulder",city:"Boulder",country:"USA",lat:40.015,lon:-105.2705,type:"accelerator",founded:2006},{id:"boomtown",name:"Boomtown",city:"Boulder",country:"USA",lat:40.0193,lon:-105.2765,type:"accelerator"},{id:"techstars-nyc",name:"Techstars NYC",city:"New York",country:"USA",lat:40.7128,lon:-74.006,type:"accelerator"},{id:"dreamit",name:"DreamIt Ventures",city:"New York",country:"USA",lat:40.7484,lon:-73.9857,type:"accelerator",founded:2008},{id:"era-nyc",name:"ERA NYC",city:"New York",country:"USA",lat:40.7426,lon:-73.9878,type:"accelerator"},{id:"newlab",name:"Newlab",city:"Brooklyn",country:"USA",lat:40.6914,lon:-73.9785,type:"incubator"},{id:"betaworks",name:"Betaworks",city:"New York",country:"USA",lat:40.7395,lon:-74.0018,type:"studio",notable:["Giphy","Bitly"]},{id:"fintech-innovation",name:"Fintech Innovation Lab",city:"New York",country:"USA",lat:40.758,lon:-73.9855,type:"accelerator"},{id:"techstars-boston",name:"Techstars Boston",city:"Boston",country:"USA",lat:42.3601,lon:-71.0589,type:"accelerator"},{id:"masschallenge",name:"MassChallenge",city:"Boston",country:"USA",lat:42.348,lon:-71.0466,type:"accelerator",founded:2009},{id:"harvard-ilab",name:"Harvard i-lab",city:"Boston",country:"USA",lat:42.3639,lon:-71.1244,type:"incubator"},{id:"greentown",name:"Greentown Labs",city:"Somerville",country:"USA",lat:42.3876,lon:-71.0995,type:"incubator"},{id:"techstars-la",name:"Techstars LA",city:"Los Angeles",country:"USA",lat:34.0195,lon:-118.4912,type:"accelerator"},{id:"amplify",name:"Amplify LA",city:"Los Angeles",country:"USA",lat:34.0407,lon:-118.2468,type:"accelerator"},{id:"launchpad-la",name:"Launchpad LA",city:"Los Angeles",country:"USA",lat:34.0159,lon:-118.4961,type:"accelerator"},{id:"science-inc",name:"Science Inc",city:"Santa Monica",country:"USA",lat:34.0195,lon:-118.4912,type:"studio",notable:["Dollar Shave Club"]},{id:"techstars-austin",name:"Techstars Austin",city:"Austin",country:"USA",lat:30.2672,lon:-97.7431,type:"accelerator"},{id:"capital-factory",name:"Capital Factory",city:"Austin",country:"USA",lat:30.2686,lon:-97.7435,type:"accelerator",founded:2009},{id:"techstars-san-antonio",name:"Techstars San Antonio",city:"San Antonio",country:"USA",lat:29.4241,lon:-98.4936,type:"accelerator"},{id:"techstars-seattle",name:"Techstars Seattle",city:"Seattle",country:"USA",lat:47.6062,lon:-122.3321,type:"accelerator"},{id:"techstars-chicago",name:"Techstars Chicago",city:"Chicago",country:"USA",lat:41.8781,lon:-87.6298,type:"accelerator"},{id:"techstars-detroit",name:"Techstars Detroit",city:"Detroit",country:"USA",lat:42.3314,lon:-83.0458,type:"accelerator"},{id:"gener8tor",name:"gener8tor",city:"Milwaukee",country:"USA",lat:43.0389,lon:-87.9065,type:"accelerator"},{id:"google-startups",name:"Google for Startups",city:"Mountain View",country:"USA",lat:37.422,lon:-122.0841,type:"accelerator"},{id:"microsoft-accelerator",name:"Microsoft Accelerator",city:"Redmond",country:"USA",lat:47.674,lon:-122.1215,type:"accelerator"},{id:"nvidia-inception",name:"NVIDIA Inception",city:"Santa Clara",country:"USA",lat:37.3708,lon:-121.9675,type:"accelerator"},{id:"aws-activate",name:"AWS Activate",city:"Seattle",country:"USA",lat:47.6205,lon:-122.3493,type:"accelerator"},{id:"cisco-launchpad",name:"Cisco Launchpad",city:"San Jose",country:"USA",lat:37.4089,lon:-121.9533,type:"accelerator"},{id:"seedcamp",name:"Seedcamp",city:"London",country:"UK",lat:51.5074,lon:-.1278,type:"accelerator",founded:2007,notable:["TransferWise","Revolut"]},{id:"ef-london",name:"Entrepreneur First",city:"London",country:"UK",lat:51.5174,lon:-.0878,type:"accelerator",founded:2011},{id:"techstars-london",name:"Techstars London",city:"London",country:"UK",lat:51.5214,lon:-.0724,type:"accelerator"},{id:"founders-factory",name:"Founders Factory",city:"London",country:"UK",lat:51.5154,lon:-.141,type:"studio",founded:2015},{id:"wayra-uk",name:"Wayra UK",city:"London",country:"UK",lat:51.5034,lon:-.0196,type:"accelerator"},{id:"bethnal-green",name:"Bethnal Green Ventures",city:"London",country:"UK",lat:51.5268,lon:-.0556,type:"accelerator"},{id:"codebase",name:"CodeBase",city:"Edinburgh",country:"UK",lat:55.9533,lon:-3.1883,type:"incubator"},{id:"stationf",name:"Station F",city:"Paris",country:"France",lat:48.8341,lon:2.3699,type:"incubator",founded:2017},{id:"thefamily",name:"The Family",city:"Paris",country:"France",lat:48.8644,lon:2.3749,type:"accelerator"},{id:"techstars-paris",name:"Techstars Paris",city:"Paris",country:"France",lat:48.8566,lon:2.3522,type:"accelerator"},{id:"numa",name:"NUMA",city:"Paris",country:"France",lat:48.8651,lon:2.349,type:"accelerator"},{id:"techstars-berlin",name:"Techstars Berlin",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,type:"accelerator"},{id:"rocket-internet",name:"Rocket Internet",city:"Berlin",country:"Germany",lat:52.5067,lon:13.3244,type:"studio",notable:["Zalando","Delivery Hero"]},{id:"axel-springer",name:"Axel Springer Plug & Play",city:"Berlin",country:"Germany",lat:52.5097,lon:13.3879,type:"accelerator"},{id:"hub-berlin",name:"hub:raum",city:"Berlin",country:"Germany",lat:52.5255,lon:13.3695,type:"accelerator"},{id:"startupbootcamp-berlin",name:"Startupbootcamp Berlin",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,type:"accelerator"},{id:"startupbootcamp",name:"Startupbootcamp",city:"Amsterdam",country:"Netherlands",lat:52.3702,lon:4.8952,type:"accelerator",founded:2010},{id:"rockstart",name:"Rockstart",city:"Amsterdam",country:"Netherlands",lat:52.3676,lon:4.9041,type:"accelerator"},{id:"ef-stockholm",name:"Entrepreneur First Stockholm",city:"Stockholm",country:"Sweden",lat:59.3293,lon:18.0686,type:"accelerator"},{id:"startup-wiseguys",name:"Startup Wise Guys",city:"Tallinn",country:"Estonia",lat:59.437,lon:24.7536,type:"accelerator",founded:2012},{id:"antler-stockholm",name:"Antler Stockholm",city:"Stockholm",country:"Sweden",lat:59.3346,lon:18.0717,type:"accelerator"},{id:"nordic-makers",name:"Nordic Makers",city:"Copenhagen",country:"Denmark",lat:55.6761,lon:12.5683,type:"accelerator"},{id:"slush",name:"Slush",city:"Helsinki",country:"Finland",lat:60.1699,lon:24.9384,type:"accelerator"},{id:"wayra-spain",name:"Wayra Spain",city:"Madrid",country:"Spain",lat:40.4168,lon:-3.7038,type:"accelerator"},{id:"lanzadera",name:"Lanzadera",city:"Valencia",country:"Spain",lat:39.4699,lon:-.3763,type:"accelerator",notable:["Flywire"]},{id:"seedrs",name:"Seedrs",city:"Barcelona",country:"Spain",lat:41.3851,lon:2.1734,type:"accelerator"},{id:"venture-kick",name:"Venture Kick",city:"Zurich",country:"Switzerland",lat:47.3769,lon:8.5417,type:"accelerator"},{id:"f10",name:"F10 Fintech",city:"Zurich",country:"Switzerland",lat:47.3686,lon:8.5391,type:"accelerator"},{id:"antler-sg",name:"Antler",city:"Singapore",country:"Singapore",lat:1.2833,lon:103.8333,type:"accelerator",founded:2017},{id:"ef-singapore",name:"Entrepreneur First Singapore",city:"Singapore",country:"Singapore",lat:1.2966,lon:103.8536,type:"accelerator"},{id:"jungle-ventures",name:"Jungle Ventures",city:"Singapore",country:"Singapore",lat:1.2789,lon:103.8496,type:"accelerator"},{id:"iterative",name:"Iterative",city:"Singapore",country:"Singapore",lat:1.3048,lon:103.8318,type:"accelerator"},{id:"sparklabs-sg",name:"SparkLabs Singapore",city:"Singapore",country:"Singapore",lat:1.2966,lon:103.85,type:"accelerator"},{id:"techstars-bangalore",name:"Techstars Bangalore",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"accelerator"},{id:"t-hub",name:"T-Hub",city:"Hyderabad",country:"India",lat:17.4486,lon:78.3908,type:"incubator",founded:2015},{id:"nasscom",name:"NASSCOM 10000 Startups",city:"Bangalore",country:"India",lat:12.9352,lon:77.6245,type:"accelerator"},{id:"zone-startups",name:"Zone Startups",city:"Mumbai",country:"India",lat:19.0748,lon:72.8856,type:"accelerator"},{id:"axilor",name:"Axilor Ventures",city:"Bangalore",country:"India",lat:12.9279,lon:77.6271,type:"accelerator"},{id:"chinaccelerator",name:"Chinaccelerator",city:"Shanghai",country:"China",lat:31.2304,lon:121.4737,type:"accelerator"},{id:"hax-shenzhen",name:"HAX Shenzhen",city:"Shenzhen",country:"China",lat:22.5431,lon:114.0579,type:"accelerator"},{id:"sinovation",name:"Sinovation Ventures",city:"Beijing",country:"China",lat:39.9042,lon:116.4074,type:"accelerator"},{id:"sosv-china",name:"SOSV Chinaccelerator",city:"Shanghai",country:"China",lat:31.2243,lon:121.469,type:"accelerator"},{id:"techstars-tokyo",name:"Techstars Tokyo",city:"Tokyo",country:"Japan",lat:35.6762,lon:139.6503,type:"accelerator"},{id:"open-network-lab",name:"Open Network Lab",city:"Tokyo",country:"Japan",lat:35.6591,lon:139.7007,type:"accelerator"},{id:"sparklabs-korea",name:"SparkLabs Korea",city:"Seoul",country:"South Korea",lat:37.5665,lon:126.978,type:"accelerator"},{id:"primer",name:"Primer",city:"Seoul",country:"South Korea",lat:37.498,lon:127.0276,type:"accelerator"},{id:"flat6labs",name:"Flat6Labs",city:"Cairo",country:"Egypt",lat:30.0444,lon:31.2357,type:"accelerator",founded:2011},{id:"flat6labs-uae",name:"Flat6Labs Abu Dhabi",city:"Abu Dhabi",country:"UAE",lat:24.4539,lon:54.3773,type:"accelerator"},{id:"hub71",name:"Hub71",city:"Abu Dhabi",country:"UAE",lat:24.4669,lon:54.3659,type:"accelerator"},{id:"dtec",name:"DTEC",city:"Dubai",country:"UAE",lat:25.0755,lon:55.1713,type:"incubator"},{id:"in5",name:"in5",city:"Dubai",country:"UAE",lat:25.1003,lon:55.172,type:"incubator"},{id:"misk",name:"Misk Accelerator",city:"Riyadh",country:"Saudi Arabia",lat:24.7136,lon:46.6753,type:"accelerator"},{id:"impact46",name:"Impact46",city:"Riyadh",country:"Saudi Arabia",lat:24.6877,lon:46.685,type:"accelerator"},{id:"oasis500",name:"Oasis500",city:"Amman",country:"Jordan",lat:31.9454,lon:35.9284,type:"accelerator"},{id:"wamda",name:"Wamda",city:"Dubai",country:"UAE",lat:25.0994,lon:55.1641,type:"accelerator"},{id:"startmate",name:"Startmate",city:"Sydney",country:"Australia",lat:-33.8688,lon:151.2093,type:"accelerator",founded:2010},{id:"blackbird",name:"Blackbird Ventures",city:"Sydney",country:"Australia",lat:-33.8651,lon:151.2099,type:"accelerator"},{id:"airtree",name:"AirTree Ventures",city:"Sydney",country:"Australia",lat:-33.867,lon:151.2051,type:"accelerator"},{id:"antler-sydney",name:"Antler Sydney",city:"Sydney",country:"Australia",lat:-33.8623,lon:151.2108,type:"accelerator"},{id:"lightning-lab",name:"Lightning Lab",city:"Auckland",country:"New Zealand",lat:-36.8509,lon:174.7645,type:"accelerator"},{id:"icehouse",name:"The Icehouse",city:"Auckland",country:"New Zealand",lat:-36.8485,lon:174.7633,type:"accelerator"},{id:"startup-chile",name:"Startup Chile",city:"Santiago",country:"Chile",lat:-33.4489,lon:-70.6693,type:"accelerator",founded:2010},{id:"wayra-latam",name:"Wayra Hispam",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"accelerator"},{id:"500-latam",name:"500 Startups LATAM",city:"Mexico City",country:"Mexico",lat:19.4285,lon:-99.1332,type:"accelerator"},{id:"cubo",name:"Cubo Itaú",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"incubator"},{id:"ace-startups",name:"ACE Startups",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"accelerator"},{id:"yc-africa",name:"Y Combinator Africa",city:"Lagos",country:"Nigeria",lat:6.5244,lon:3.3792,type:"accelerator"},{id:"vc4a",name:"VC4A",city:"Lagos",country:"Nigeria",lat:6.4698,lon:3.3872,type:"accelerator"},{id:"ihub",name:"iHub",city:"Nairobi",country:"Kenya",lat:-1.2921,lon:36.8219,type:"incubator",founded:2010},{id:"ccHub",name:"CcHUB",city:"Lagos",country:"Nigeria",lat:6.43,lon:3.42,type:"incubator"},{id:"meltwater",name:"Meltwater Entrepreneurial School",city:"Accra",country:"Ghana",lat:5.6037,lon:-.187,type:"accelerator"}],A0=[{id:"apple",company:"Apple",city:"Cupertino",country:"USA",lat:37.3349,lon:-122.009,type:"faang",marketCap:"$3T"},{id:"google",company:"Google",city:"Mountain View",country:"USA",lat:37.422,lon:-122.0841,type:"faang",marketCap:"$2T"},{id:"amazon",company:"Amazon",city:"Seattle",country:"USA",lat:47.6205,lon:-122.3493,type:"faang",marketCap:"$1.8T"},{id:"meta",company:"Meta",city:"Menlo Park",country:"USA",lat:37.453,lon:-122.1817,type:"faang",marketCap:"$1.2T"},{id:"microsoft",company:"Microsoft",city:"Redmond",country:"USA",lat:47.674,lon:-122.1215,type:"faang",marketCap:"$3T"},{id:"nvidia",company:"NVIDIA",city:"Santa Clara",country:"USA",lat:37.3708,lon:-121.9675,type:"faang",marketCap:"$1.5T"},{id:"netflix",company:"Netflix",city:"Los Gatos",country:"USA",lat:37.2358,lon:-121.9624,type:"faang"},{id:"openai",company:"OpenAI",city:"San Francisco",country:"USA",lat:37.7749,lon:-122.4194,type:"unicorn"},{id:"anthropic",company:"Anthropic",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.4094,type:"unicorn"},{id:"databricks",company:"Databricks",city:"San Francisco",country:"USA",lat:37.7749,lon:-122.4294,type:"unicorn"},{id:"scale-ai",company:"Scale AI",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.3994,type:"unicorn"},{id:"cohere",company:"Cohere",city:"San Francisco",country:"USA",lat:37.7899,lon:-122.4094,type:"unicorn"},{id:"salesforce",company:"Salesforce",city:"San Francisco",country:"USA",lat:37.7897,lon:-122.3972,type:"public"},{id:"oracle",company:"Oracle",city:"Austin",country:"USA",lat:30.2672,lon:-97.7431,type:"public"},{id:"ibm",company:"IBM",city:"Armonk",country:"USA",lat:41.1118,lon:-73.7204,type:"public"},{id:"vmware",company:"VMware",city:"Palo Alto",country:"USA",lat:37.3957,lon:-122.1408,type:"public"},{id:"servicenow",company:"ServiceNow",city:"Santa Clara",country:"USA",lat:37.3861,lon:-121.9543,type:"public"},{id:"workday",company:"Workday",city:"Pleasanton",country:"USA",lat:37.6624,lon:-121.8747,type:"public"},{id:"snowflake",company:"Snowflake",city:"Bozeman",country:"USA",lat:45.677,lon:-111.0429,type:"public"},{id:"splunk",company:"Splunk",city:"San Francisco",country:"USA",lat:37.7897,lon:-122.4,type:"public"},{id:"cloudflare",company:"Cloudflare",city:"San Francisco",country:"USA",lat:37.7849,lon:-122.3894,type:"public"},{id:"intel",company:"Intel",city:"Santa Clara",country:"USA",lat:37.3875,lon:-121.9636,type:"public"},{id:"amd",company:"AMD",city:"Santa Clara",country:"USA",lat:37.3803,lon:-121.961,type:"public"},{id:"qualcomm",company:"Qualcomm",city:"San Diego",country:"USA",lat:32.8998,lon:-117.2016,type:"public"},{id:"broadcom",company:"Broadcom",city:"San Jose",country:"USA",lat:37.3874,lon:-121.9637,type:"public"},{id:"micron",company:"Micron",city:"Boise",country:"USA",lat:43.615,lon:-116.2023,type:"public"},{id:"adobe",company:"Adobe",city:"San Jose",country:"USA",lat:37.3309,lon:-121.893,type:"public"},{id:"cisco",company:"Cisco",city:"San Jose",country:"USA",lat:37.4089,lon:-121.9533,type:"public"},{id:"zoom",company:"Zoom",city:"San Jose",country:"USA",lat:37.3748,lon:-121.9648,type:"public"},{id:"slack",company:"Slack",city:"San Francisco",country:"USA",lat:37.7836,lon:-122.3896,type:"public"},{id:"palantir",company:"Palantir",city:"Denver",country:"USA",lat:39.7392,lon:-104.9903,type:"public"},{id:"crowdstrike",company:"CrowdStrike",city:"Austin",country:"USA",lat:30.2672,lon:-97.7431,type:"public"},{id:"palo-alto",company:"Palo Alto Networks",city:"Santa Clara",country:"USA",lat:37.393,lon:-121.9856,type:"public"},{id:"fortinet",company:"Fortinet",city:"Sunnyvale",country:"USA",lat:37.3921,lon:-122.0371,type:"public"},{id:"okta",company:"Okta",city:"San Francisco",country:"USA",lat:37.7897,lon:-122.3952,type:"public"},{id:"mongodb",company:"MongoDB",city:"New York",country:"USA",lat:40.752,lon:-73.9932,type:"public"},{id:"elastic",company:"Elastic",city:"Mountain View",country:"USA",lat:37.403,lon:-122.1152,type:"public"},{id:"datadog",company:"Datadog",city:"New York",country:"USA",lat:40.7363,lon:-73.9919,type:"public"},{id:"paypal",company:"PayPal",city:"San Jose",country:"USA",lat:37.376,lon:-121.9217,type:"public"},{id:"square",company:"Block (Square)",city:"San Francisco",country:"USA",lat:37.7697,lon:-122.4294,type:"public"},{id:"stripe",company:"Stripe",city:"San Francisco",country:"USA",lat:37.7902,lon:-122.4069,type:"unicorn"},{id:"plaid",company:"Plaid",city:"San Francisco",country:"USA",lat:37.7851,lon:-122.4014,type:"unicorn"},{id:"coinbase",company:"Coinbase",city:"San Francisco",country:"USA",lat:37.7792,lon:-122.4191,type:"public"},{id:"robinhood",company:"Robinhood",city:"Menlo Park",country:"USA",lat:37.4516,lon:-122.1797,type:"public"},{id:"airbnb",company:"Airbnb",city:"San Francisco",country:"USA",lat:37.7717,lon:-122.4063,type:"public"},{id:"uber",company:"Uber",city:"San Francisco",country:"USA",lat:37.7749,lon:-122.4148,type:"public"},{id:"lyft",company:"Lyft",city:"San Francisco",country:"USA",lat:37.7699,lon:-122.4116,type:"public"},{id:"doordash",company:"DoorDash",city:"San Francisco",country:"USA",lat:37.7847,lon:-122.4041,type:"public"},{id:"instacart",company:"Instacart",city:"San Francisco",country:"USA",lat:37.7834,lon:-122.4004,type:"public"},{id:"twitter",company:"X (Twitter)",city:"San Francisco",country:"USA",lat:37.7769,lon:-122.4158,type:"public"},{id:"pinterest",company:"Pinterest",city:"San Francisco",country:"USA",lat:37.7689,lon:-122.4126,type:"public"},{id:"snap",company:"Snap",city:"Santa Monica",country:"USA",lat:34.0195,lon:-118.4912,type:"public"},{id:"discord",company:"Discord",city:"San Francisco",country:"USA",lat:37.7809,lon:-122.3914,type:"unicorn"},{id:"reddit",company:"Reddit",city:"San Francisco",country:"USA",lat:37.7801,lon:-122.4037,type:"public"},{id:"linkedin",company:"LinkedIn",city:"Sunnyvale",country:"USA",lat:37.4257,lon:-122.0712,type:"public"},{id:"ebay",company:"eBay",city:"San Jose",country:"USA",lat:37.3653,lon:-121.9289,type:"public"},{id:"hp",company:"HP Inc",city:"Palo Alto",country:"USA",lat:37.4129,lon:-122.1476,type:"public"},{id:"dell",company:"Dell",city:"Round Rock",country:"USA",lat:30.5083,lon:-97.6789,type:"public"},{id:"tesla",company:"Tesla",city:"Austin",country:"USA",lat:30.2231,lon:-97.6228,type:"public",marketCap:"$800B"},{id:"spacex",company:"SpaceX",city:"Hawthorne",country:"USA",lat:33.9207,lon:-118.328,type:"unicorn"},{id:"rivian",company:"Rivian",city:"Irvine",country:"USA",lat:33.6846,lon:-117.8265,type:"public"},{id:"lucid",company:"Lucid Motors",city:"Newark",country:"USA",lat:37.5174,lon:-122.0479,type:"public"},{id:"arm",company:"ARM",city:"Cambridge",country:"UK",lat:52.2053,lon:.1218,type:"public",marketCap:"$120B"},{id:"revolut",company:"Revolut",city:"London",country:"UK",lat:51.5154,lon:-.141,type:"unicorn"},{id:"wise",company:"Wise",city:"London",country:"UK",lat:51.5174,lon:-.087,type:"public"},{id:"deliveroo",company:"Deliveroo",city:"London",country:"UK",lat:51.5194,lon:-.1302,type:"public"},{id:"deepmind",company:"DeepMind",city:"London",country:"UK",lat:51.5334,lon:-.1254,type:"unicorn"},{id:"darktrace",company:"Darktrace",city:"Cambridge",country:"UK",lat:52.2044,lon:.118,type:"public"},{id:"monzo",company:"Monzo",city:"London",country:"UK",lat:51.5186,lon:-.0844,type:"unicorn"},{id:"checkout",company:"Checkout.com",city:"London",country:"UK",lat:51.5118,lon:-.0825,type:"unicorn"},{id:"sap",company:"SAP",city:"Walldorf",country:"Germany",lat:49.3064,lon:8.6498,type:"public",marketCap:"$200B"},{id:"n26",company:"N26",city:"Berlin",country:"Germany",lat:52.52,lon:13.405,type:"unicorn"},{id:"zalando",company:"Zalando",city:"Berlin",country:"Germany",lat:52.5067,lon:13.3244,type:"public"},{id:"delivery-hero",company:"Delivery Hero",city:"Berlin",country:"Germany",lat:52.5038,lon:13.4432,type:"public"},{id:"celonis",company:"Celonis",city:"Munich",country:"Germany",lat:48.1351,lon:11.582,type:"unicorn"},{id:"personio",company:"Personio",city:"Munich",country:"Germany",lat:48.1372,lon:11.5754,type:"unicorn"},{id:"asml",company:"ASML",city:"Veldhoven",country:"Netherlands",lat:51.42,lon:5.4,type:"public",marketCap:"$300B"},{id:"adyen",company:"Adyen",city:"Amsterdam",country:"Netherlands",lat:52.3547,lon:4.8945,type:"public"},{id:"booking",company:"Booking.com",city:"Amsterdam",country:"Netherlands",lat:52.3592,lon:4.9038,type:"public"},{id:"messagebird",company:"MessageBird",city:"Amsterdam",country:"Netherlands",lat:52.3653,lon:4.8929,type:"unicorn"},{id:"mollie",company:"Mollie",city:"Amsterdam",country:"Netherlands",lat:52.3508,lon:4.9039,type:"unicorn"},{id:"spotify",company:"Spotify",city:"Stockholm",country:"Sweden",lat:59.3293,lon:18.0686,type:"public"},{id:"klarna",company:"Klarna",city:"Stockholm",country:"Sweden",lat:59.3366,lon:18.0717,type:"unicorn"},{id:"king",company:"King",city:"Stockholm",country:"Sweden",lat:59.3342,lon:18.0544,type:"public"},{id:"northvolt",company:"Northvolt",city:"Stockholm",country:"Sweden",lat:59.334,lon:18.0499,type:"unicorn"},{id:"dassault",company:"Dassault Systèmes",city:"Vélizy",country:"France",lat:48.7845,lon:2.1896,type:"public"},{id:"criteo",company:"Criteo",city:"Paris",country:"France",lat:48.8688,lon:2.349,type:"public"},{id:"ubisoft",company:"Ubisoft",city:"Montreuil",country:"France",lat:48.8622,lon:2.4432,type:"public"},{id:"blablacar",company:"BlaBlaCar",city:"Paris",country:"France",lat:48.8703,lon:2.354,type:"unicorn"},{id:"doctolib",company:"Doctolib",city:"Paris",country:"France",lat:48.8764,lon:2.3576,type:"unicorn"},{id:"mistral",company:"Mistral AI",city:"Paris",country:"France",lat:48.8716,lon:2.3427,type:"unicorn"},{id:"stripe-eu",company:"Stripe EU",city:"Dublin",country:"Ireland",lat:53.3382,lon:-6.2591,type:"unicorn"},{id:"intercom",company:"Intercom",city:"Dublin",country:"Ireland",lat:53.3433,lon:-6.2605,type:"unicorn"},{id:"nokia",company:"Nokia",city:"Espoo",country:"Finland",lat:60.1756,lon:24.8272,type:"public"},{id:"supercell",company:"Supercell",city:"Helsinki",country:"Finland",lat:60.1699,lon:24.9384,type:"unicorn"},{id:"wolt",company:"Wolt",city:"Helsinki",country:"Finland",lat:60.165,lon:24.955,type:"unicorn"},{id:"bolt",company:"Bolt",city:"Tallinn",country:"Estonia",lat:59.437,lon:24.7536,type:"unicorn"},{id:"wise-ee",company:"Wise HQ",city:"Tallinn",country:"Estonia",lat:59.4388,lon:24.7545,type:"public"},{id:"google-zurich",company:"Google Zurich",city:"Zurich",country:"Switzerland",lat:47.3667,lon:8.5247,type:"faang"},{id:"careem",company:"Careem",city:"Dubai",country:"UAE",lat:25.0771,lon:55.1396,type:"unicorn",marketCap:"$3.1B"},{id:"noon",company:"Noon",city:"Dubai",country:"UAE",lat:25.112,lon:55.138,type:"unicorn"},{id:"talabat",company:"Talabat",city:"Dubai",country:"UAE",lat:25.0972,lon:55.1611,type:"unicorn"},{id:"g42",company:"G42",city:"Abu Dhabi",country:"UAE",lat:24.4669,lon:54.3659,type:"unicorn"},{id:"presight",company:"Presight.ai",city:"Abu Dhabi",country:"UAE",lat:24.4539,lon:54.3773,type:"unicorn",marketCap:"$4.8B"},{id:"dubizzle",company:"Dubizzle Group",city:"Dubai",country:"UAE",lat:25.1152,lon:55.1375,type:"unicorn",marketCap:"$1B"},{id:"kitopi",company:"Kitopi",city:"Dubai",country:"UAE",lat:25.0773,lon:55.1409,type:"unicorn",marketCap:"$1.6B"},{id:"property-finder",company:"Property Finder",city:"Dubai",country:"UAE",lat:25.085,lon:55.15,type:"unicorn",marketCap:"$2B"},{id:"xpanceo",company:"XPANCEO",city:"Dubai",country:"UAE",lat:25.09,lon:55.155,type:"unicorn",marketCap:"$1.4B"},{id:"alef-edu",company:"Alef Education",city:"Abu Dhabi",country:"UAE",lat:24.47,lon:54.36,type:"unicorn",marketCap:"$1.9B"},{id:"swvl",company:"Swvl",city:"Dubai",country:"UAE",lat:25.0657,lon:55.1713,type:"public"},{id:"aramex",company:"Aramex",city:"Dubai",country:"UAE",lat:25.0717,lon:55.1335,type:"public"},{id:"etisalat",company:"e&",city:"Abu Dhabi",country:"UAE",lat:24.4872,lon:54.3563,type:"public"},{id:"anghami",company:"Anghami",city:"Abu Dhabi",country:"UAE",lat:24.46,lon:54.37,type:"public"},{id:"mashreq",company:"Mashreq Neo",city:"Dubai",country:"UAE",lat:25.2614,lon:55.2977,type:"public"},{id:"tabby",company:"Tabby",city:"Riyadh",country:"Saudi Arabia",lat:24.72,lon:46.69,type:"unicorn",marketCap:"$3.3B"},{id:"tamara",company:"Tamara",city:"Riyadh",country:"Saudi Arabia",lat:24.7136,lon:46.6753,type:"unicorn",marketCap:"$1B"},{id:"ninja",company:"Ninja",city:"Riyadh",country:"Saudi Arabia",lat:24.725,lon:46.7,type:"unicorn",marketCap:"$1.5B"},{id:"stc",company:"STC",city:"Riyadh",country:"Saudi Arabia",lat:24.6877,lon:46.685,type:"public"},{id:"stc-pay",company:"stc pay",city:"Riyadh",country:"Saudi Arabia",lat:24.7001,lon:46.6753,type:"unicorn",marketCap:"$1.3B"},{id:"jahez",company:"Jahez",city:"Riyadh",country:"Saudi Arabia",lat:24.707,lon:46.689,type:"public"},{id:"leejam",company:"Leejam Sports",city:"Riyadh",country:"Saudi Arabia",lat:24.7003,lon:46.6859,type:"public"},{id:"halan",company:"MNT-Halan",city:"Cairo",country:"Egypt",lat:30.0444,lon:31.2357,type:"unicorn",marketCap:"$1B"},{id:"fawry",company:"Fawry",city:"Cairo",country:"Egypt",lat:30.05,lon:31.2333,type:"public"},{id:"zain",company:"Zain",city:"Kuwait City",country:"Kuwait",lat:29.3759,lon:47.9774,type:"public"},{id:"tencent",company:"Tencent",city:"Shenzhen",country:"China",lat:22.5333,lon:114.1333,type:"public",marketCap:"$400B"},{id:"alibaba",company:"Alibaba",city:"Hangzhou",country:"China",lat:30.2741,lon:120.1551,type:"public",marketCap:"$200B"},{id:"bytedance",company:"ByteDance",city:"Beijing",country:"China",lat:39.9876,lon:116.4841,type:"unicorn"},{id:"baidu",company:"Baidu",city:"Beijing",country:"China",lat:40.0564,lon:116.3053,type:"public"},{id:"jd",company:"JD.com",city:"Beijing",country:"China",lat:39.9792,lon:116.4929,type:"public"},{id:"xiaomi",company:"Xiaomi",city:"Beijing",country:"China",lat:40.001,lon:116.3062,type:"public"},{id:"huawei",company:"Huawei",city:"Shenzhen",country:"China",lat:22.724,lon:114.1181,type:"public"},{id:"dji",company:"DJI",city:"Shenzhen",country:"China",lat:22.5388,lon:113.9461,type:"unicorn"},{id:"meituan",company:"Meituan",city:"Beijing",country:"China",lat:39.9564,lon:116.4274,type:"public"},{id:"pinduoduo",company:"PDD Holdings",city:"Shanghai",country:"China",lat:31.2304,lon:121.4737,type:"public",marketCap:"$180B"},{id:"netease",company:"NetEase",city:"Hangzhou",country:"China",lat:30.29,lon:120.1616,type:"public"},{id:"bilibili",company:"Bilibili",city:"Shanghai",country:"China",lat:31.24,lon:121.485,type:"public"},{id:"nio",company:"NIO",city:"Shanghai",country:"China",lat:31.2231,lon:121.4697,type:"public"},{id:"xpeng",company:"XPeng",city:"Guangzhou",country:"China",lat:23.1291,lon:113.2644,type:"public"},{id:"byd",company:"BYD",city:"Shenzhen",country:"China",lat:22.6506,lon:114.0572,type:"public"},{id:"didi",company:"DiDi",city:"Beijing",country:"China",lat:39.9847,lon:116.3074,type:"public"},{id:"sensetime",company:"SenseTime",city:"Hong Kong",country:"China",lat:22.3193,lon:114.1694,type:"public"},{id:"kuaishou",company:"Kuaishou",city:"Beijing",country:"China",lat:40,lon:116.4167,type:"public"},{id:"ant-group",company:"Ant Group",city:"Hangzhou",country:"China",lat:30.2593,lon:120.2193,type:"unicorn"},{id:"midea",company:"Midea",city:"Foshan",country:"China",lat:23.0218,lon:113.1214,type:"public"},{id:"flipkart",company:"Flipkart",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"public",marketCap:"$37B"},{id:"swiggy",company:"Swiggy",city:"Bangalore",country:"India",lat:12.9279,lon:77.6271,type:"public"},{id:"byju",company:"BYJU'S",city:"Bangalore",country:"India",lat:12.9352,lon:77.6245,type:"unicorn"},{id:"razorpay",company:"Razorpay",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn",marketCap:"$7.5B"},{id:"phonepe",company:"PhonePe",city:"Bangalore",country:"India",lat:12.9641,lon:77.5967,type:"unicorn",marketCap:"$12B"},{id:"meesho",company:"Meesho",city:"Bangalore",country:"India",lat:12.9616,lon:77.6387,type:"unicorn"},{id:"cred",company:"CRED",city:"Bangalore",country:"India",lat:12.9716,lon:77.6412,type:"unicorn"},{id:"ather",company:"Ather Energy",city:"Bangalore",country:"India",lat:12.9352,lon:77.61,type:"unicorn"},{id:"zerodha",company:"Zerodha",city:"Bangalore",country:"India",lat:12.9784,lon:77.6408,type:"unicorn",marketCap:"$2B"},{id:"infosys",company:"Infosys",city:"Bangalore",country:"India",lat:12.8399,lon:77.677,type:"public"},{id:"wipro",company:"Wipro",city:"Bangalore",country:"India",lat:12.9259,lon:77.6229,type:"public"},{id:"urban-company",company:"Urban Company",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"unicorn"},{id:"quikr",company:"Quikr",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"netradyne",company:"Netradyne",city:"Bangalore",country:"India",lat:12.9783,lon:77.6408,type:"unicorn"},{id:"porter-in",company:"Porter",city:"Bangalore",country:"India",lat:12.9547,lon:77.6205,type:"unicorn"},{id:"perfios",company:"Perfios",city:"Bangalore",country:"India",lat:12.9294,lon:77.6869,type:"unicorn",marketCap:"$2.57B"},{id:"juspay",company:"Juspay",city:"Bangalore",country:"India",lat:12.9778,lon:77.5908,type:"unicorn"},{id:"krutrim",company:"Krutrim",city:"Bangalore",country:"India",lat:12.9698,lon:77.75,type:"unicorn"},{id:"zomato",company:"Zomato",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"public"},{id:"ola",company:"Ola",city:"Bangalore",country:"India",lat:12.9352,lon:77.6245,type:"unicorn"},{id:"paytm",company:"Paytm",city:"Noida",country:"India",lat:28.5355,lon:77.391,type:"public"},{id:"policybazaar",company:"PolicyBazaar",city:"Gurgaon",country:"India",lat:28.4231,lon:77.0453,type:"public"},{id:"nykaa",company:"Nykaa",city:"Mumbai",country:"India",lat:19.076,lon:72.8777,type:"public"},{id:"coindcx",company:"CoinDCX",city:"Mumbai",country:"India",lat:19.0748,lon:72.8856,type:"unicorn"},{id:"lenskart",company:"Lenskart",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"unicorn"},{id:"dream11",company:"Dream11",city:"Mumbai",country:"India",lat:19.076,lon:72.8777,type:"unicorn"},{id:"oyo",company:"OYO",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"unicorn"},{id:"freshworks",company:"Freshworks",city:"Chennai",country:"India",lat:13.0827,lon:80.2707,type:"public"},{id:"moneyview",company:"Money View",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"delhivery",company:"Delhivery",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"public"},{id:"groww",company:"Groww",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"cars24",company:"Cars24",city:"Gurgaon",country:"India",lat:28.4595,lon:77.0266,type:"unicorn"},{id:"vedantu",company:"Vedantu",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"unacademy",company:"Unacademy",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"slice",company:"Slice",city:"Bangalore",country:"India",lat:12.9352,lon:77.6245,type:"unicorn"},{id:"sharechat",company:"ShareChat",city:"Bangalore",country:"India",lat:12.9716,lon:77.5946,type:"unicorn"},{id:"drools",company:"Drools",city:"Bangalore",country:"India",lat:12.9553,lon:77.6344,type:"unicorn"},{id:"grab",company:"Grab",city:"Singapore",country:"Singapore",lat:1.308,lon:103.8545,type:"public"},{id:"sea",company:"Sea Limited",city:"Singapore",country:"Singapore",lat:1.2966,lon:103.856,type:"public"},{id:"lazada",company:"Lazada",city:"Singapore",country:"Singapore",lat:1.2789,lon:103.8536,type:"unicorn"},{id:"razer",company:"Razer",city:"Singapore",country:"Singapore",lat:1.2936,lon:103.8547,type:"public"},{id:"propertyguru",company:"PropertyGuru",city:"Singapore",country:"Singapore",lat:1.2823,lon:103.85,type:"public"},{id:"ninja-van",company:"Ninja Van",city:"Singapore",country:"Singapore",lat:1.287,lon:103.849,type:"unicorn",marketCap:"$2B"},{id:"silicon-box",company:"Silicon Box",city:"Singapore",country:"Singapore",lat:1.2973,lon:103.8515,type:"unicorn"},{id:"xendit",company:"Xendit",city:"Singapore",country:"Singapore",lat:1.2966,lon:103.856,type:"unicorn",marketCap:"$1.5B"},{id:"moglix",company:"Moglix",city:"Singapore",country:"Singapore",lat:1.308,lon:103.8545,type:"unicorn",marketCap:"$3B"},{id:"trax",company:"Trax",city:"Singapore",country:"Singapore",lat:1.2789,lon:103.8536,type:"unicorn"},{id:"patsnap",company:"PatSnap",city:"Singapore",country:"Singapore",lat:1.2936,lon:103.8547,type:"unicorn"},{id:"carro",company:"Carro",city:"Singapore",country:"Singapore",lat:1.2823,lon:103.85,type:"unicorn"},{id:"goto",company:"GoTo",city:"Jakarta",country:"Indonesia",lat:-6.2088,lon:106.8456,type:"public"},{id:"bukalapak",company:"Bukalapak",city:"Jakarta",country:"Indonesia",lat:-6.2146,lon:106.8451,type:"public"},{id:"traveloka",company:"Traveloka",city:"Jakarta",country:"Indonesia",lat:-6.225,lon:106.81,type:"unicorn"},{id:"jt-express",company:"J&T Express",city:"Jakarta",country:"Indonesia",lat:-6.2297,lon:106.8295,type:"unicorn",marketCap:"$20B"},{id:"kopi-kenangan",company:"Kopi Kenangan",city:"Jakarta",country:"Indonesia",lat:-6.2146,lon:106.8451,type:"unicorn"},{id:"blibli",company:"Blibli",city:"Jakarta",country:"Indonesia",lat:-6.225,lon:106.81,type:"public"},{id:"akulaku",company:"Akulaku",city:"Jakarta",country:"Indonesia",lat:-6.1944,lon:106.8229,type:"unicorn"},{id:"kredivo",company:"Kredivo",city:"Jakarta",country:"Indonesia",lat:-6.2088,lon:106.8456,type:"unicorn"},{id:"vng",company:"VNG Corporation",city:"Ho Chi Minh City",country:"Vietnam",lat:10.7769,lon:106.7009,type:"unicorn"},{id:"momo-vn",company:"MoMo",city:"Ho Chi Minh City",country:"Vietnam",lat:10.78,lon:106.6958,type:"unicorn"},{id:"vnpay",company:"VNPay",city:"Hanoi",country:"Vietnam",lat:21.0285,lon:105.8542,type:"unicorn"},{id:"sky-mavis",company:"Sky Mavis",city:"Ho Chi Minh City",country:"Vietnam",lat:10.762,lon:106.6602,type:"unicorn"},{id:"flash-express",company:"Flash Express",city:"Bangkok",country:"Thailand",lat:13.7563,lon:100.5018,type:"unicorn"},{id:"ascend-money",company:"Ascend Money",city:"Bangkok",country:"Thailand",lat:13.7563,lon:100.5018,type:"unicorn"},{id:"mynt",company:"Mynt (GCash)",city:"Taguig",country:"Philippines",lat:14.5176,lon:121.0509,type:"unicorn"},{id:"voyager",company:"Voyager Innovations",city:"Taguig",country:"Philippines",lat:14.5547,lon:121.0244,type:"unicorn"},{id:"sony",company:"Sony",city:"Tokyo",country:"Japan",lat:35.6192,lon:139.75,type:"public"},{id:"softbank",company:"SoftBank",city:"Tokyo",country:"Japan",lat:35.6558,lon:139.7513,type:"public"},{id:"rakuten",company:"Rakuten",city:"Tokyo",country:"Japan",lat:35.6269,lon:139.7255,type:"public"},{id:"nintendo",company:"Nintendo",city:"Kyoto",country:"Japan",lat:34.9696,lon:135.7557,type:"public"},{id:"mercari",company:"Mercari",city:"Tokyo",country:"Japan",lat:35.6591,lon:139.7007,type:"public"},{id:"samsung",company:"Samsung",city:"Seoul",country:"South Korea",lat:37.5284,lon:127.0366,type:"public",marketCap:"$350B"},{id:"sk-hynix",company:"SK Hynix",city:"Icheon",country:"South Korea",lat:37.2792,lon:127.4349,type:"public"},{id:"lg-electronics",company:"LG Electronics",city:"Seoul",country:"South Korea",lat:37.5014,lon:126.9392,type:"public"},{id:"naver",company:"Naver",city:"Seongnam",country:"South Korea",lat:37.3595,lon:127.1054,type:"public"},{id:"kakao",company:"Kakao",city:"Jeju",country:"South Korea",lat:33.4507,lon:126.5703,type:"public"},{id:"coupang",company:"Coupang",city:"Seoul",country:"South Korea",lat:37.5015,lon:127.0413,type:"public"},{id:"tsmc",company:"TSMC",city:"Hsinchu",country:"Taiwan",lat:24.7736,lon:120.9974,type:"public",marketCap:"$600B"},{id:"foxconn",company:"Foxconn",city:"New Taipei",country:"Taiwan",lat:25.0459,lon:121.4652,type:"public"},{id:"mediatek",company:"MediaTek",city:"Hsinchu",country:"Taiwan",lat:24.7831,lon:120.9897,type:"public"},{id:"atlassian",company:"Atlassian",city:"Sydney",country:"Australia",lat:-33.8688,lon:151.2093,type:"public"},{id:"canva",company:"Canva",city:"Sydney",country:"Australia",lat:-33.8651,lon:151.2099,type:"unicorn"},{id:"afterpay",company:"Afterpay",city:"Melbourne",country:"Australia",lat:-37.8136,lon:144.9631,type:"public"},{id:"safetyculture",company:"SafetyCulture",city:"Sydney",country:"Australia",lat:-33.8523,lon:151.2108,type:"unicorn"},{id:"culture-amp",company:"Culture Amp",city:"Melbourne",country:"Australia",lat:-37.8166,lon:144.964,type:"unicorn"},{id:"airwallex",company:"Airwallex",city:"Melbourne",country:"Australia",lat:-37.8175,lon:144.9679,type:"unicorn"},{id:"shopify",company:"Shopify",city:"Ottawa",country:"Canada",lat:45.4215,lon:-75.6972,type:"public"},{id:"opentext",company:"OpenText",city:"Waterloo",country:"Canada",lat:43.4643,lon:-80.5204,type:"public"},{id:"lightspeed",company:"Lightspeed",city:"Montreal",country:"Canada",lat:45.5017,lon:-73.5673,type:"public"},{id:"clio",company:"Clio",city:"Burnaby",country:"Canada",lat:49.2488,lon:-122.9805,type:"unicorn"},{id:"hootsuite",company:"Hootsuite",city:"Vancouver",country:"Canada",lat:49.2827,lon:-123.1207,type:"unicorn"},{id:"nubank",company:"Nubank",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"public",marketCap:"$45B"},{id:"ifood",company:"iFood",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn",marketCap:"$5.4B"},{id:"quintoandar",company:"QuintoAndar",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn",marketCap:"$5.1B"},{id:"creditas",company:"Creditas",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn",marketCap:"$4.8B"},{id:"c6bank",company:"C6 Bank",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"pagseguro",company:"PagSeguro",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"public"},{id:"stone",company:"Stone",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"public"},{id:"ebanx",company:"EBANX",city:"Curitiba",country:"Brazil",lat:-25.4284,lon:-49.2733,type:"unicorn"},{id:"vtex",company:"VTEX",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"public"},{id:"loft",company:"Loft",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"gympass",company:"Gympass",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn"},{id:"loggi",company:"Loggi",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"neon",company:"Neon",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn"},{id:"hotmart",company:"Hotmart",city:"Belo Horizonte",country:"Brazil",lat:-19.9167,lon:-43.9345,type:"unicorn"},{id:"madeiramadeira",company:"MadeiraMadeira",city:"Curitiba",country:"Brazil",lat:-25.4284,lon:-49.2733,type:"unicorn"},{id:"cloudwalk",company:"CloudWalk",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"qitech",company:"QI Tech",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn"},{id:"tractian",company:"Tractian",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"mottu",company:"Mottu",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,type:"unicorn"},{id:"starkbank",company:"Stark Bank",city:"São Paulo",country:"Brazil",lat:-23.5629,lon:-46.6544,type:"unicorn"},{id:"kavak",company:"Kavak",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"unicorn"},{id:"clip",company:"Clip",city:"Mexico City",country:"Mexico",lat:19.4285,lon:-99.1277,type:"unicorn",marketCap:"$2B"},{id:"bitso",company:"Bitso",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"unicorn",marketCap:"$2.2B"},{id:"konfio",company:"Konfío",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"unicorn"},{id:"kueski",company:"Kueski",city:"Guadalajara",country:"Mexico",lat:20.6597,lon:-103.3496,type:"unicorn"},{id:"clara",company:"Clara",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"unicorn"},{id:"stori",company:"Stori",city:"Mexico City",country:"Mexico",lat:19.4285,lon:-99.1277,type:"unicorn"},{id:"incode",company:"Incode",city:"Mexico City",country:"Mexico",lat:19.4326,lon:-99.1332,type:"unicorn"},{id:"mercadolibre",company:"MercadoLibre",city:"Buenos Aires",country:"Argentina",lat:-34.6037,lon:-58.3816,type:"public",marketCap:"$80B"},{id:"uala",company:"Ualá",city:"Buenos Aires",country:"Argentina",lat:-34.6037,lon:-58.3816,type:"unicorn",marketCap:"$2.8B"},{id:"pomelo",company:"Pomelo",city:"Buenos Aires",country:"Argentina",lat:-34.6037,lon:-58.3816,type:"unicorn"},{id:"auth0-ar",company:"Auth0",city:"Buenos Aires",country:"Argentina",lat:-34.6037,lon:-58.3816,type:"unicorn"},{id:"tiendanube",company:"Tiendanube",city:"Buenos Aires",country:"Argentina",lat:-34.5867,lon:-58.4264,type:"unicorn"},{id:"rappi",company:"Rappi",city:"Bogotá",country:"Colombia",lat:4.6097,lon:-74.0817,type:"unicorn"},{id:"addi",company:"Addi",city:"Bogotá",country:"Colombia",lat:4.6097,lon:-74.0817,type:"unicorn"},{id:"frubana",company:"Frubana",city:"Bogotá",country:"Colombia",lat:4.6097,lon:-74.0817,type:"unicorn"},{id:"flutterwave",company:"Flutterwave",city:"Lagos",country:"Nigeria",lat:6.4541,lon:3.3947,type:"unicorn"},{id:"paystack",company:"Paystack",city:"Lagos",country:"Nigeria",lat:6.45,lon:3.39,type:"unicorn"},{id:"jumia",company:"Jumia",city:"Lagos",country:"Nigeria",lat:6.4698,lon:3.5852,type:"public"},{id:"mtn",company:"MTN",city:"Johannesburg",country:"South Africa",lat:-26.1076,lon:28.0567,type:"public"},{id:"safaricom",company:"Safaricom",city:"Nairobi",country:"Kenya",lat:-1.2864,lon:36.8172,type:"public"}],C0=[{id:"aws-us-east-1",provider:"aws",name:"US East (N. Virginia)",city:"Ashburn",country:"USA",lat:39.0438,lon:-77.4874,zones:6},{id:"aws-us-west-2",provider:"aws",name:"US West (Oregon)",city:"Boardman",country:"USA",lat:45.8399,lon:-119.7006,zones:4},{id:"aws-eu-west-1",provider:"aws",name:"EU (Ireland)",city:"Dublin",country:"Ireland",lat:53.3498,lon:-6.2603,zones:3},{id:"aws-eu-central-1",provider:"aws",name:"EU (Frankfurt)",city:"Frankfurt",country:"Germany",lat:50.1109,lon:8.6821,zones:3},{id:"aws-ap-northeast-1",provider:"aws",name:"Asia Pacific (Tokyo)",city:"Tokyo",country:"Japan",lat:35.6762,lon:139.6503,zones:4},{id:"aws-ap-southeast-1",provider:"aws",name:"Asia Pacific (Singapore)",city:"Singapore",country:"Singapore",lat:1.3521,lon:103.8198,zones:3},{id:"aws-ap-south-1",provider:"aws",name:"Asia Pacific (Mumbai)",city:"Mumbai",country:"India",lat:19.076,lon:72.8777,zones:3},{id:"aws-sa-east-1",provider:"aws",name:"South America (São Paulo)",city:"São Paulo",country:"Brazil",lat:-23.5505,lon:-46.6333,zones:3},{id:"gcp-us-central1",provider:"gcp",name:"Iowa",city:"Council Bluffs",country:"USA",lat:41.2619,lon:-95.8608,zones:4},{id:"gcp-us-east1",provider:"gcp",name:"South Carolina",city:"Moncks Corner",country:"USA",lat:33.196,lon:-80.0131,zones:3},{id:"gcp-europe-west1",provider:"gcp",name:"Belgium",city:"St. Ghislain",country:"Belgium",lat:50.4489,lon:3.8187,zones:3},{id:"gcp-asia-east1",provider:"gcp",name:"Taiwan",city:"Changhua",country:"Taiwan",lat:24.0518,lon:120.5161,zones:3},{id:"gcp-asia-northeast1",provider:"gcp",name:"Tokyo",city:"Tokyo",country:"Japan",lat:35.6895,lon:139.6917,zones:3},{id:"azure-eastus",provider:"azure",name:"East US",city:"Virginia",country:"USA",lat:37.3719,lon:-79.8164,zones:3},{id:"azure-westeurope",provider:"azure",name:"West Europe",city:"Amsterdam",country:"Netherlands",lat:52.3676,lon:4.9041,zones:3},{id:"azure-northeurope",provider:"azure",name:"North Europe",city:"Dublin",country:"Ireland",lat:53.3331,lon:-6.2489,zones:3},{id:"azure-southeastasia",provider:"azure",name:"Southeast Asia",city:"Singapore",country:"Singapore",lat:1.2833,lon:103.8333,zones:3},{id:"cf-sfo",provider:"cloudflare",name:"San Francisco",city:"San Francisco",country:"USA",lat:37.6213,lon:-122.379},{id:"cf-lhr",provider:"cloudflare",name:"London",city:"London",country:"UK",lat:51.47,lon:-.4543},{id:"cf-nrt",provider:"cloudflare",name:"Tokyo",city:"Tokyo",country:"Japan",lat:35.7653,lon:140.3864},{id:"aws-me-south-1",provider:"aws",name:"Middle East (Bahrain)",city:"Manama",country:"Bahrain",lat:26.2285,lon:50.586,zones:3},{id:"aws-me-central-1",provider:"aws",name:"Middle East (UAE)",city:"Dubai",country:"UAE",lat:25.2048,lon:55.2708,zones:3},{id:"azure-uaenorth",provider:"azure",name:"UAE North",city:"Dubai",country:"UAE",lat:25.2669,lon:55.3172,zones:3},{id:"azure-uaecentral",provider:"azure",name:"UAE Central",city:"Abu Dhabi",country:"UAE",lat:24.4539,lon:54.3773},{id:"gcp-me-central1",provider:"gcp",name:"Doha",city:"Doha",country:"Qatar",lat:25.2854,lon:51.531,zones:3},{id:"gcp-me-west1",provider:"gcp",name:"Tel Aviv",city:"Tel Aviv",country:"Israel",lat:32.0853,lon:34.7818,zones:3}],k0=[{id:"nyse",name:"New York Stock Exchange",shortName:"NYSE",city:"New York",country:"US",lat:40.7069,lon:-74.0113,tier:"mega",marketCap:28,tradingHours:"09:30-16:00 ET",timezone:"America/New_York",description:"Largest stock exchange by market cap"},{id:"nasdaq",name:"NASDAQ",shortName:"NASDAQ",city:"New York",country:"US",lat:40.7568,lon:-73.986,tier:"mega",marketCap:24,tradingHours:"09:30-16:00 ET",timezone:"America/New_York",description:"Tech-heavy electronic exchange"},{id:"sse",name:"Shanghai Stock Exchange",shortName:"SSE",city:"Shanghai",country:"CN",lat:31.2333,lon:121.4865,tier:"mega",marketCap:7.4,tradingHours:"09:30-15:00 CST",timezone:"Asia/Shanghai",description:"Largest exchange in China"},{id:"euronext",name:"Euronext",shortName:"Euronext",city:"Amsterdam",country:"NL",lat:52.3465,lon:4.879,tier:"mega",marketCap:7.2,tradingHours:"09:00-17:30 CET",timezone:"Europe/Amsterdam",description:"Pan-European exchange"},{id:"jpx",name:"Japan Exchange Group",shortName:"JPX/TSE",city:"Tokyo",country:"JP",lat:35.6803,lon:139.7717,tier:"mega",marketCap:6.5,tradingHours:"09:00-15:00 JST",timezone:"Asia/Tokyo",description:"Tokyo Stock Exchange"},{id:"szse",name:"Shenzhen Stock Exchange",shortName:"SZSE",city:"Shenzhen",country:"CN",lat:22.5367,lon:114.0571,tier:"major",marketCap:4.8,tradingHours:"09:30-15:00 CST",timezone:"Asia/Shanghai",description:"Tech-oriented Chinese exchange"},{id:"hkex",name:"Hong Kong Stock Exchange",shortName:"HKEX",city:"Hong Kong",country:"HK",lat:22.2832,lon:114.1569,tier:"major",marketCap:4.5,tradingHours:"09:30-16:00 HKT",timezone:"Asia/Hong_Kong",description:"Gateway to Chinese markets"},{id:"lse",name:"London Stock Exchange",shortName:"LSE",city:"London",country:"GB",lat:51.5155,lon:-.0922,tier:"major",marketCap:3.4,tradingHours:"08:00-16:30 GMT",timezone:"Europe/London",description:"Europe's largest exchange"},{id:"nse-india",name:"National Stock Exchange of India",shortName:"NSE",city:"Mumbai",country:"IN",lat:19.0557,lon:72.8525,tier:"major",marketCap:3.6,tradingHours:"09:15-15:30 IST",timezone:"Asia/Kolkata",description:"India's largest exchange by volume"},{id:"bse-india",name:"BSE (Bombay Stock Exchange)",shortName:"BSE",city:"Mumbai",country:"IN",lat:18.9281,lon:72.8333,tier:"major",marketCap:3.4,tradingHours:"09:15-15:30 IST",timezone:"Asia/Kolkata",description:"Asia's oldest exchange"},{id:"tsx",name:"Toronto Stock Exchange",shortName:"TSX",city:"Toronto",country:"CA",lat:43.6489,lon:-79.3818,tier:"major",marketCap:2.8,tradingHours:"09:30-16:00 ET",timezone:"America/Toronto",description:"Canada's largest exchange"},{id:"krx",name:"Korea Exchange",shortName:"KRX",city:"Seoul",country:"KR",lat:37.523,lon:126.9258,tier:"major",marketCap:2.2,tradingHours:"09:00-15:30 KST",timezone:"Asia/Seoul",description:"South Korea's exchange"},{id:"six",name:"SIX Swiss Exchange",shortName:"SIX",city:"Zurich",country:"CH",lat:47.3685,lon:8.54,tier:"major",marketCap:2,tradingHours:"09:00-17:30 CET",timezone:"Europe/Zurich",description:"Switzerland's primary exchange"},{id:"asx",name:"Australian Securities Exchange",shortName:"ASX",city:"Sydney",country:"AU",lat:-33.8672,lon:151.2067,tier:"major",marketCap:1.7,tradingHours:"10:00-16:00 AEST",timezone:"Australia/Sydney",description:"Australia's primary exchange"},{id:"xetra",name:"Deutsche Börse (Xetra)",shortName:"Xetra",city:"Frankfurt",country:"DE",lat:50.111,lon:8.6804,tier:"major",marketCap:2.3,tradingHours:"09:00-17:30 CET",timezone:"Europe/Berlin",description:"Germany's primary exchange"},{id:"twse",name:"Taiwan Stock Exchange",shortName:"TWSE",city:"Taipei",country:"TW",lat:25.0388,lon:121.5632,tier:"major",marketCap:2,tradingHours:"09:00-13:30 CST",timezone:"Asia/Taipei",description:"Taiwan's primary exchange"},{id:"b3",name:"B3 (Brasil Bolsa Balcão)",shortName:"B3",city:"São Paulo",country:"BR",lat:-23.5486,lon:-46.6341,tier:"emerging",marketCap:.9,tradingHours:"10:00-17:30 BRT",timezone:"America/Sao_Paulo",description:"Brazil's stock exchange"},{id:"jse",name:"Johannesburg Stock Exchange",shortName:"JSE",city:"Johannesburg",country:"ZA",lat:-26.1088,lon:28.0318,tier:"emerging",marketCap:1.2,tradingHours:"09:00-17:00 SAST",timezone:"Africa/Johannesburg",description:"Africa's largest exchange"},{id:"sgx",name:"Singapore Exchange",shortName:"SGX",city:"Singapore",country:"SG",lat:1.2794,lon:103.8498,tier:"major",marketCap:.7,tradingHours:"09:00-17:00 SGT",timezone:"Asia/Singapore",description:"Singapore's exchange"},{id:"tadawul",name:"Saudi Exchange (Tadawul)",shortName:"Tadawul",city:"Riyadh",country:"SA",lat:24.7103,lon:46.677,tier:"emerging",marketCap:2.9,tradingHours:"10:00-15:00 AST",timezone:"Asia/Riyadh",description:"Saudi Arabia's exchange"},{id:"idx",name:"Indonesia Stock Exchange",shortName:"IDX",city:"Jakarta",country:"ID",lat:-6.2293,lon:106.813,tier:"emerging",marketCap:.6,tradingHours:"09:00-15:50 WIB",timezone:"Asia/Jakarta",description:"Indonesia's primary exchange"},{id:"set",name:"Stock Exchange of Thailand",shortName:"SET",city:"Bangkok",country:"TH",lat:13.7205,lon:100.525,tier:"emerging",marketCap:.5,tradingHours:"10:00-16:30 ICT",timezone:"Asia/Bangkok",description:"Thailand's exchange"},{id:"bvl",name:"Bolsa de Valores de Lima",shortName:"BVL",city:"Lima",country:"PE",lat:-12.0483,lon:-77.0258,tier:"emerging",description:"Peru's stock exchange"},{id:"bmv",name:"Bolsa Mexicana de Valores",shortName:"BMV",city:"Mexico City",country:"MX",lat:19.4345,lon:-99.1424,tier:"emerging",marketCap:.5,tradingHours:"08:30-15:00 CT",timezone:"America/Mexico_City",description:"Mexico's stock exchange"},{id:"moex",name:"Moscow Exchange",shortName:"MOEX",city:"Moscow",country:"RU",lat:55.7539,lon:37.6084,tier:"emerging",marketCap:.6,tradingHours:"09:50-18:50 MSK",timezone:"Europe/Moscow",description:"Russia's largest exchange"},{id:"nse-nig",name:"Nigerian Exchange",shortName:"NGX",city:"Lagos",country:"NG",lat:6.4549,lon:3.4246,tier:"emerging",description:"Nigeria's exchange"},{id:"egx",name:"Egyptian Exchange",shortName:"EGX",city:"Cairo",country:"EG",lat:30.0492,lon:31.234,tier:"emerging",description:"Egypt's exchange"},{id:"nzx",name:"New Zealand Exchange",shortName:"NZX",city:"Wellington",country:"NZ",lat:-41.2866,lon:174.7756,tier:"emerging",description:"New Zealand's exchange"},{id:"tase",name:"Tel Aviv Stock Exchange",shortName:"TASE",city:"Tel Aviv",country:"IL",lat:32.0669,lon:34.7856,tier:"emerging",marketCap:.3,tradingHours:"09:59-17:15 IST",timezone:"Asia/Jerusalem",description:"Israel's exchange"}],I0=[{id:"fc-nyc",name:"New York",city:"New York",country:"US",lat:40.758,lon:-74.0001,type:"global",gfciRank:1,specialties:["Equities","Fixed Income","Derivatives","Banking"],description:"World's largest financial center"},{id:"fc-london",name:"London",city:"London",country:"GB",lat:51.5128,lon:-.0908,type:"global",gfciRank:2,specialties:["FX","Insurance","Commodities","Fintech"],description:"Europe's leading financial hub"},{id:"fc-singapore",name:"Singapore",city:"Singapore",country:"SG",lat:1.2833,lon:103.85,type:"global",gfciRank:3,specialties:["Wealth Management","FX","Commodities"],description:"Asia's premier financial center"},{id:"fc-hongkong",name:"Hong Kong",city:"Hong Kong",country:"HK",lat:22.283,lon:114.153,type:"global",gfciRank:4,specialties:["IPOs","Equities","Wealth Management"],description:"China gateway financial hub"},{id:"fc-sanfrancisco",name:"San Francisco",city:"San Francisco",country:"US",lat:37.794,lon:-122.3999,type:"global",gfciRank:5,specialties:["VC","Tech Finance","Fintech"],description:"Tech-finance nexus"},{id:"fc-tokyo",name:"Tokyo",city:"Tokyo",country:"JP",lat:35.6762,lon:139.6503,type:"regional",gfciRank:9,specialties:["Equities","Government Bonds"],description:"Japan's financial center"},{id:"fc-shanghai",name:"Shanghai",city:"Shanghai",country:"CN",lat:31.2304,lon:121.4737,type:"regional",gfciRank:7,specialties:["A-shares","Commodities","RMB products"],description:"China's financial hub"},{id:"fc-chicago",name:"Chicago",city:"Chicago",country:"US",lat:41.8825,lon:-87.6328,type:"regional",gfciRank:10,specialties:["Derivatives","Futures","Options","Commodities"],description:"Derivatives trading capital"},{id:"fc-zurich",name:"Zurich",city:"Zurich",country:"CH",lat:47.3686,lon:8.5391,type:"regional",gfciRank:8,specialties:["Private Banking","Wealth Management","Insurance"],description:"Swiss banking center"},{id:"fc-frankfurt",name:"Frankfurt",city:"Frankfurt",country:"DE",lat:50.1109,lon:8.6821,type:"regional",gfciRank:11,specialties:["ECB","Banking","Euro clearing"],description:"European Central Bank seat"},{id:"fc-sydney",name:"Sydney",city:"Sydney",country:"AU",lat:-33.8688,lon:151.2093,type:"regional",gfciRank:12,specialties:["Mining Finance","Superannuation","FX"],description:"Oceania's financial hub"},{id:"fc-dubai",name:"Dubai / DIFC",city:"Dubai",country:"AE",lat:25.2134,lon:55.2825,type:"regional",gfciRank:13,specialties:["Islamic Finance","Wealth Management","Commodities"],description:"Middle East financial center"},{id:"fc-seoul",name:"Seoul",city:"Seoul",country:"KR",lat:37.5665,lon:126.978,type:"regional",gfciRank:6,specialties:["Equities","Tech","Fintech"],description:"South Korean financial hub"},{id:"fc-mumbai",name:"Mumbai",city:"Mumbai",country:"IN",lat:19.076,lon:72.8777,type:"regional",gfciRank:15,specialties:["Equities","Derivatives","Fintech"],description:"India's financial capital"},{id:"fc-toronto",name:"Toronto",city:"Toronto",country:"CA",lat:43.6532,lon:-79.3832,type:"regional",gfciRank:14,specialties:["Mining Finance","Banking","Pensions"],description:"Canada's financial center"},{id:"fc-cayman",name:"Cayman Islands",city:"George Town",country:"KY",lat:19.2869,lon:-81.3674,type:"offshore",specialties:["Hedge Funds","Offshore Banking","Captive Insurance"],description:"Major offshore financial center"},{id:"fc-luxembourg",name:"Luxembourg",city:"Luxembourg",country:"LU",lat:49.6116,lon:6.1319,type:"offshore",gfciRank:16,specialties:["Fund Management","EU Regulation","Green Finance"],description:"EU fund domiciliation hub"},{id:"fc-bermuda",name:"Bermuda",city:"Hamilton",country:"BM",lat:32.2949,lon:-64.782,type:"offshore",specialties:["Insurance","Reinsurance","ILS"],description:"Insurance/reinsurance capital"},{id:"fc-channelislands",name:"Channel Islands",city:"St. Helier",country:"JE",lat:49.1868,lon:-2.1091,type:"offshore",specialties:["Trusts","Private Banking","Fund Administration"],description:"Offshore banking center"}],T0=[{id:"fed",name:"Federal Reserve",shortName:"Fed",city:"Washington D.C.",country:"US",lat:38.8928,lon:-77.0455,type:"major",currency:"USD",description:"US central bank, global reserve currency issuer"},{id:"ecb",name:"European Central Bank",shortName:"ECB",city:"Frankfurt",country:"DE",lat:50.1096,lon:8.7033,type:"supranational",currency:"EUR",description:"Eurozone monetary authority"},{id:"boj",name:"Bank of Japan",shortName:"BoJ",city:"Tokyo",country:"JP",lat:35.6867,lon:139.7635,type:"major",currency:"JPY",description:"Japan's central bank"},{id:"boe",name:"Bank of England",shortName:"BoE",city:"London",country:"GB",lat:51.5142,lon:-.0882,type:"major",currency:"GBP",description:"UK's central bank"},{id:"pboc",name:"People's Bank of China",shortName:"PBoC",city:"Beijing",country:"CN",lat:39.9064,lon:116.4038,type:"major",currency:"CNY",description:"China's central bank"},{id:"snb",name:"Swiss National Bank",shortName:"SNB",city:"Bern",country:"CH",lat:46.9482,lon:7.4476,type:"major",currency:"CHF",description:"Switzerland's central bank"},{id:"rba",name:"Reserve Bank of Australia",shortName:"RBA",city:"Sydney",country:"AU",lat:-33.8627,lon:151.2111,type:"major",currency:"AUD",description:"Australia's central bank"},{id:"boc",name:"Bank of Canada",shortName:"BoC",city:"Ottawa",country:"CA",lat:45.423,lon:-75.701,type:"major",currency:"CAD",description:"Canada's central bank"},{id:"rbi",name:"Reserve Bank of India",shortName:"RBI",city:"Mumbai",country:"IN",lat:18.9323,lon:72.8338,type:"major",currency:"INR",description:"India's central bank"},{id:"bok",name:"Bank of Korea",shortName:"BoK",city:"Seoul",country:"KR",lat:37.5604,lon:126.9814,type:"major",currency:"KRW",description:"South Korea's central bank"},{id:"bcb",name:"Banco Central do Brasil",shortName:"BCB",city:"Brasília",country:"BR",lat:-15.7839,lon:-47.8829,type:"regional",currency:"BRL",description:"Brazil's central bank"},{id:"sama",name:"Saudi Central Bank",shortName:"SAMA",city:"Riyadh",country:"SA",lat:24.6938,lon:46.685,type:"regional",currency:"SAR",description:"Saudi Arabia's central bank"},{id:"bis",name:"Bank for International Settlements",shortName:"BIS",city:"Basel",country:"CH",lat:47.5585,lon:7.5866,type:"supranational",description:"Central bank of central banks"},{id:"imf",name:"International Monetary Fund",shortName:"IMF",city:"Washington D.C.",country:"US",lat:38.8987,lon:-77.0425,type:"supranational",description:"Global financial stability institution"}],E0=[{id:"cme",name:"CME Group (CBOT/NYMEX/COMEX)",city:"Chicago",country:"US",lat:41.8822,lon:-87.6324,type:"exchange",commodities:["Crude Oil","Natural Gas","Gold","Corn","Soybeans","Wheat"],description:"World's largest derivatives exchange"},{id:"ice",name:"ICE (Intercontinental Exchange)",city:"Atlanta",country:"US",lat:33.7628,lon:-84.3874,type:"exchange",commodities:["Brent Crude","Natural Gas","Cotton","Sugar","Coffee"],description:"Global commodity and financial exchange"},{id:"lme",name:"London Metal Exchange",city:"London",country:"GB",lat:51.5128,lon:-.0802,type:"exchange",commodities:["Copper","Aluminum","Zinc","Nickel","Tin","Lead"],description:"World's center for metals trading"},{id:"shfe",name:"Shanghai Futures Exchange",city:"Shanghai",country:"CN",lat:31.2358,lon:121.4842,type:"exchange",commodities:["Copper","Steel Rebar","Gold","Crude Oil"],description:"China's major commodity exchange"},{id:"dce",name:"Dalian Commodity Exchange",city:"Dalian",country:"CN",lat:38.914,lon:121.6147,type:"exchange",commodities:["Iron Ore","Soybeans","Palm Oil","Corn"],description:"Key agricultural & metals exchange"},{id:"tocom",name:"Tokyo Commodity Exchange",city:"Tokyo",country:"JP",lat:35.68,lon:139.775,type:"exchange",commodities:["Rubber","Gold","Platinum","Crude Oil"],description:"Japan's commodity derivatives market"},{id:"dgcx",name:"Dubai Gold & Commodities Exchange",city:"Dubai",country:"AE",lat:25.2214,lon:55.2728,type:"exchange",commodities:["Gold","Currencies","Hydrocarbons"],description:"Middle East commodity exchange"},{id:"mcx",name:"Multi Commodity Exchange",city:"Mumbai",country:"IN",lat:19.0536,lon:72.8582,type:"exchange",commodities:["Gold","Silver","Crude Oil","Natural Gas"],description:"India's largest commodity exchange"},{id:"rotterdam",name:"Port of Rotterdam",city:"Rotterdam",country:"NL",lat:51.9025,lon:4.4717,type:"port",commodities:["Crude Oil","LNG","Coal","Iron Ore"],description:"Europe's largest port, key energy hub"},{id:"houston",name:"Houston Energy Corridor",city:"Houston",country:"US",lat:29.7765,lon:-95.4469,type:"refinery",commodities:["Crude Oil","Natural Gas","Petrochemicals"],description:"World's energy capital"}],gt=[{id:"dpw-london-gateway",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"United Kingdom",targetCountryIso:"GB",sector:"ports",assetType:"Container Terminal",assetName:"London Gateway Port",lat:51.503,lon:.5,investmentUSD:1500,stakePercent:100,status:"operational",yearAnnounced:2007,yearOperational:2013,description:"Largest UK container port development in 50 years. 3.5M TEU capacity on the Thames Estuary. DP World fully owns and operates.",sourceUrl:"https://www.londongatewaydock.co.uk",tags:["UK logistics","Thames Estuary"]},{id:"dpw-mundra",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"India",targetCountryIso:"IN",sector:"ports",assetType:"Container Terminal",assetName:"Mundra International Container Terminal",lat:22.839,lon:69.706,investmentUSD:500,stakePercent:74,status:"operational",yearAnnounced:2001,yearOperational:2003,description:"Largest private container terminal in India at Mundra Port, Gujarat. Part of Adani Ports joint venture.",tags:["India infrastructure","South Asia"]},{id:"dpw-dakar",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Senegal",targetCountryIso:"SN",sector:"ports",assetType:"Container Terminal",assetName:"Port of Dakar Terminal",lat:14.696,lon:-17.433,investmentUSD:1050,stakePercent:90,status:"operational",yearAnnounced:2007,yearOperational:2008,description:"25-year concession. Primary gateway for West African trade corridor.",tags:["West Africa","Maritime logistics"]},{id:"dpw-berbera",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Somaliland",targetCountryIso:"SO",sector:"ports",assetType:"Container Terminal",assetName:"Port of Berbera",lat:10.438,lon:44.999,investmentUSD:442,stakePercent:51,status:"operational",yearAnnounced:2016,yearOperational:2021,description:"DP World 30-year concession. Critical Red Sea/Gulf of Aden access point and free trade zone.",tags:["Horn of Africa","Red Sea","Strategic"]},{id:"dpw-lagos-apapa",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Nigeria",targetCountryIso:"NG",sector:"ports",assetType:"Container Terminal",assetName:"Apapa Container Terminal",lat:6.447,lon:3.38,stakePercent:25,status:"operational",yearOperational:2006,description:"DP World minority stake in Nigeria's primary container gateway through Apapa Port.",tags:["West Africa","Nigeria"]},{id:"dpw-rotterdam-euromax",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Netherlands",targetCountryIso:"NL",sector:"ports",assetType:"Container Terminal",assetName:"Euromax Terminal Rotterdam",lat:51.948,lon:4.052,investmentUSD:900,stakePercent:35,status:"operational",yearOperational:2008,description:"DP World 35% stake in Euromax, one of Europe's most automated deep-water terminals.",tags:["Europe","Netherlands","Automation"]},{id:"dpw-jeddah",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"ports",assetType:"Container Terminal",assetName:"Jeddah South Container Terminal",lat:21.475,lon:39.161,investmentUSD:340,stakePercent:33,status:"operational",yearOperational:2009,description:"DP World manages Jeddah South, Red Sea's largest container terminal. 33% stake.",tags:["Red Sea","Saudi Arabia"]},{id:"dpw-caucedo-dr",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Dominican Republic",targetCountryIso:"DO",sector:"ports",assetType:"Container Terminal",assetName:"Terminal Caucedo",lat:18.5,lon:-69.594,stakePercent:100,status:"operational",yearOperational:2003,description:"DP World-operated Caribbean transshipment hub serving Latin American trade routes.",tags:["Caribbean","Americas"]},{id:"dpw-lirquen-chile",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Chile",targetCountryIso:"CL",sector:"ports",assetType:"Container Terminal",assetName:"Terminal Lirquen",lat:-36.713,lon:-73.01,stakePercent:100,status:"operational",yearOperational:2015,description:"DP World operates Chile's Lirquen port for South American logistics gateway.",tags:["South America","Chile"]},{id:"dpw-maputo-mozambique",investingEntity:"DP World",investingCountry:"UAE",targetCountry:"Mozambique",targetCountryIso:"MZ",sector:"ports",assetType:"Container Terminal",assetName:"Port of Maputo",lat:-25.921,lon:32.584,investmentUSD:160,stakePercent:48,status:"operational",yearOperational:2003,description:"DP World manages Maputo container terminal. Gateway for landlocked Southern African countries.",tags:["Southern Africa","Mozambique"]},{id:"adports-khalifa-uae",investingEntity:"AD Ports",investingCountry:"UAE",targetCountry:"UAE",targetCountryIso:"AE",sector:"ports",assetType:"Industrial Port",assetName:"Khalifa Port",lat:24.811,lon:54.618,investmentUSD:7e3,stakePercent:100,status:"operational",yearOperational:2012,description:"Flagship Abu Dhabi deepwater port. 3M+ TEU capacity. Regional container and industrial hub with automated terminal.",tags:["UAE anchor asset","Industrial","Automation"]},{id:"adports-sokhna-egypt",investingEntity:"AD Ports",investingCountry:"UAE",targetCountry:"Egypt",targetCountryIso:"EG",sector:"ports",assetType:"Multi-Purpose Terminal",assetName:"Al-Sokhna Port Terminal",lat:29.6,lon:32.34,investmentUSD:660,stakePercent:80,status:"operational",yearAnnounced:2022,yearOperational:2023,description:"AD Ports 80% stake in Suez Canal economic corridor terminal. Strategic Red Sea/Mediterranean gateway.",tags:["Suez","Egypt","Red Sea corridor"]},{id:"adports-karachi-pakistan",investingEntity:"AD Ports",investingCountry:"UAE",targetCountry:"Pakistan",targetCountryIso:"PK",sector:"ports",assetType:"Container Terminal",assetName:"Karachi Gateway Terminal",lat:24.838,lon:66.991,investmentUSD:200,stakePercent:70,status:"operational",yearAnnounced:2021,yearOperational:2023,description:"AD Ports 70% stake in new Karachi container terminal. Pakistan's primary gateway port.",tags:["South Asia","Pakistan"]},{id:"adports-luanda-angola",investingEntity:"AD Ports",investingCountry:"UAE",targetCountry:"Angola",targetCountryIso:"AO",sector:"ports",assetType:"Container Terminal",assetName:"Porto de Luanda Terminal",lat:-8.805,lon:13.252,investmentUSD:260,stakePercent:70,status:"operational",yearAnnounced:2021,yearOperational:2022,description:"AD Ports 70% stake in Luanda container terminal. Strategic position in oil-rich Angola.",tags:["Southern Africa","Angola","Energy corridor"]},{id:"mubadala-borealis-austria",investingEntity:"Mubadala",investingCountry:"UAE",targetCountry:"Austria",targetCountryIso:"AT",sector:"energy",assetType:"Petrochemicals",assetName:"Borealis (European Petrochemicals)",lat:48.21,lon:16.363,investmentUSD:5500,stakePercent:75,status:"operational",yearAnnounced:2020,description:"Mubadala 75% stake in Borealis, a major European plastics and chemicals producer. Manufacturing assets in Austria, Belgium, Germany, Finland.",tags:["Europe","Chemicals","Pipeline feedstock"]},{id:"mubadala-globalfoundries-us",investingEntity:"Mubadala",investingCountry:"UAE",targetCountry:"United States",targetCountryIso:"US",sector:"manufacturing",assetType:"Semiconductor Fab",assetName:"GlobalFoundries (NYSE: GFS)",lat:42.848,lon:-73.766,investmentUSD:8e3,stakePercent:82,status:"operational",yearAnnounced:2009,description:"Mubadala owns ~82% of GlobalFoundries, the world's third-largest semiconductor foundry. Fab facilities in New York, Vermont, Germany, Singapore.",tags:["Semiconductors","Critical Technology","US","Strategic"]},{id:"mubadala-cepsa-spain",investingEntity:"Mubadala",investingCountry:"UAE",targetCountry:"Spain",targetCountryIso:"ES",sector:"energy",assetType:"Integrated Energy Company",assetName:"Cepsa (Compañía Española de Petróleos)",lat:40.416,lon:-3.703,investmentUSD:4e3,stakePercent:63,status:"operational",yearAnnounced:2011,description:"Mubadala 63% stake in Cepsa, Spain's second-largest oil company with refining and pipeline assets across Spain and Portugal.",tags:["Europe","Spain","Refining","Pipelines"]},{id:"adnoc-covestro-germany",investingEntity:"ADNOC",investingCountry:"UAE",targetCountry:"Germany",targetCountryIso:"DE",sector:"energy",assetType:"Chemicals Company",assetName:"Covestro AG",lat:51.165,lon:6.948,investmentUSD:14800,stakePercent:100,status:"operational",yearAnnounced:2023,yearOperational:2024,description:"ADNOC full acquisition of Covestro (Leverkusen, Germany) — major European specialty chemicals and materials producer. Critical input supplier to automotive, construction, electronics.",tags:["Germany","Chemicals","Critical infrastructure input"]},{id:"adnoc-omv-austria",investingEntity:"ADNOC",investingCountry:"UAE",targetCountry:"Austria",targetCountryIso:"AT",sector:"energy",assetType:"Integrated Oil Company",assetName:"OMV AG Stake",lat:48.21,lon:16.363,investmentUSD:4500,stakePercent:24.9,status:"operational",yearAnnounced:2022,description:"ADNOC 24.9% stake in OMV (Austria). Provides access to Central European pipeline networks and refining infrastructure.",tags:["Europe","Pipeline networks","Austria","Strategic"]},{id:"adnoc-ruwais-lng-uae",investingEntity:"ADNOC",investingCountry:"UAE",targetCountry:"UAE",targetCountryIso:"AE",sector:"energy",assetType:"LNG Export Terminal",assetName:"Ruwais LNG",lat:24.093,lon:52.729,investmentUSD:6e3,stakePercent:100,status:"under-construction",yearAnnounced:2023,yearOperational:2028,description:"New 9.6 mtpa LNG export facility at Ruwais Industrial City. UAE's first large-scale LNG export terminal, targeting European and Asian markets.",tags:["LNG","Energy export","UAE"]},{id:"masdar-hornsea-uk",investingEntity:"Masdar",investingCountry:"UAE",targetCountry:"United Kingdom",targetCountryIso:"GB",sector:"energy",assetType:"Offshore Wind Farm",assetName:"Hornsea Wind Project (stake)",lat:53.92,lon:1.9,investmentUSD:750,stakePercent:25,status:"operational",yearOperational:2019,description:"Masdar minority stake in Hornsea offshore wind development. Part of the UK's largest offshore wind zone.",tags:["Renewable energy","UK","Offshore wind"]},{id:"masdar-london-array-uk",investingEntity:"Masdar",investingCountry:"UAE",targetCountry:"United Kingdom",targetCountryIso:"GB",sector:"energy",assetType:"Offshore Wind Farm",assetName:"London Array Offshore Wind Farm",lat:51.625,lon:1.376,investmentUSD:400,stakePercent:20,status:"operational",yearOperational:2013,description:"Masdar 20% stake in 630MW London Array. Previously Europe's largest offshore wind farm.",tags:["UK","Offshore wind","Thames Estuary"]},{id:"masdar-zarafshan-uzbekistan",investingEntity:"Masdar",investingCountry:"UAE",targetCountry:"Uzbekistan",targetCountryIso:"UZ",sector:"energy",assetType:"Wind Farm",assetName:"Zarafshan Wind Farm",lat:41.554,lon:64.193,investmentUSD:1e3,stakePercent:100,status:"operational",yearAnnounced:2021,yearOperational:2023,description:"500MW wind project in Uzbekistan. Central Asia's largest wind farm at time of completion.",tags:["Central Asia","Wind energy","Uzbekistan"]},{id:"masdar-gulf-suez-wind-egypt",investingEntity:"Masdar",investingCountry:"UAE",targetCountry:"Egypt",targetCountryIso:"EG",sector:"energy",assetType:"Wind Farm",assetName:"Gulf of Suez Wind Project",lat:28.5,lon:32.5,investmentUSD:600,stakePercent:50,status:"under-construction",yearAnnounced:2022,yearOperational:2026,description:"500MW wind farm in the Gulf of Suez corridor. Joint venture with TAQA. Part of Egypt-UAE energy cooperation.",tags:["Africa","Renewables","Suez corridor"]},{id:"masdar-us-solar",investingEntity:"Masdar",investingCountry:"UAE",targetCountry:"United States",targetCountryIso:"US",sector:"energy",assetType:"Solar Farm",assetName:"US Solar Portfolio",lat:37.09,lon:-95.713,investmentUSD:1200,stakePercent:50,status:"operational",yearAnnounced:2020,description:"Masdar joint venture solar assets across multiple US states. Part of broader clean energy FDI strategy.",tags:["US","Solar","Clean energy"]},{id:"ega-guinea-alumina",investingEntity:"Emirates Global Aluminium",investingCountry:"UAE",targetCountry:"Guinea",targetCountryIso:"GN",sector:"mining",assetType:"Bauxite Mine",assetName:"Guinea Alumina Corporation (GAC)",lat:10.945,lon:-14.3,investmentUSD:1400,stakePercent:100,status:"operational",yearOperational:2019,description:"EGA owns Guinea Alumina Corporation — a major bauxite mining operation feeding UAE aluminium smelters. Feeds 12M tonnes/year from West Africa.",tags:["Mining","Critical minerals","Africa","Bauxite"]},{id:"pif-lucid-motors-us",investingEntity:"PIF",investingCountry:"SA",targetCountry:"United States",targetCountryIso:"US",sector:"manufacturing",assetType:"EV Manufacturing",assetName:"Lucid Group (LCID)",lat:37.388,lon:-122.016,investmentUSD:4500,stakePercent:60,status:"operational",yearAnnounced:2018,description:"PIF majority stake in Lucid Motors EV manufacturer. Plans for Lucid manufacturing facility in Saudi Arabia under Vision 2030.",tags:["EV","US tech","Vision 2030","Manufacturing"]},{id:"pif-telecom-italia",investingEntity:"PIF",investingCountry:"SA",targetCountry:"Italy",targetCountryIso:"IT",sector:"telecoms",assetType:"Telecoms Network",assetName:"Telecom Italia NetCo Stake",lat:41.902,lon:12.496,investmentUSD:2e3,stakePercent:20,status:"announced",yearAnnounced:2024,description:"PIF interest in Italy's national fixed network (NetCo) spun out from Telecom Italia. Subject to regulatory review by Italian government.",tags:["Europe","Telecoms","Italy","Critical infrastructure"]},{id:"pif-alat-electronics-sa",investingEntity:"PIF",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"manufacturing",assetType:"Electronics Manufacturing Platform",assetName:"Alat (Advanced Electronics)",lat:24.688,lon:46.724,investmentUSD:1e5,stakePercent:100,status:"announced",yearAnnounced:2024,description:"PIF's $100B electronics and technology manufacturing venture. Aims to build domestic semiconductor, consumer electronics, and EV capabilities in Saudi Arabia.",tags:["Manufacturing","Technology","Vision 2030","Semiconductors"]},{id:"pif-datacenter-cloud-sa",investingEntity:"PIF",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"datacenters",assetType:"Data Center Zone",assetName:"Saudi National Cloud / Hyperscale DC",lat:24.688,lon:46.724,investmentUSD:6e3,stakePercent:100,status:"under-construction",yearAnnounced:2022,yearOperational:2026,description:"PIF-funded national cloud and hyperscale data center infrastructure as part of Vision 2030 digital economy strategy. Partnerships with Google, Microsoft, AWS.",tags:["Digital infrastructure","Cloud","Vision 2030"]},{id:"neom-the-line-sa",investingEntity:"NEOM",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"railways",assetType:"Linear City / High-Speed Rail",assetName:"THE LINE (NEOM)",lat:28.1,lon:35.9,investmentUSD:5e5,stakePercent:100,status:"under-construction",yearAnnounced:2021,yearOperational:2030,description:"170km linear smart city with integrated high-speed rail along the spine. PIF/Saudi Vision 2030 flagship mega-infrastructure project in Tabuk region.",tags:["NEOM","Vision 2030","Megaproject","Rail","Smart City"]},{id:"neom-hydrogen-sa",investingEntity:"NEOM",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"energy",assetType:"Green Hydrogen Plant",assetName:"NEOM Green Hydrogen-Ammonia Plant",lat:27.8,lon:35.6,investmentUSD:8400,stakePercent:34,status:"under-construction",yearAnnounced:2020,yearOperational:2026,description:"World's planned largest green hydrogen-ammonia export facility. Joint venture: ACWA Power 26%, Air Products 26%, NEOM 34%.",tags:["NEOM","Green hydrogen","Vision 2030","Clean energy"]},{id:"acwa-benban-solar-egypt",investingEntity:"ACWA Power",investingCountry:"SA",targetCountry:"Egypt",targetCountryIso:"EG",sector:"energy",assetType:"Solar Farm",assetName:"Benban Solar Park (Stake)",lat:24.455,lon:32.75,investmentUSD:400,stakePercent:35,status:"operational",yearOperational:2019,description:"ACWA Power stake in Benban — one of the world's largest solar parks (1.6GW total). In Aswan, Upper Egypt.",tags:["Africa","Solar","Egypt"]},{id:"acwa-noor-uzbekistan",investingEntity:"ACWA Power",investingCountry:"SA",targetCountry:"Uzbekistan",targetCountryIso:"UZ",sector:"energy",assetType:"Solar Farm",assetName:"Nur Navoi Solar Plant",lat:40.084,lon:65.379,investmentUSD:280,stakePercent:100,status:"operational",yearOperational:2021,description:"100MW utility-scale solar project in Uzbekistan's Navoi region. ACWA Power's first Central Asia project.",tags:["Central Asia","Solar","Uzbekistan"]},{id:"acwa-south-africa-redstone",investingEntity:"ACWA Power",investingCountry:"SA",targetCountry:"South Africa",targetCountryIso:"ZA",sector:"energy",assetType:"Concentrated Solar / Wind Portfolio",assetName:"Redstone CSP & Renewable Portfolio",lat:-29.049,lon:23.081,investmentUSD:900,stakePercent:49,status:"operational",yearOperational:2023,description:"ACWA Power's renewable energy portfolio in South Africa under REIPPPP (Renewable Energy Independent Power Producer Procurement Programme).",tags:["Africa","Renewables","South Africa"]},{id:"acwa-oman-wind",investingEntity:"ACWA Power",investingCountry:"SA",targetCountry:"Oman",targetCountryIso:"OM",sector:"energy",assetType:"Wind Farm",assetName:"Dhofar Wind Farm",lat:17.05,lon:54.1,investmentUSD:125,stakePercent:49,status:"operational",yearOperational:2019,description:"50MW Dhofar wind farm — Oman's first and the Arab world's first utility-scale wind farm.",tags:["Oman","Wind energy","Gulf region"]},{id:"aramco-motiva-usa",investingEntity:"Saudi Aramco",investingCountry:"SA",targetCountry:"United States",targetCountryIso:"US",sector:"energy",assetType:"Oil Refinery",assetName:"Motiva Port Arthur Refinery",lat:29.849,lon:-93.916,investmentUSD:12e3,stakePercent:100,status:"operational",description:"World's largest US oil refinery (630,000 bpd). Fully Aramco-owned via Motiva Enterprises. Critical Gulf Coast downstream asset.",tags:["US energy infrastructure","Downstream","Gulf Coast"]},{id:"aramco-panjin-china",investingEntity:"Saudi Aramco",investingCountry:"SA",targetCountry:"China",targetCountryIso:"CN",sector:"energy",assetType:"Refinery & Petrochemicals",assetName:"Rongsheng/Panjin Refinery Stake",lat:41.119,lon:122.075,investmentUSD:1e4,stakePercent:30,status:"operational",yearAnnounced:2023,description:"Saudi Aramco 30% stake in Rongsheng Petrochemical's Panjin refinery in Liaoning Province. One of China's largest private refineries.",tags:["China","Downstream energy","Petrochemicals"]},{id:"aramco-sabic-global",investingEntity:"Saudi Aramco",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"manufacturing",assetType:"Chemicals Conglomerate",assetName:"SABIC (Global Operations)",lat:24.688,lon:46.724,investmentUSD:69100,stakePercent:70,status:"operational",yearAnnounced:2019,description:"Aramco acquired 70% of SABIC in 2020. SABIC has manufacturing in Netherlands, Germany, US, India, China — global chemicals infrastructure.",tags:["Chemicals","Global manufacturing","Vision 2030","Netherlands","Germany"]},{id:"mawani-king-abdulaziz-sa",investingEntity:"Mawani",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"ports",assetType:"Container Port",assetName:"King Abdulaziz Port Dammam",lat:26.455,lon:50.008,investmentUSD:2e3,stakePercent:100,status:"operational",description:"Saudi Ports Authority flagship Eastern Province gateway on the Persian Gulf. Expanding toward 7.5M TEU annual capacity.",tags:["Saudi Arabia","Persian Gulf","Container"]},{id:"mawani-king-fahad-sa",investingEntity:"Mawani",investingCountry:"SA",targetCountry:"Saudi Arabia",targetCountryIso:"SA",sector:"ports",assetType:"Industrial Port",assetName:"King Fahad Industrial Port Jubail",lat:27.007,lon:49.659,investmentUSD:3500,stakePercent:100,status:"operational",description:"Largest industrial port in the world by area. Services Jubail Industrial City petrochemical complex.",tags:["Saudi Arabia","Persian Gulf","Industrial","Petrochemicals"]},{id:"stc-telefonica-spain",investingEntity:"STC",investingCountry:"SA",targetCountry:"Spain",targetCountryIso:"ES",sector:"telecoms",assetType:"Telecoms Operator Stake",assetName:"Telefónica S.A. Stake",lat:40.416,lon:-3.703,investmentUSD:2100,stakePercent:9.9,status:"operational",yearAnnounced:2023,description:"STC acquired 9.9% stake in Spain's Telefónica, becoming a top-3 shareholder. Gives Saudi Arabia indirect access to Telefónica's critical telecoms infrastructure across Europe and Latin America.",tags:["Europe","Telecoms","Spain","Latin America","Critical infrastructure"]}],Gc=typeof window<"u"&&localStorage.getItem("worldmonitor-beta-mode")==="true";let zn=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},zs=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class ua{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async getRiskScores(a,e){const i=this.baseURL+"/api/intelligence/v1/get-risk-scores",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getPizzintStatus(a,e){const i=this.baseURL+"/api/intelligence/v1/get-pizzint-status",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async classifyEvent(a,e){const i=this.baseURL+"/api/intelligence/v1/classify-event",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getCountryIntelBrief(a,e){const i=this.baseURL+"/api/intelligence/v1/get-country-intel-brief",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async searchGdeltDocuments(a,e){const i=this.baseURL+"/api/intelligence/v1/search-gdelt-documents",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new zn(n.violations)}catch(n){if(n instanceof zn)throw n}throw new zs(a.status,`Request failed with status ${a.status}`,e)}}const Ga={critical:5,high:4,medium:3,low:2,info:1},Vc={"nuclear strike":"military","nuclear attack":"military","nuclear war":"military",invasion:"conflict","declaration of war":"conflict","martial law":"military",coup:"military","coup attempt":"military",genocide:"conflict","ethnic cleansing":"conflict","chemical attack":"terrorism","biological attack":"terrorism","dirty bomb":"terrorism","mass casualty":"conflict","pandemic declared":"health","health emergency":"health","nato article 5":"military","evacuation order":"disaster",meltdown:"disaster","nuclear meltdown":"disaster"},zc={war:"conflict","armed conflict":"conflict",airstrike:"conflict","air strike":"conflict","drone strike":"conflict",missile:"military","missile launch":"military","troops deployed":"military","military escalation":"military",bombing:"conflict",casualties:"conflict",hostage:"terrorism",terrorist:"terrorism","terror attack":"terrorism",assassination:"crime","cyber attack":"cyber",ransomware:"cyber","data breach":"cyber",sanctions:"economic",embargo:"economic",earthquake:"disaster",tsunami:"disaster",hurricane:"disaster",typhoon:"disaster"},Wc={protest:"protest",protests:"protest",riot:"protest",riots:"protest",unrest:"protest",demonstration:"protest","strike action":"protest","military exercise":"military","naval exercise":"military","arms deal":"military","weapons sale":"military","diplomatic crisis":"diplomatic","ambassador recalled":"diplomatic","expel diplomats":"diplomatic","trade war":"economic",tariff:"economic",recession:"economic",inflation:"economic","market crash":"economic",flood:"disaster",flooding:"disaster",wildfire:"disaster",volcano:"disaster",eruption:"disaster",outbreak:"health",epidemic:"health","infection spread":"health","oil spill":"environmental","pipeline explosion":"infrastructure",blackout:"infrastructure","power outage":"infrastructure","internet outage":"infrastructure",derailment:"infrastructure"},Kc={election:"diplomatic",vote:"diplomatic",referendum:"diplomatic",summit:"diplomatic",treaty:"diplomatic",agreement:"diplomatic",negotiation:"diplomatic",talks:"diplomatic",peacekeeping:"diplomatic","humanitarian aid":"diplomatic",ceasefire:"diplomatic","peace treaty":"diplomatic","climate change":"environmental",emissions:"environmental",pollution:"environmental",deforestation:"environmental",drought:"environmental",vaccine:"health",vaccination:"health",disease:"health",virus:"health","public health":"health",covid:"health","interest rate":"economic",gdp:"economic",unemployment:"economic",regulation:"economic"},jc={"major outage":"infrastructure","service down":"infrastructure","global outage":"infrastructure","zero-day":"cyber","critical vulnerability":"cyber","supply chain attack":"cyber","mass layoff":"economic"},qc={outage:"infrastructure",breach:"cyber",hack:"cyber",vulnerability:"cyber",layoff:"economic",layoffs:"economic",antitrust:"economic",monopoly:"economic",ban:"economic",shutdown:"infrastructure"},Yc={ipo:"economic",funding:"economic",acquisition:"economic",merger:"economic",launch:"tech",release:"tech",update:"tech",partnership:"economic",startup:"tech","ai model":"tech","open source":"tech"},Jc=["protein","couples","relationship","dating","diet","fitness","recipe","cooking","shopping","fashion","celebrity","movie","tv show","sports","game","concert","festival","wedding","vacation","travel tips","life hack","self-care","wellness"],Xc=new Set(["war","coup","ban","vote","riot","riots","hack","talks","ipo","gdp","virus","disease","flood"]),Wn=new Map;function Qc(t){let a=Wn.get(t);return a||(a=Xc.has(t)?new RegExp(`\\b${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`):new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),Wn.set(t,a)),a}function ve(t,a){for(const[e,n]of Object.entries(a))if(Qc(e).test(t))return{keyword:e,category:n};return null}function Zc(t,a="full"){const e=t.toLowerCase();if(Jc.some(s=>e.includes(s)))return{level:"info",category:"general",confidence:.3,source:"keyword"};const n=a==="tech";let i=ve(e,Vc);return i?{level:"critical",category:i.category,confidence:.9,source:"keyword"}:(i=ve(e,zc),i?{level:"high",category:i.category,confidence:.8,source:"keyword"}:n&&(i=ve(e,jc),i)?{level:"high",category:i.category,confidence:.75,source:"keyword"}:(i=ve(e,Wc),i?{level:"medium",category:i.category,confidence:.7,source:"keyword"}:n&&(i=ve(e,qc),i)?{level:"medium",category:i.category,confidence:.65,source:"keyword"}:(i=ve(e,Kc),i?{level:"low",category:i.category,confidence:.6,source:"keyword"}:n&&(i=ve(e,Yc),i)?{level:"low",category:i.category,confidence:.55,source:"keyword"}:{level:"info",category:"general",confidence:.3,source:"keyword"})))}const el=new ua("",{fetch:fetch.bind(globalThis)}),Kn={critical:"critical",high:"high",medium:"medium",low:"low",info:"info"};function tl(t){const a=t.classification;if(!a)return null;const e=Kn[a.subcategory]??Kn[a.category]??null;return e?{level:e,category:a.category,confidence:a.confidence||.9,source:"llm"}:null}const Ws=20,al=500;let Pt=!1,Va=null;const ke=[];function jn(){if(Pt||ke.length===0)return;Va=null;const t=ke.splice(0,Ws);if(t.length===0)return;const a=t.map(e=>el.classifyEvent({title:e.title,description:"",source:"",country:""}).then(n=>{e.resolve(tl(n))}).catch(n=>{if(n instanceof zs&&(n.statusCode===429||n.statusCode>=500)){Pt=!0;const i=n.statusCode===429?6e4:3e4;for(console.warn(`[Classify] ${n.statusCode} — pausing AI classification for ${i/1e3}s`);ke.length>0;)ke.shift().resolve(null);setTimeout(()=>{Pt=!1,za()},i)}e.resolve(null)}));Promise.allSettled(a).then(()=>za())}function za(){Va||Pt||ke.length===0||(ke.length>=Ws?jn():Va=setTimeout(jn,al))}function nl(t,a){return new Promise(e=>{ke.push({title:t,variant:a,resolve:e}),za()})}function il(t){const a=t.filter(l=>l.threat);if(a.length===0)return{level:"info",category:"general",confidence:.3,source:"keyword"};let e="info",n=0;for(const l of a){const d=Ga[l.threat.level];d>n&&(n=d,e=l.threat.level)}const i=new Map;for(const l of a){const d=l.threat.category;i.set(d,(i.get(d)??0)+1)}let s="general",r=0;for(const[l,d]of i)d>r&&(r=d,s=l);let o=0,c=0;for(const l of a){const d=l.tier?6-Math.min(l.tier,5):1;o+=l.threat.confidence*d,c+=d}return{level:e,category:s,confidence:c>0?o/c:.5,source:"keyword"}}let ft=null;const sl=[{id:"washington",name:"Washington DC",region:"North America",country:"USA",lat:38.9072,lon:-77.0369,type:"capital",tier:"critical",keywords:["washington","white house","pentagon","state department","congress","capitol hill","biden","trump"]},{id:"moscow",name:"Moscow",region:"Europe",country:"Russia",lat:55.7558,lon:37.6173,type:"capital",tier:"critical",keywords:["moscow","kremlin","putin","russia","russian"]},{id:"beijing",name:"Beijing",region:"Asia",country:"China",lat:39.9042,lon:116.4074,type:"capital",tier:"critical",keywords:["beijing","xi jinping","china","chinese","ccp","prc"]},{id:"brussels",name:"Brussels",region:"Europe",country:"Belgium",lat:50.8503,lon:4.3517,type:"capital",tier:"critical",keywords:["brussels","eu","european union","nato","european commission"]},{id:"london",name:"London",region:"Europe",country:"UK",lat:51.5074,lon:-.1278,type:"capital",tier:"critical",keywords:["london","uk","britain","british","downing street","parliament"]},{id:"jerusalem",name:"Jerusalem",region:"Middle East",country:"Israel",lat:31.7683,lon:35.2137,type:"capital",tier:"major",keywords:["jerusalem","israel","israeli","knesset","netanyahu"]},{id:"telaviv",name:"Tel Aviv",region:"Middle East",country:"Israel",lat:32.0853,lon:34.7818,type:"capital",tier:"major",keywords:["tel aviv","idf","mossad"]},{id:"tehran",name:"Tehran",region:"Middle East",country:"Iran",lat:35.6892,lon:51.389,type:"capital",tier:"major",keywords:["tehran","iran","iranian","khamenei","irgc","ayatollah"]},{id:"kyiv",name:"Kyiv",region:"Europe",country:"Ukraine",lat:50.4501,lon:30.5234,type:"capital",tier:"major",keywords:["kyiv","kiev","ukraine","ukrainian","zelensky","zelenskyy"]},{id:"taipei",name:"Taipei",region:"Asia",country:"Taiwan",lat:25.033,lon:121.5654,type:"capital",tier:"major",keywords:["taipei","taiwan","taiwanese","tsmc"]},{id:"tokyo",name:"Tokyo",region:"Asia",country:"Japan",lat:35.6762,lon:139.6503,type:"capital",tier:"major",keywords:["tokyo","japan","japanese"]},{id:"seoul",name:"Seoul",region:"Asia",country:"South Korea",lat:37.5665,lon:126.978,type:"capital",tier:"major",keywords:["seoul","south korea","korean"]},{id:"pyongyang",name:"Pyongyang",region:"Asia",country:"North Korea",lat:39.0392,lon:125.7625,type:"capital",tier:"major",keywords:["pyongyang","north korea","dprk","kim jong un"]},{id:"newdelhi",name:"New Delhi",region:"Asia",country:"India",lat:28.6139,lon:77.209,type:"capital",tier:"major",keywords:["new delhi","delhi","india","indian","modi"]},{id:"riyadh",name:"Riyadh",region:"Middle East",country:"Saudi Arabia",lat:24.7136,lon:46.6753,type:"capital",tier:"major",keywords:["riyadh","saudi","saudi arabia","mbs","mohammed bin salman"]},{id:"ankara",name:"Ankara",region:"Middle East",country:"Turkey",lat:39.9334,lon:32.8597,type:"capital",tier:"major",keywords:["ankara","turkey","turkish","erdogan"]},{id:"paris",name:"Paris",region:"Europe",country:"France",lat:48.8566,lon:2.3522,type:"capital",tier:"major",keywords:["paris","france","french","macron","elysee"]},{id:"berlin",name:"Berlin",region:"Europe",country:"Germany",lat:52.52,lon:13.405,type:"capital",tier:"major",keywords:["berlin","germany","german","scholz","bundestag"]},{id:"cairo",name:"Cairo",region:"Middle East",country:"Egypt",lat:30.0444,lon:31.2357,type:"capital",tier:"major",keywords:["cairo","egypt","egyptian","sisi"]},{id:"islamabad",name:"Islamabad",region:"Asia",country:"Pakistan",lat:33.6844,lon:73.0479,type:"capital",tier:"major",keywords:["islamabad","pakistan","pakistani"]},{id:"gaza",name:"Gaza",region:"Middle East",country:"Palestine",lat:31.5,lon:34.47,type:"conflict",tier:"critical",keywords:["gaza","hamas","palestinian","rafah","khan younis","gaza strip"]},{id:"westbank",name:"West Bank",region:"Middle East",country:"Palestine",lat:31.9,lon:35.2,type:"conflict",tier:"major",keywords:["west bank","ramallah","jenin","nablus","hebron"]},{id:"ukraine-front",name:"Ukraine Front",region:"Europe",country:"Ukraine",lat:48.5,lon:37.5,type:"conflict",tier:"critical",keywords:["donbas","donbass","donetsk","luhansk","kharkiv","bakhmut","avdiivka","zaporizhzhia","kherson","crimea"]},{id:"taiwan-strait",name:"Taiwan Strait",region:"Asia",country:"International",lat:24.5,lon:119.5,type:"conflict",tier:"critical",keywords:["taiwan strait","formosa","pla","chinese military"]},{id:"southchinasea",name:"South China Sea",region:"Asia",country:"International",lat:12,lon:114,type:"strategic",tier:"critical",keywords:["south china sea","spratlys","paracels","nine-dash line","scarborough"]},{id:"yemen",name:"Yemen",region:"Middle East",country:"Yemen",lat:15.5527,lon:48.5164,type:"conflict",tier:"major",keywords:["yemen","houthi","houthis","sanaa","aden"]},{id:"syria",name:"Syria",region:"Middle East",country:"Syria",lat:34.8,lon:39,type:"conflict",tier:"major",keywords:["syria","syrian","assad","damascus","idlib","aleppo"]},{id:"lebanon",name:"Lebanon",region:"Middle East",country:"Lebanon",lat:33.8547,lon:35.8623,type:"conflict",tier:"major",keywords:["lebanon","lebanese","hezbollah","beirut"]},{id:"sudan",name:"Sudan",region:"Africa",country:"Sudan",lat:15.5007,lon:32.5599,type:"conflict",tier:"major",keywords:["sudan","sudanese","khartoum","rsf","darfur"]},{id:"sahel",name:"Sahel",region:"Africa",country:"International",lat:15,lon:0,type:"conflict",tier:"major",keywords:["sahel","mali","niger","burkina faso","wagner","junta"]},{id:"ethiopia",name:"Ethiopia",region:"Africa",country:"Ethiopia",lat:9.145,lon:40.4897,type:"conflict",tier:"notable",keywords:["ethiopia","ethiopian","tigray","addis ababa","abiy ahmed"]},{id:"myanmar",name:"Myanmar",region:"Asia",country:"Myanmar",lat:19.7633,lon:96.0785,type:"conflict",tier:"notable",keywords:["myanmar","burma","rohingya","junta","naypyidaw"]},{id:"hormuz",name:"Strait of Hormuz",region:"Middle East",country:"International",lat:26.5,lon:56.5,type:"strategic",tier:"critical",keywords:["hormuz","strait of hormuz","persian gulf","gulf"]},{id:"redsea",name:"Red Sea",region:"Middle East",country:"International",lat:20,lon:38,type:"strategic",tier:"critical",keywords:["red sea","bab el-mandeb","bab al-mandab"]},{id:"suez",name:"Suez Canal",region:"Middle East",country:"Egypt",lat:30.5,lon:32.3,type:"strategic",tier:"critical",keywords:["suez","suez canal"]},{id:"baltic",name:"Baltic Sea",region:"Europe",country:"International",lat:58,lon:20,type:"strategic",tier:"major",keywords:["baltic","baltic sea","kaliningrad","gotland"]},{id:"arctic",name:"Arctic",region:"Arctic",country:"International",lat:75,lon:0,type:"strategic",tier:"major",keywords:["arctic","northern sea route","svalbard"]},{id:"blacksea",name:"Black Sea",region:"Europe",country:"International",lat:43,lon:35,type:"strategic",tier:"major",keywords:["black sea","bosphorus","sevastopol","odesa","odessa"]},{id:"un-nyc",name:"United Nations",region:"North America",country:"USA",lat:40.7489,lon:-73.968,type:"organization",tier:"critical",keywords:["united nations","un","security council","general assembly","unsc"]},{id:"nato-hq",name:"NATO HQ",region:"Europe",country:"Belgium",lat:50.8796,lon:4.4284,type:"organization",tier:"critical",keywords:["nato","north atlantic","alliance","stoltenberg"]},{id:"iaea-vienna",name:"IAEA",region:"Europe",country:"Austria",lat:48.2352,lon:16.4156,type:"organization",tier:"major",keywords:["iaea","atomic energy","nuclear watchdog","grossi"]}];function rl(){if(ft)return ft;const t=new Map,a=new Map,e=(n,i)=>{const s=n.toLowerCase(),r=a.get(s)||[];r.includes(i)||(r.push(i),a.set(s,r))};for(const n of sl){t.set(n.id,n);for(const i of n.keywords)e(i,n.id)}return ft={hubs:t,byKeyword:a},ft}function ol(t){const a=rl(),e=[],n=t.toLowerCase(),i=new Set;for(const[s,r]of a.byKeyword){if(s.length<2)continue;const o=s.length<5?new RegExp(`\\b${s}\\b`,"i"):null;if(o?o.test(n):n.includes(s))for(const l of r){if(i.has(l))continue;i.add(l);const d=a.hubs.get(l);if(!d)continue;let m=.5;s.length>=10?m=.9:s.length>=6?m=.75:s.length>=4&&(m=.6),(d.type==="conflict"||d.type==="strategic")&&(m=Math.min(1,m+.1)),d.tier==="critical"&&(m=Math.min(1,m+.1)),e.push({hubId:l,hub:d,confidence:m,matchedKeyword:s})}}return e.sort((s,r)=>r.confidence-s.confidence),e}const cl=[{id:"embeddings",name:"all-MiniLM-L6-v2",hfModel:"Xenova/all-MiniLM-L6-v2",size:23e6,priority:1,required:!0,task:"feature-extraction"},{id:"sentiment",name:"DistilBERT-SST2",hfModel:"Xenova/distilbert-base-uncased-finetuned-sst-2-english",size:65e6,priority:2,required:!1,task:"text-classification"},{id:"summarization",name:"Flan-T5-base",hfModel:"Xenova/flan-t5-base",size:25e7,priority:3,required:!1,task:"text2text-generation"},{id:"summarization-beta",name:"Flan-T5-small",hfModel:"Xenova/flan-t5-small",size:6e7,priority:3,required:!1,task:"text2text-generation"},{id:"ner",name:"BERT-NER",hfModel:"Xenova/bert-base-NER",size:65e6,priority:4,required:!1,task:"token-classification"}],Ie={semanticClusterThreshold:.75,minClustersForML:5,maxTextsPerBatch:20,modelLoadTimeoutMs:6e5,inferenceTimeoutMs:12e4,memoryBudgetMB:200};let Je=null;async function ll(){if(Je)return Je;const t=!gn(),a=ul(),e=await dl(),n=pl(),i=ml(),s=hl(),r=t&&(a||e)&&s>=100;let o;e?o="webgpu":a?o="webgl":o="wasm";const c=i?Math.min(navigator.hardwareConcurrency||4,4):1;return Je={isSupported:r,isDesktop:t,hasWebGL:a,hasWebGPU:e,hasSIMD:n,hasThreads:i,estimatedMemoryMB:s,recommendedExecutionProvider:o,recommendedThreads:c},console.log("[MLCapabilities]",Je),Je}function ul(){try{const t=document.createElement("canvas");return!!(t.getContext("webgl2")||t.getContext("webgl"))}catch{return!1}}async function dl(){var t;try{if(!("gpu"in navigator))return!1;const a=await((t=navigator.gpu)==null?void 0:t.requestAdapter());return a!=null}catch{return!1}}function pl(){try{return typeof WebAssembly.validate=="function"&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))}catch{return!1}}function ml(){return typeof SharedArrayBuffer<"u"}function hl(){if(gn())return 0;const t=navigator.deviceMemory;return t?Math.min(t*256,Ie.memoryBudgetMB):256}function yl(t){return new Worker("/monitor/assets/ml.worker-DlEfEFVb.js",{name:t==null?void 0:t.name})}const Zt=class Zt{constructor(){h(this,"worker",null);h(this,"pendingRequests",new Map);h(this,"requestIdCounter",0);h(this,"isReady",!1);h(this,"capabilities",null);h(this,"loadedModels",new Set);h(this,"readyResolve",null);h(this,"modelProgressCallbacks",new Map)}async init(){return this.isReady?!0:(this.capabilities=await ll(),this.capabilities.isSupported?this.initWorker():(console.log("[MLWorker] ML features disabled (device not supported)"),!1))}initWorker(){return this.worker?Promise.resolve(this.isReady):new Promise(a=>{const e=setTimeout(()=>{this.isReady||(console.error("[MLWorker] Worker failed to become ready"),this.cleanup(),a(!1))},Zt.READY_TIMEOUT_MS);try{this.worker=new yl}catch(n){console.error("[MLWorker] Failed to create worker:",n),this.cleanup(),a(!1);return}this.worker.onmessage=n=>{var s;const i=n.data;if(i.type==="worker-ready"){this.isReady=!0,clearTimeout(e),(s=this.readyResolve)==null||s.call(this),a(!0);return}if(i.type==="model-progress"){const r=this.modelProgressCallbacks.get(i.modelId);r==null||r(i.progress);return}if(i.type==="model-loaded"&&!("id"in i&&i.id)){this.loadedModels.add(i.modelId);return}if(i.type==="error"){const r=i.id?this.pendingRequests.get(i.id):null;r?(clearTimeout(r.timeout),this.pendingRequests.delete(i.id),r.reject(new Error(i.error))):console.error("[MLWorker] Error:",i.error);return}if("id"in i&&i.id){const r=this.pendingRequests.get(i.id);r&&(clearTimeout(r.timeout),this.pendingRequests.delete(i.id),i.type==="model-loaded"?(this.loadedModels.add(i.modelId),r.resolve(!0)):i.type==="model-unloaded"?(this.loadedModels.delete(i.modelId),r.resolve(!0)):i.type==="embed-result"?r.resolve(i.embeddings):i.type==="summarize-result"?r.resolve(i.summaries):i.type==="sentiment-result"?r.resolve(i.results):i.type==="entities-result"?r.resolve(i.entities):i.type==="cluster-semantic-result"?r.resolve(i.clusters):i.type==="status-result"&&r.resolve(i.loadedModels))}},this.worker.onerror=n=>{if(console.error("[MLWorker] Error:",n),!this.isReady){clearTimeout(e),this.cleanup(),a(!1);return}for(const[i,s]of this.pendingRequests)clearTimeout(s.timeout),s.reject(new Error(`Worker error: ${n.message}`)),this.pendingRequests.delete(i)}})}cleanup(){this.worker&&(this.worker.terminate(),this.worker=null),this.isReady=!1,this.pendingRequests.clear(),this.loadedModels.clear()}generateRequestId(){return`ml-${++this.requestIdCounter}-${Date.now()}`}request(a,e,n=Ie.inferenceTimeoutMs){return new Promise((i,s)=>{if(!this.worker||!this.isReady){s(new Error("ML Worker not initialized"));return}const r=this.generateRequestId(),o=setTimeout(()=>{this.pendingRequests.delete(r),s(new Error(`ML request ${a} timed out after ${n}ms`))},n);this.pendingRequests.set(r,{resolve:i,reject:s,timeout:o}),this.worker.postMessage({type:a,id:r,...e})})}async loadModel(a,e){if(!this.isReady)return!1;if(this.loadedModels.has(a))return!0;e&&this.modelProgressCallbacks.set(a,e);try{return await this.request("load-model",{modelId:a},Ie.modelLoadTimeoutMs)}finally{this.modelProgressCallbacks.delete(a)}}async unloadModel(a){if(!this.isReady||!this.loadedModels.has(a))return!1;try{return await this.request("unload-model",{modelId:a})}catch{return this.loadedModels.delete(a),!1}}async unloadOptionalModels(){const a=cl.filter(e=>!e.required);for(const e of a)this.loadedModels.has(e.id)&&await this.unloadModel(e.id)}async embedTexts(a){if(!this.isReady)throw new Error("ML Worker not ready");return this.request("embed",{texts:a})}async summarize(a,e){if(!this.isReady)throw new Error("ML Worker not ready");return this.request("summarize",{texts:a,...e&&{modelId:e}})}async classifySentiment(a){if(!this.isReady)throw new Error("ML Worker not ready");return this.request("classify-sentiment",{texts:a})}async extractEntities(a){if(!this.isReady)throw new Error("ML Worker not ready");return this.request("extract-entities",{texts:a})}async semanticCluster(a,e=Ie.semanticClusterThreshold){if(!this.isReady)throw new Error("ML Worker not ready");return this.request("cluster-semantic",{embeddings:a,threshold:e})}async clusterBySemanticSimilarity(a,e=Ie.semanticClusterThreshold){const n=await this.embedTexts(a.map(s=>s.text));return(await this.semanticCluster(n,e)).map(s=>s.map(r=>{var o;return(o=a[r])==null?void 0:o.id}).filter(r=>r!==void 0))}async getStatus(){return this.isReady?this.request("status",{}):[]}reset(){this.worker&&(this.worker.postMessage({type:"reset"}),this.loadedModels.clear())}terminate(){this.cleanup()}get isAvailable(){var a;return this.isReady&&(((a=this.capabilities)==null?void 0:a.isSupported)??!1)}get mlCapabilities(){return this.capabilities}get loadedModelIds(){return Array.from(this.loadedModels)}isModelLoaded(a){return this.loadedModels.has(a)}};h(Zt,"READY_TIMEOUT_MS",1e4);let Wa=Zt;const O=new Wa,ga={BASE_URL:"/monitor/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Sn="worldmonitor-runtime-feature-toggles",gl="http://127.0.0.1:46123/api/local-env-update",fl="http://127.0.0.1:46123/api/local-validate-secret",fa={aiGroq:!0,aiOpenRouter:!0,economicFred:!0,energyEia:!0,internetOutages:!0,acledConflicts:!0,abuseChThreatIntel:!0,alienvaultOtxThreatIntel:!0,abuseIpdbThreatIntel:!0,wingbitsEnrichment:!0,aisRelay:!0,openskyRelay:!0,finnhubMarkets:!0,nasaFirms:!0,aiOllama:!0},ue=[{id:"aiOllama",name:"Ollama local summarization",description:"Local LLM provider via OpenAI-compatible endpoint (Ollama or LM Studio, desktop-first).",requiredSecrets:["OLLAMA_API_URL","OLLAMA_MODEL"],fallback:"Falls back to Groq, then OpenRouter, then local browser model."},{id:"aiGroq",name:"Groq summarization",description:"Primary fast LLM provider used for AI summary generation.",requiredSecrets:["GROQ_API_KEY"],fallback:"Falls back to OpenRouter, then local browser model."},{id:"aiOpenRouter",name:"OpenRouter summarization",description:"Secondary LLM provider for AI summary fallback.",requiredSecrets:["OPENROUTER_API_KEY"],fallback:"Falls back to local browser model only."},{id:"economicFred",name:"FRED economic indicators",description:"Macro indicators from Federal Reserve Economic Data.",requiredSecrets:["FRED_API_KEY"],fallback:"Economic panel remains available with non-FRED metrics."},{id:"energyEia",name:"EIA oil analytics",description:"US Energy Information Administration oil metrics.",requiredSecrets:["EIA_API_KEY"],fallback:"Oil analytics cards show disabled state."},{id:"internetOutages",name:"Cloudflare outage radar",description:"Internet outages from Cloudflare Radar annotations API.",requiredSecrets:["CLOUDFLARE_API_TOKEN"],fallback:"Outage layer is disabled and map continues with other feeds."},{id:"acledConflicts",name:"ACLED conflicts & protests",description:"Conflict and protest event feeds from ACLED.",requiredSecrets:["ACLED_ACCESS_TOKEN"],fallback:"Conflict/protest overlays are hidden."},{id:"abuseChThreatIntel",name:"abuse.ch cyber IOC feeds",description:"URLhaus and ThreatFox IOC ingestion for the cyber threat layer.",requiredSecrets:["URLHAUS_AUTH_KEY"],fallback:"URLhaus/ThreatFox IOC ingestion is disabled."},{id:"alienvaultOtxThreatIntel",name:"AlienVault OTX threat intel",description:"Optional OTX IOC ingestion for cyber threat enrichment.",requiredSecrets:["OTX_API_KEY"],fallback:"OTX IOC enrichment is disabled."},{id:"abuseIpdbThreatIntel",name:"AbuseIPDB threat intel",description:"Optional AbuseIPDB IOC/reputation enrichment for the cyber threat layer.",requiredSecrets:["ABUSEIPDB_API_KEY"],fallback:"AbuseIPDB enrichment is disabled."},{id:"wingbitsEnrichment",name:"Wingbits aircraft enrichment",description:"Military flight operator/aircraft enrichment metadata.",requiredSecrets:["WINGBITS_API_KEY"],fallback:"Flight map still renders with heuristic-only classification."},{id:"aisRelay",name:"AIS vessel tracking",description:"Live vessel ingestion via AISStream WebSocket.",requiredSecrets:["WS_RELAY_URL","AISSTREAM_API_KEY"],desktopRequiredSecrets:["AISSTREAM_API_KEY"],fallback:"AIS layer is disabled."},{id:"openskyRelay",name:"OpenSky military flights",description:"OpenSky OAuth credentials for military flight data.",requiredSecrets:["VITE_OPENSKY_RELAY_URL","OPENSKY_CLIENT_ID","OPENSKY_CLIENT_SECRET"],desktopRequiredSecrets:["OPENSKY_CLIENT_ID","OPENSKY_CLIENT_SECRET"],fallback:"Military flights fall back to limited/no data."},{id:"finnhubMarkets",name:"Finnhub market data",description:"Real-time stock quotes and market data from Finnhub.",requiredSecrets:["FINNHUB_API_KEY"],fallback:"Stock ticker uses limited free data."},{id:"nasaFirms",name:"NASA FIRMS fire data",description:"Fire Information for Resource Management System satellite data.",requiredSecrets:["NASA_FIRMS_API_KEY"],fallback:"FIRMS fire layer uses public VIIRS feed."}];function Sl(t){const a=ga==null?void 0:ga[t];return typeof a=="string"?a.trim():""}function vl(){try{const t=localStorage.getItem(Sn);if(!t)return{...fa};const a=JSON.parse(t);return{...fa,...a}}catch{return{...fa}}}const wl=new Set(["WS_RELAY_URL","VITE_OPENSKY_RELAY_URL","OLLAMA_API_URL"]);function de(t,a){const e=a.trim();if(!e)return{valid:!1,hint:"Value is required"};if(wl.has(t))try{const n=new URL(e);return t==="OLLAMA_API_URL"?["http:","https:"].includes(n.protocol)?{valid:!0}:{valid:!1,hint:"Must be an http(s) URL"}:["http:","https:","ws:","wss:"].includes(n.protocol)?{valid:!0}:{valid:!1,hint:"Must be an http(s) or ws(s) URL"}}catch{return{valid:!1,hint:"Must be a valid URL"}}return t==="WORLDMONITOR_API_KEY"?e.length<16?{valid:!1,hint:"API key must be at least 16 characters"}:{valid:!0}:{valid:!0}}let vn;const bl=new Promise(t=>{vn=t});R()||vn();const Ka=new Set,ee={featureToggles:vl(),secrets:{}};let St=null;function da(){for(const t of Ka)t()}function Al(){if(R())return;const t=new Set(ue.flatMap(a=>a.requiredSecrets));for(const a of t){const e=Sl(a);e&&(ee.secrets[a]={value:e,source:"env"})}}Al();typeof window<"u"&&window.addEventListener("storage",t=>{if(t.key==="wm-secrets-updated")Xs();else if(t.key===Sn&&t.newValue)try{const a=JSON.parse(t.newValue);Object.assign(ee.featureToggles,a),da()}catch{}});function Ks(t){return Ka.add(t),()=>Ka.delete(t)}function Ce(){return{featureToggles:{...ee.featureToggles},secrets:{...ee.secrets}}}function Gt(t){return ee.featureToggles[t]!==!1}function Be(t){const a=ee.secrets[t];return a?{present:!0,valid:de(t,a.value).valid,source:a.source}:{present:!1,valid:!1,source:"missing"}}function B(t){if(!Gt(t))return!1;if(!R())return!0;const a=ue.find(n=>n.id===t);return a?(a.desktopRequiredSecrets??a.requiredSecrets).every(n=>Be(n).valid):!1}function st(t){return R()&&t.desktopRequiredSecrets?t.desktopRequiredSecrets:t.requiredSecrets}function js(t,a){ee.featureToggles[t]=a,localStorage.setItem(Sn,JSON.stringify(ee.featureToggles)),da()}async function Ut(t,a){if(!R()){console.warn("[runtime-config] Ignoring secret write outside desktop runtime");return}const e=a.trim();e?(await Z("set_secret",{key:t,value:e}),ee.secrets[t]={value:e,source:"vault"}):(await Z("delete_secret",{key:t}),delete ee.secrets[t]);try{await Ys(t,e||"")}catch(n){console.warn(`[runtime-config] Failed to sync ${t} to sidecar`,n)}try{localStorage.setItem("wm-secrets-updated",String(Date.now()))}catch{}da()}async function qs(){return St||(St=Z("get_local_api_token").then(t=>t.trim()||null).catch(t=>{throw St=null,t})),St}async function Ys(t,a){const e=new Headers({"Content-Type":"application/json"}),n=await qs();n&&e.set("Authorization",`Bearer ${n}`);const i=await fetch(gl,{method:"POST",headers:e,body:JSON.stringify({key:t,value:a||null})});if(!i.ok){let s="";try{s=await i.text()}catch{}throw new Error(`Sidecar secret sync failed (${i.status})${s?`: ${s.slice(0,200)}`:""}`)}}async function Cl(t,a){const e=new Headers(a.headers??{}),n=await qs();return n&&e.set("Authorization",`Bearer ${n}`),fetch(t,{...a,headers:e})}async function Js(t,a,e={}){const n=de(t,a);if(!n.valid)return{valid:!1,message:n.hint||"Invalid value"};if(!R())return{valid:!0,message:"Saved"};try{const i=await Cl(fl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t,value:a.trim(),context:e})});let s=null;try{s=await i.json()}catch{}if(!i.ok)return{valid:!1,message:s&&typeof s=="object"?String(s.message||s.error||"Secret validation failed"):`Secret validation failed (${i.status})`};if(!s||typeof s!="object")return{valid:!1,message:"Secret validation returned an invalid response"};const r=!!s.valid,o=String(s.message||(r?"Verified":"Verification failed"));return{valid:r,message:o}}catch(i){return{valid:!0,message:`Saved (could not verify – ${i instanceof Error?i.message:"Secret validation failed"})`}}}async function Xs(){if(R())try{const t=await Z("get_all_secrets"),e=(await Promise.allSettled(Object.entries(t).filter(([,n])=>n&&n.trim().length>0).map(async([n,i])=>{ee.secrets[n]={value:i,source:"vault"};try{await Ys(n,i)}catch(s){console.warn(`[runtime-config] Failed to sync ${n} to sidecar`,s)}}))).filter(n=>n.status==="rejected");e.length>0&&console.warn(`[runtime-config] ${e.length} key(s) failed to sync to sidecar`),da()}catch(t){console.warn("[runtime-config] Failed to load desktop secrets from vault",t)}finally{vn()}}const qn=Object.freeze(Object.defineProperty({__proto__:null,RUNTIME_FEATURES:ue,getEffectiveSecrets:st,getRuntimeConfigSnapshot:Ce,getSecretState:Be,isFeatureAvailable:B,isFeatureEnabled:Gt,loadDesktopSecrets:Xs,secretsReady:bl,setFeatureToggle:js,setSecretValue:Ut,subscribeRuntimeConfig:Ks,validateSecret:de,verifySecretWithApi:Js},Symbol.toStringTag,{value:"Module"})),Qs={GROQ_API_KEY:"groq",OPENROUTER_API_KEY:"openrouter",FRED_API_KEY:"fred",EIA_API_KEY:"eia",CLOUDFLARE_API_TOKEN:"cloudflare",ACLED_ACCESS_TOKEN:"acled",URLHAUS_AUTH_KEY:"urlhaus",OTX_API_KEY:"otx",ABUSEIPDB_API_KEY:"abuseipdb",WINGBITS_API_KEY:"wingbits",WS_RELAY_URL:"ws_relay",VITE_OPENSKY_RELAY_URL:"opensky_relay",OPENSKY_CLIENT_ID:"opensky",OPENSKY_CLIENT_SECRET:"opensky_secret",AISSTREAM_API_KEY:"aisstream",FINNHUB_API_KEY:"finnhub",NASA_FIRMS_API_KEY:"nasa_firms",UC_DP_KEY:"uc_dp",OLLAMA_API_URL:"ollama_url",OLLAMA_MODEL:"ollama_model",WORLDMONITOR_API_KEY:"worldmonitor"},kl=Object.values(Qs).map(t=>`has_${t}`),Il={wm_app_loaded:new Set(["load_time_ms","panel_count"]),wm_panel_viewed:new Set(["panel_id"]),wm_summary_generated:new Set(["provider","model","cached"]),wm_summary_failed:new Set(["last_provider"]),wm_api_keys_configured:new Set(["total_keys_configured","total_features_enabled","enabled_features","ollama_model","platform",...kl]),wm_panel_resized:new Set(["panel_id","new_span"]),wm_variant_switched:new Set(["from","to"]),wm_map_layer_toggled:new Set(["layer_id","enabled","source"]),wm_country_brief_opened:new Set(["country_code"]),wm_theme_changed:new Set(["theme"]),wm_language_changed:new Set(["language"]),wm_feature_toggled:new Set(["feature_id","enabled"]),wm_search_used:new Set(["query_length","result_count"]),wm_map_view_changed:new Set(["view"]),wm_country_selected:new Set(["country_code","country_name","source"]),wm_search_result_selected:new Set(["result_type"]),wm_panel_toggled:new Set(["panel_id","enabled"]),wm_finding_clicked:new Set(["finding_id","finding_source","finding_type","priority"]),wm_update_shown:new Set(["current_version","remote_version"]),wm_update_clicked:new Set(["target_version"]),wm_update_dismissed:new Set(["target_version"]),wm_critical_banner_action:new Set(["action","theater_id"]),wm_download_clicked:new Set(["platform"]),wm_download_banner_dismissed:new Set([]),wm_webcam_selected:new Set(["webcam_id","city","view_mode"]),wm_webcam_region_filtered:new Set(["region"]),wm_deeplink_opened:new Set(["deeplink_type","target"])};function Tl(t,a){const e=Il[t];if(!e)return{};const n={};for(const[i,s]of Object.entries(a))e.has(i)&&(n[i]=s);return n}const El=void 0;R();async function R0(){}function D(t,a){a&&Tl(t,a);{R();return}}function P0(t){D("wm_panel_viewed",{panel_id:t})}function U0(){var n;const t=Ce(),a={};for(const[i,s]of Object.entries(Qs)){const r=t.secrets[i];a[`has_${s}`]=!!(r!=null&&r.value)}const e=Object.entries(t.featureToggles).filter(([,i])=>i).map(([i])=>i);D("wm_api_keys_configured",{platform:R()?"desktop":"web",total_keys_configured:Object.values(a).filter(Boolean).length,...a,enabled_features:e,total_features_enabled:e.length,ollama_model:((n=t.secrets.OLLAMA_MODEL)==null?void 0:n.value)||"none"})}function Ml(t,a,e){D("wm_summary_generated",{provider:t,model:a,cached:e})}function Nl(t){D("wm_summary_failed",{last_provider:t})}function Yn(t,a){D("wm_panel_resized",{panel_id:t,new_span:a})}function L0(t,a,e){D("wm_map_layer_toggled",{layer_id:t,enabled:a,source:e})}function D0(t){D("wm_country_brief_opened",{country_code:t})}function Rl(t,a){D("wm_feature_toggled",{feature_id:t,enabled:a})}function O0(t,a){D("wm_search_used",{query_length:t,result_count:a})}function F0(t){D("wm_map_view_changed",{view:t})}function _0(t,a,e){D("wm_country_selected",{country_code:t,country_name:a,source:e})}function B0(t){D("wm_search_result_selected",{result_type:t})}function x0(t,a){D("wm_panel_toggled",{panel_id:t,enabled:a})}function H0(t,a,e,n){D("wm_finding_clicked",{finding_id:t,finding_source:a,finding_type:e,priority:n})}function $0(t,a){D("wm_update_shown",{current_version:t,remote_version:a})}function G0(t){D("wm_update_clicked",{target_version:t})}function V0(t){D("wm_update_dismissed",{target_version:t})}function z0(t,a){D("wm_critical_banner_action",{action:t,theater_id:a})}function W0(t){D("wm_download_clicked",{platform:t})}function K0(){D("wm_download_banner_dismissed")}function Jn(t,a,e){D("wm_webcam_selected",{webcam_id:t,city:a,view_mode:e})}function Pl(t){D("wm_webcam_region_filtered",{region:t})}function j0(t,a){D("wm_deeplink_opened",{deeplink_type:t,target:a})}let Xn=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Ul=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Ll{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async summarizeArticle(a,e){const i=this.baseURL+"/api/news/v1/summarize-article",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Xn(n.violations)}catch(n){if(n instanceof Xn)throw n}throw new Ul(a.status,`Request failed with status ${a.status}`,e)}}const Zs=new Ll("",{fetch:fetch.bind(globalThis)}),er=M({name:"News Summarization"}),tr={summary:"",provider:"",model:"",cached:!1,skipped:!1,fallback:!0,tokens:0,reason:"",error:"",errorType:""},ne=[{featureId:"aiOllama",provider:"ollama",label:"Ollama"},{featureId:"aiGroq",provider:"groq",label:"Groq AI"},{featureId:"aiOpenRouter",provider:"openrouter",label:"OpenRouter"}];let Vt="none";async function ar(t,a,e,n){if(!B(t.featureId))return null;Vt=t.provider;try{const i=await er.execute(async()=>Zs.summarizeArticle({provider:t.provider,headlines:a,mode:"brief",geoContext:e||"",variant:L,lang:n||"en"}),tr);if(i.skipped||i.fallback)return null;const s=typeof i.summary=="string"?i.summary.trim():"";if(!s)return null;const r=!!i.cached,o=r?"cache":t.provider;return console.log(`[Summarization] ${r?"Redis cache hit":`${t.label} success`}:`,i.model),{summary:s,provider:o,model:i.model||t.provider,cached:r}}catch(i){return console.warn(`[Summarization] ${t.label} failed:`,i),null}}async function Sa(t,a){try{if(!O.isAvailable)return console.log("[Summarization] Browser ML not available"),null;Vt="browser";const n=`Summarize the main themes from these news headlines in 2 sentences: ${t.slice(0,6).map(s=>s.slice(0,80)).join(". ")}`,[i]=await O.summarize([n],a);return!i||i.length<20||i.toLowerCase().includes("summarize")?null:(console.log("[Summarization] Browser T5 success"),{summary:i,provider:"browser",model:a||"t5-small",cached:!1})}catch(e){return console.warn("[Summarization] Browser T5 failed:",e),null}}async function va(t,a,e,n,i,s,r){for(const[o,c]of t.entries()){i==null||i(s+o,r,`Connecting to ${c.label}...`);const l=await ar(c,a,e,n);if(l)return l}return null}async function wn(t,a,e,n="en"){if(!t||t.length<2)return null;Vt="none";const i=await Dl(t,a,e,n);return i?Ml(i.provider,i.model,i.cached):Nl(Vt),i}async function Dl(t,a,e,n){if(Gc){if(O.isAvailable&&O.isModelLoaded("summarization-beta")){const c=1+ne.length;a==null||a(1,c,"Running local AI model (beta)...");const l=await Sa(t,"summarization-beta");if(l){console.log("[BETA] Browser T5-small:",l.summary);const m=ne.find(y=>y.provider==="groq");return m&&ar(m,t,e).then(y=>{y&&console.log("[BETA] Groq comparison:",y.summary)}).catch(()=>{}),l}const d=await va(ne,t,e,void 0,a,2,c);if(d)return d}else{const c=ne.length+2;console.log("[BETA] T5-small not loaded yet, using cloud providers first"),O.isAvailable&&O.loadModel("summarization-beta").catch(()=>{});const l=await va(ne,t,e,void 0,a,1,c);if(l)return l.provider==="groq"&&console.log("[BETA] Groq:",l.summary),l;if(O.isAvailable){a==null||a(ne.length+1,c,"Waiting for local AI model...");const d=await Sa(t,"summarization-beta");if(d)return d}a==null||a(c,c,"No providers available")}return console.warn("[BETA] All providers failed"),null}const i=ne.length+1,s=await va(ne,t,e,n,a,1,i);if(s)return s;a==null||a(i,i,"Loading local AI model...");const r=await Sa(t);return r||(console.warn("[Summarization] All providers failed"),null)}async function Ol(t,a,e){if(!t)return null;ne.length;for(const[n,i]of ne.entries())if(B(i.featureId))try{const s=await er.execute(async()=>Zs.summarizeArticle({provider:i.provider,headlines:[t],mode:"translate",geoContext:"",variant:a,lang:""}),tr);if(s.fallback||s.skipped)continue;const r=typeof s.summary=="string"?s.summary.trim():"";if(r)return r}catch(s){console.warn(`${i.label} translation failed`,s)}return null}const je=3600*1e3,Fl=24*je,Lt=2*je,zt=7*Fl,_l=je,Bl=1800*1e3,Qn=1e4,xl=5,Hl=3,$l=2,nr="worldmonitor-trending-config-v1",Gl=.75,Zn=20,Vl=new Set(["PER","ORG","LOC","MISC"]),Te={blockedTerms:[],minSpikeCount:5,spikeMultiplier:3,autoSummarize:!0},zl=/CVE-\d{4}-\d{4,}/gi,Wl=/APT\d+/gi,Kl=/FIN\d+/gi,jl=["putin","zelensky","xi jinping","biden","trump","netanyahu","khamenei","erdogan","modi","macron","scholz","starmer","orban","milei","kim jong un","al-sisi"],ir=jl.map(t=>({name:t,pattern:new RegExp(`\\b${_a(t)}\\b`,"i")})),se=new Map,Wt=new Map,$e=[],wa=new Set,pe=[];let ae=null,ei=0;function ge(t){return t.trim().toLowerCase()}function ti(t){return/^(cve-\d{4}-\d{4,}|apt\d+|fin\d+)$/i.test(t)?t.toUpperCase():t.toLowerCase()}function sr(){return typeof window<"u"&&typeof window.localStorage<"u"}function ql(t){return Array.from(new Set(t.map(a=>ge(a)).filter(a=>a.length>0)))}function rr(t){return{blockedTerms:ql((t==null?void 0:t.blockedTerms)??Te.blockedTerms),minSpikeCount:Math.max(1,Math.round((t==null?void 0:t.minSpikeCount)??Te.minSpikeCount)),spikeMultiplier:Math.max(1,Number((t==null?void 0:t.spikeMultiplier)??Te.spikeMultiplier)),autoSummarize:(t==null?void 0:t.autoSummarize)??Te.autoSummarize}}function lt(){if(ae)return ae;if(!sr())return ae={...Te},ae;try{const t=localStorage.getItem(nr);if(!t)return ae={...Te},ae;ae=rr(JSON.parse(t))}catch{ae={...Te}}return ae}function Yl(t){if(ae=t,!!sr())try{localStorage.setItem(nr,JSON.stringify(t))}catch{}}function or(t){return new Set([...Array.from(Pc).map(a=>ge(a)),...t.blockedTerms.map(a=>ge(a))])}function Jl(t){const a=[],e=t.toLowerCase();for(const n of t.matchAll(zl))a.push(n[0].toUpperCase());for(const n of t.matchAll(Wl))a.push(n[0].toUpperCase());for(const n of t.matchAll(Kl))a.push(n[0].toUpperCase());for(const{name:n,pattern:i}of ir)i.test(e)&&a.push(n);return a}function Xl(t){return t.replace(/^[BI]-/,"").trim().toUpperCase()}function Ql(t){return t.replace(/^##/,"").replace(/\s+/g," ").replace(/^[^A-Za-z0-9]+|[^A-Za-z0-9]+$/g,"").trim()}function Zl(t){if(!t||t.length===0)return[];const a=[];for(const e of t){const n=Xl(e.type);if(!Vl.has(n)||!Number.isFinite(e.confidence)||e.confidence<Gl)continue;const i=Ql(e.text);i.length<2||/^\d+$/.test(i)||a.push(i)}return a}async function eu(t){if(!O.isAvailable||t.length===0)return t.map(()=>[]);const a=[];for(let e=0;e<t.length;e+=Zn){const n=t.slice(e,e+Zn),i=await O.extractEntities(n);for(const s of i)a.push(Zl(s))}return a}function tu(t){const a=Number.isFinite(t.pubDate.getTime())?t.pubDate.getTime():0;return[t.source.trim().toLowerCase(),(t.link??"").trim().toLowerCase(),t.title.trim().toLowerCase(),a].join("|")}function cr(t){for(const[e,n]of Wt)t-n>zt&&Wt.delete(e);for(const[e,n]of se)n.timestamps=n.timestamps.filter(i=>t-i<=zt),n.headlines=n.headlines.filter(i=>t-i.ingestedAt<=Lt),n.timestamps.length===0&&se.delete(e);for(;pe.length>0&&t-pe[0]>je;)pe.shift();if(se.size<=Qn)return;const a=Array.from(se.entries()).map(([e,n])=>({term:e,latest:n.timestamps[n.timestamps.length-1]??0})).sort((e,n)=>e.latest-n.latest);for(const{term:e}of a){if(se.size<=Qn)break;se.delete(e)}}function lr(t){if(!(t-ei<_l)){for(const a of se.values()){const e=a.timestamps.filter(n=>t-n<=zt).length;a.baseline7d=e/7}ei=t}}function au(t){const a=new Set,e=[];for(const n of t){const i=`${n.source}|${n.title}`.toLowerCase();a.has(i)||(a.add(i),e.push(n))}return e}function nu(t){const a=t.lastIndexOf(" - ");if(a===-1)return t;const e=t.slice(a+3).trim();return e.length>0&&e.length<=60&&!/[.!?]/.test(e)?t.slice(0,a).trim():t}function iu(t){const a=new Map,e=nu(t);for(const n of Hs(e)){const i=ge(n);a.set(i,{display:n,isEntity:!1})}for(const n of Jl(e)){const i=ge(n);a.set(i,{display:n,isEntity:!0})}return a}function ur(t,a,e,n){let i=!1;for(const[s,r]of t){if(n.has(s)||!r.isEntity&&s.length<Hl)continue;let o=se.get(s);o?/^(CVE-\d{4}-\d{4,}|APT\d+|FIN\d+)$/i.test(r.display)&&(o.displayTerm=ti(r.display)):(o={timestamps:[],baseline7d:0,lastSpikeAlertMs:0,displayTerm:ti(r.display),headlines:[]},se.set(s,o)),o.timestamps.push(e),o.headlines.push({title:a.title,source:a.source,link:a.link??"",publishedAt:Number.isFinite(a.pubDate.getTime())?a.pubDate.getTime():e,ingestedAt:e}),i=!0}return i}function dr(t,a,e){const n=[];for(const[i,s]of se){if(e.has(i))continue;const r=s.timestamps.filter(y=>t-y<Lt).length;if(r<a.minSpikeCount)continue;const o=s.baseline7d,c=o>0?r/o:0;if(!(o>0?r>o*a.spikeMultiplier:r>=a.minSpikeCount)||t-s.lastSpikeAlertMs<Bl)continue;const d=au(s.headlines.filter(y=>t-y.ingestedAt<=Lt)),m=new Set(d.map(y=>y.source)).size;m<$l||(s.lastSpikeAlertMs=t,n.push({term:s.displayTerm,count:r,baseline:o,multiplier:c,windowMs:Lt,uniqueSources:m,headlines:d}))}return n.sort((i,s)=>s.count-i.count)}function su(t){for(;pe.length>0&&t-pe[0]>je;)pe.shift();return pe.length<xl}function ru(t){for($e.push(t);$e.length>200;)$e.shift()}function ai(t,a){if(t.includes(" ")&&t.length>5||/^\d/.test(t))return!0;const e=a.slice(0,8).map(r=>r.title),n=new RegExp(`\\b${_a(t)}\\b`,"gi");let i=0,s=0;for(const r of e)for(const o of r.matchAll(n)){const c=o.index??0;c!==0&&(s++,/[A-Z]/.test(r[c])&&i++)}return s===0?e.some(r=>{const o=r.match(new RegExp(`\\b${_a(t)}\\b`,"gi"));return o==null?void 0:o.some(c=>c===c.toUpperCase()&&c.length>=2)}):i/s>=.5}async function ou(t,a){const e=t.toLowerCase();if(/^(cve-\d{4}-\d{4,}|apt\d+|fin\d+)$/i.test(t))return!0;for(const{pattern:n}of ir)if(n.test(t))return!0;if(!O.isAvailable)return ai(t,a);try{const n=a.slice(0,6).map(s=>s.title),i=await O.extractEntities(n);for(const s of i)for(const r of s)if(r.text.toLowerCase().includes(e)||e.includes(r.text.toLowerCase()))return!0;return!1}catch{return ai(t,a)}}async function pr(t,a){const e=ge(t.term);if(!wa.has(e)){wa.add(e);try{if(!await ou(t.term,t.headlines)){console.log(`[TrendingKeywords] Suppressed non-entity term: "${t.term}"`);return}const i=Math.round(t.windowMs/je*10)/10,s=t.headlines.slice(0,6).map(m=>m.title),r=t.baseline>0?`${t.multiplier.toFixed(1)}x baseline`:"cold-start threshold";let o=`${t.term} is appearing across ${t.uniqueSources} sources (${t.count} mentions in ${i}h).`;const c=Date.now();if(a.autoSummarize&&s.length>=2&&su(c)){pe.push(c);const m=await wn(s,void 0,`Breaking: "${t.term}" mentioned ${t.count}x in ${i}h (${r})`);m!=null&&m.summary&&(o=m.summary)}const l=t.multiplier>=5?.9:t.multiplier>=3?.75:.6,d=t.baseline>0?Math.min(.95,l):Math.min(.8,.45+t.count/20);ru({id:$s(),type:"keyword_spike",title:u("alerts.trending",{term:t.term,count:t.count,hours:i}),description:o,confidence:d,timestamp:new Date,data:{term:t.term,newsVelocity:t.count,relatedTopics:[t.term],baseline:t.baseline,multiplier:t.baseline>0?t.multiplier:void 0,sourceCount:t.uniqueSources,explanation:`${t.term}: ${t.count} mentions across ${t.uniqueSources} sources (${r})`}})}catch(n){console.warn("[TrendingKeywords] Failed to handle spike:",n)}finally{wa.delete(e)}}}async function cu(t,a){if(!(t.length===0||!O.isAvailable))try{const e=t.map(l=>l.headline.title),n=await eu(e),i=lt(),s=or(i);let r=!1;for(let l=0;l<t.length;l+=1){const d=t[l],m=n[l]??[];if(m.length===0)continue;const y=new Map;for(const f of m){const g=ge(f);!g||d.baseTermKeys.has(g)||y.set(g,{display:f,isEntity:!0})}y.size!==0&&(r=ur(y,d.headline,a,s)||r)}if(!r)return;const o=Date.now();cr(o),lr(o);const c=dr(o,i,s);for(const l of c)pr(l,i).catch(()=>{})}catch(e){console.debug("[TrendingKeywords] ML entity enrichment skipped:",e)}}function lu(t){var r;if(t.length===0)return;const a=Date.now(),e=lt(),n=or(e),i=[];for(const o of t){if(!((r=o.title)!=null&&r.trim()))continue;const c=tu(o),l=Wt.get(c);if(l&&a-l<=zt)continue;Wt.set(c,a);const d=iu(o.title);ur(d,o,a,n),i.push({headline:o,baseTermKeys:new Set(d.keys())})}cr(a),lr(a);const s=dr(a,e,n);for(const o of s)pr(o,e).catch(()=>{});cu(i,a)}function J0(){return $e.length===0?[]:$e.splice(0,$e.length)}function uu(t){const a=rr({...lt(),...t,blockedTerms:t.blockedTerms??lt().blockedTerms});return Yl(a),{...a}}function X0(t){const a=lt(),e=new Set(a.blockedTerms);return e.add(ge(t)),uu({blockedTerms:Array.from(e)})}const du=300*1e3,pu=2,ja=100,qa="::",fe=new Map,le=new Map,mr=600*1e3,ni=1800*1e3,mu=60*1e3,hu=L==="finance"?40:L==="tech"?60:80,yu=L==="finance"||L==="tech"?2:3,vt=new Map,Xe=[];function gu(t){return t.map(a=>({...a,pubDate:a.pubDate.toISOString()}))}function fu(t){return t.map(a=>({...a,pubDate:new Date(a.pubDate)}))}function Su(t,a){return`${t}${qa}${a}`}function bn(t){const a=t.lastIndexOf(qa);return a===-1?{feedName:t,lang:"en"}:{feedName:t.slice(0,a),lang:t.slice(a+qa.length)}}function hr(t){return`feed:${t}`}async function ii(t){var e;const a=await ia(t);return(e=a==null?void 0:a.data)!=null&&e.length?fu(a.data):null}async function ba(t){const a=hr(t),e=await ii(a);if(e)return e;const{feedName:n,lang:i}=bn(t);return i!=="en"?null:ii(`feed:${n}`)}function vu(){const t=Date.now();for(const[a,e]of le)t-e.timestamp>mr*2&&le.delete(a);for(const[a,e]of fe)e.cooldownUntil>0&&t>e.cooldownUntil&&fe.delete(a);if(le.size>ja){const a=Array.from(le.entries()).sort((n,i)=>n[1].timestamp-i[1].timestamp),e=a.slice(0,a.length-ja);for(const[n]of e)le.delete(n)}}function wu(t){const a=fe.get(t);return a?Date.now()<a.cooldownUntil?!0:(a.cooldownUntil>0&&fe.delete(t),!1):!1}function si(t){const a=fe.get(t)||{count:0,cooldownUntil:0};if(a.count++,a.count>=pu){a.cooldownUntil=Date.now()+du;const{feedName:e,lang:n}=bn(t);console.warn(`[RSS] ${e} (${n}) on cooldown for 5 minutes after ${a.count} failures`)}fe.set(t,a)}function bu(t){fe.delete(t)}function Q0(){const t=J(),a=new Map;for(const[e,n]of fe){const{feedName:i,lang:s}=bn(e);s===t&&a.set(i,n)}return a}function Au(t){return t.trim().toLowerCase().replace(/\s+/g," ")}function Cu(t){const a=Date.now();for(;Xe.length>0&&a-Xe[0]>mu;)Xe.shift();for(const[i,s]of vt)a-s>ni&&vt.delete(i);if(Xe.length>=hu)return!1;const e=Au(t),n=vt.get(e);return n&&a-n<ni?!1:(Xe.push(a),vt.set(e,a),!0)}async function ku(t){le.size>ja/2&&vu();const a=J(),e=Su(t.name,a);if(wu(e)){const i=le.get(e);return i?i.items:await ba(e)||[]}const n=le.get(e);if(n&&Date.now()-n.timestamp<mr)return n.items;try{let i=typeof t.url=="string"?t.url:t.url.en;if(typeof t.url!="string"&&(i=t.url[a]||t.url.en||Object.values(t.url)[0]||""),!i)throw new Error(`No URL found for feed ${t.name}`);const s=await sc(i);if(!s.ok)throw new Error(`HTTP ${s.status}`);const r=await s.text(),c=new DOMParser().parseFromString(r,"text/xml");if(c.querySelector("parsererror")){console.warn(`Parse error for ${t.name}`),si(e);const g=await ba(e);return(n==null?void 0:n.items)||g||[]}let d=c.querySelectorAll("item");const m=d.length===0;m&&(d=c.querySelectorAll("entry"));const y=Array.from(d).slice(0,5).map(g=>{var K,Pe,Ue,yt,ma;const v=((K=g.querySelector("title"))==null?void 0:K.textContent)||"";let b="";if(m){const Le=g.querySelector("link[href]");b=(Le==null?void 0:Le.getAttribute("href"))||""}else b=((Pe=g.querySelector("link"))==null?void 0:Pe.textContent)||"";const C=m?((Ue=g.querySelector("published"))==null?void 0:Ue.textContent)||((yt=g.querySelector("updated"))==null?void 0:yt.textContent)||"":((ma=g.querySelector("pubDate"))==null?void 0:ma.textContent)||"",A=C?new Date(C):new Date,k=Number.isNaN(A.getTime())?new Date:A,I=Zc(v,L),N=I.level==="critical"||I.level==="high",x=ol(v)[0];return{source:t.name,title:v,link:b,pubDate:k,isAlert:N,threat:I,...x&&{lat:x.hub.lat,lon:x.hub.lon,locationName:x.hub.name},lang:t.lang}});le.set(e,{items:y,timestamp:Date.now()}),sa(hr(e),gu(y)),bu(e),lu(y.map(g=>({title:g.title,pubDate:g.pubDate,source:g.source,link:g.link})));const f=y.filter(g=>g.threat.source==="keyword").sort((g,v)=>v.pubDate.getTime()-g.pubDate.getTime()).slice(0,yu);for(const g of f)Cu(g.title)&&nl(g.title,L).then(v=>{v&&v.confidence>g.threat.confidence&&(g.threat=v,g.isAlert=v.level==="critical"||v.level==="high")}).catch(()=>{});return y}catch(i){console.error(`Failed to fetch ${t.name}:`,i),si(e);const s=await ba(e);return(n==null?void 0:n.items)||s||[]}}async function Z0(t,a={}){var m;const n=a.batchSize??5,i=J(),s=t.filter(y=>!y.lang||y.lang===i),r=xc(s,n),o=[];let c=0;const l=()=>[...o].sort((y,f)=>f.pubDate.getTime()-y.pubDate.getTime()),d=y=>{if(c+=1,o.length<20){o.push(y),o.length===20&&o.sort((g,v)=>g.pubDate.getTime()-v.pubDate.getTime());return}if(!(y.pubDate.getTime()<=o[0].pubDate.getTime())){o[0]=y;for(let g=0;g<o.length-1&&!(o[g].pubDate.getTime()<=o[g+1].pubDate.getTime());g+=1)[o[g],o[g+1]]=[o[g+1],o[g]]}};for(const y of r)(await Promise.all(y.map(ku))).flat().forEach(d),(m=a.onBatch)==null||m.call(a,l());return c>0&&$(async()=>{const{dataFreshness:y}=await Promise.resolve().then(()=>Dd);return{dataFreshness:y}},void 0).then(({dataFreshness:y})=>{y.recordUpdate("rss",c)}),l()}let ri=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Iu=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class An{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listMarketQuotes(a,e){const i=this.baseURL+"/api/market/v1/list-market-quotes",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listCryptoQuotes(a,e){const i=this.baseURL+"/api/market/v1/list-crypto-quotes",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listCommodityQuotes(a,e){const i=this.baseURL+"/api/market/v1/list-commodity-quotes",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getSectorSummary(a,e){const i=this.baseURL+"/api/market/v1/get-sector-summary",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listStablecoinMarkets(a,e){const i=this.baseURL+"/api/market/v1/list-stablecoin-markets",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listEtfFlows(a,e){const i=this.baseURL+"/api/market/v1/list-etf-flows",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getCountryStockIndex(a,e){const i=this.baseURL+"/api/market/v1/get-country-stock-index",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new ri(n.violations)}catch(n){if(n instanceof ri)throw n}throw new Iu(a.status,`Request failed with status ${a.status}`,e)}}const yr=new An("",{fetch:(...t)=>globalThis.fetch(...t)}),Tu=M({name:"Market Quotes",cacheTtlMs:0}),Eu=M({name:"Crypto Quotes"}),Mu={quotes:[],finnhubSkipped:!1,skipReason:""},Nu={quotes:[]};function Ru(t,a){return{symbol:t.symbol,name:(a==null?void 0:a.name)||t.name,display:(a==null?void 0:a.display)||t.display||t.symbol,price:t.price!=null?t.price:null,change:t.change??null,sparkline:t.sparkline.length>0?t.sparkline:void 0}}function Pu(t){return{name:t.name,symbol:t.symbol,price:t.price,change:t.change,sparkline:t.sparkline.length>0?t.sparkline:void 0}}const oi=new Map;function Uu(t){return[...t].sort().join(",")}async function av(t,a={}){var c;const e=t.map(l=>l.symbol),n=Uu(e),i=new Map(t.map(l=>[l.symbol,l])),s=await Tu.execute(async()=>yr.listMarketQuotes({symbols:e}),Mu),r=s.quotes.map(l=>{const d=i.get(l.symbol);return Ru(l,d)});return r.length>0&&((c=a.onBatch)==null||c.call(a,r)),r.length>0&&oi.set(n,r),{data:r.length>0?r:oi.get(n)||[],skipped:s.finnhubSkipped||void 0,reason:s.skipReason||void 0}}let ci=[];async function nv(){const a=(await Eu.execute(async()=>yr.listCryptoQuotes({ids:[]}),Nu)).quotes.map(Pu).filter(e=>e.price>0);return a.length>0?(ci=a,a):ci}let li=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Lu=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Du{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listPredictionMarkets(a,e){const i=this.baseURL+"/api/prediction/v1/list-prediction-markets",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new li(n.violations)}catch(n){if(n instanceof li)throw n}throw new Lu(a.status,`Request failed with status ${a.status}`,e)}}const gr="https://gamma-api.polymarket.com",Ou=M({name:"Polymarket"}),Fu=new Du("",{fetch:fetch.bind(globalThis)});let X=null,wt=null,ui=!1;function Ya(){ui||(ui=!0,console.log("[Polymarket] Direct fetch blocked by Cloudflare, using proxy"))}async function _u(){return X!==null?X:(wt||(wt=fetch(`${gr}/events?closed=false&order=volume&ascending=false&limit=1`,{headers:{Accept:"application/json"}}).then(t=>(X=t.ok,X?console.log("[Polymarket] Direct browser fetch working"):Ya(),X)).catch(()=>(X=!1,Ya(),!1)).finally(()=>{wt=null})),wt)}async function fr(t,a){var r;const e=new URLSearchParams(a).toString();if(X===!0||X===null&&await _u())try{const o=await fetch(`${gr}/${t}?${e}`,{headers:{Accept:"application/json"}});if(o.ok)return X!==!0&&console.log("[Polymarket] Direct browser fetch working"),X=!0,o}catch{X=!1,Ya()}if(R())try{const o=await Ps("fetch_polymarket",{path:t,params:e});if(o)return new Response(o,{status:200,headers:{"Content-Type":"application/json"}})}catch{}const i={endpoint:t};for(const[o,c]of Object.entries(a))i[o==="tag_slug"?"tag":o]=c;const s=new URLSearchParams(i).toString();try{const o=await Fu.listPredictionMarkets({category:a.tag_slug??"",query:"",pagination:{pageSize:parseInt(a.limit??"50",10),cursor:""}});if(o.markets&&o.markets.length>0){const c=o.markets.map(l=>({question:l.title,outcomePrices:JSON.stringify([String(l.yesPrice),String(1-l.yesPrice)]),volumeNum:l.volume,slug:l.id}));return new Response(JSON.stringify(t==="events"?[{id:"sebuf",title:(r=c[0])==null?void 0:r.question,slug:"",volume:0,markets:c}]:c),{status:200,headers:{"Content-Type":"application/json"}})}}catch{}return fetch(`https://worldmonitor.app/api/polymarket?${s}`)}const Bu=["politics","geopolitics","elections","world","ukraine","china","middle-east","europe","economy","fed","inflation"],xu=["ai","tech","crypto","science","elon-musk","business","economy"],Hu=["nba","nfl","mlb","nhl","fifa","world cup","super bowl","championship","playoffs","oscar","grammy","emmy","box office","movie","album","song","streamer","influencer","celebrity","kardashian","bachelor","reality tv","mvp","touchdown","home run","goal scorer","academy award","bafta","golden globe","cannes","sundance","documentary","feature film","tv series","season finale"];function Cn(t){const a=t.toLowerCase();return Hu.some(e=>a.includes(e))}function kn(t){try{const a=t.outcomePrices;if(a){const e=JSON.parse(a);if(e.length>=1){const n=parseFloat(e[0]);if(!isNaN(n))return n*100}}}catch{}return 50}function ut(t,a){if(t)return`https://polymarket.com/event/${t}`;if(a)return`https://polymarket.com/market/${a}`}async function Sr(t,a=30){const e=await fr("events",{tag_slug:t,closed:"false",order:"volume",ascending:"false",limit:String(a)});if(!e.ok)return[];const n=await e.json();return Array.isArray(n)?n:[]}async function $u(){const t=await fr("markets",{closed:"false",order:"volume",ascending:"false",limit:"100"});return t.ok?(await t.json()).filter(e=>e.question&&!Cn(e.question)).map(e=>{const n=kn(e),i=e.volumeNum??(e.volume?parseFloat(e.volume):0);return{title:e.question,yesPrice:n,volume:i,url:ut(void 0,e.slug)}}):[]}async function rv(){return Ou.execute(async()=>{const t=L==="tech"?xu:Bu,a=await Promise.all(t.map(s=>Sr(s,20))),e=new Set,n=[];for(const s of a)for(const r of s){if(r.closed||e.has(r.id)||(e.add(r.id),Cn(r.title)))continue;const o=r.volume??0;if(!(o<1e3))if(r.markets&&r.markets.length>0){const c=r.markets.reduce((d,m)=>{const y=m.volumeNum??(m.volume?parseFloat(m.volume):0),f=d.volumeNum??(d.volume?parseFloat(d.volume):0);return y>f?m:d}),l=kn(c);n.push({title:c.question||r.title,yesPrice:l,volume:o,url:ut(r.slug)})}else n.push({title:r.title,yesPrice:50,volume:o,url:ut(r.slug)})}if(n.length<15){const s=await $u();for(const r of s){if(n.length>=20)break;n.some(o=>o.title===r.title)||n.push(r)}}const i=n.filter(s=>Math.abs(s.yesPrice-50)>5||s.volume&&s.volume>5e4).sort((s,r)=>(r.volume??0)-(s.volume??0)).slice(0,15);if(i.length===0&&n.length===0)throw new Error("No markets returned — upstream may be down");return i},[])}const Gu={"United States":["usa","politics","elections"],Russia:["russia","geopolitics","ukraine"],Ukraine:["ukraine","geopolitics","russia"],China:["china","geopolitics","asia"],Taiwan:["china","asia","geopolitics"],Israel:["middle-east","geopolitics"],Palestine:["middle-east","geopolitics"],Iran:["middle-east","geopolitics"],"Saudi Arabia":["middle-east","geopolitics"],Turkey:["middle-east","europe"],India:["asia","geopolitics"],Japan:["asia","geopolitics"],"South Korea":["asia","geopolitics"],"North Korea":["asia","geopolitics"],"United Kingdom":["europe","politics"],France:["europe","politics"],Germany:["europe","politics"],Italy:["europe","politics"],Poland:["europe","geopolitics"],Brazil:["world","politics"],"United Arab Emirates":["middle-east","world"],Mexico:["world","politics"],Argentina:["world","politics"],Canada:["world","politics"],Australia:["world","politics"],"South Africa":["world","politics"],Nigeria:["world","politics"],Egypt:["middle-east","world"],Pakistan:["asia","geopolitics"],Syria:["middle-east","geopolitics"],Yemen:["middle-east","geopolitics"],Lebanon:["middle-east","geopolitics"],Iraq:["middle-east","geopolitics"],Afghanistan:["geopolitics","world"],Venezuela:["world","politics"],Colombia:["world","politics"],Sudan:["world","geopolitics"],Myanmar:["asia","geopolitics"],Philippines:["asia","world"],Indonesia:["asia","world"],Thailand:["asia","world"],Vietnam:["asia","world"]};function Vu(t){const a=t.toLowerCase(),e=[a],i={russia:["russian","moscow","kremlin","putin"],ukraine:["ukrainian","kyiv","kiev","zelensky","zelenskyy"],china:["chinese","beijing","xi jinping","prc"],taiwan:["taiwanese","taipei","tsmc"],"united states":["american","usa","biden","trump","washington"],israel:["israeli","netanyahu","idf","tel aviv"],palestine:["palestinian","gaza","hamas","west bank"],iran:["iranian","tehran","khamenei","irgc"],"north korea":["dprk","pyongyang","kim jong un"],"south korea":["korean","seoul"],"saudi arabia":["saudi","riyadh","mbs"],"united kingdom":["british","uk","britain","london"],france:["french","paris","macron"],germany:["german","berlin","scholz"],turkey:["turkish","ankara","erdogan"],india:["indian","delhi","modi"],japan:["japanese","tokyo"],brazil:["brazilian","brasilia","lula","bolsonaro"],"united arab emirates":["uae","emirati","dubai","abu dhabi"],syria:["syrian","damascus","assad"],yemen:["yemeni","houthi","sanaa"],lebanon:["lebanese","beirut","hezbollah"],egypt:["egyptian","cairo","sisi"],pakistan:["pakistani","islamabad"],sudan:["sudanese","khartoum"],myanmar:["burmese","burma"]}[a];return i&&e.push(...i),e}async function ov(t){const a=Gu[t]??["geopolitics","world"],e=[...new Set(a)].slice(0,3),n=Vu(t);try{const i=await Promise.all(e.map(o=>Sr(o,30))),s=new Set,r=[];for(const o of i)for(const c of o){if(c.closed||s.has(c.id))continue;s.add(c.id);const l=c.title.toLowerCase(),d=n.some(m=>l.includes(m));if(!(!d&&!(c.markets??[]).map(y=>(y.question??"").toLowerCase()).some(y=>n.some(f=>y.includes(f))))&&!Cn(c.title))if(c.markets&&c.markets.length>0){const m=d?c.markets:c.markets.filter(f=>n.some(g=>(f.question??"").toLowerCase().includes(g)));if(m.length===0)continue;const y=m.reduce((f,g)=>{const v=g.volumeNum??(g.volume?parseFloat(g.volume):0),b=f.volumeNum??(f.volume?parseFloat(f.volume):0);return v>b?g:f});r.push({title:y.question||c.title,yesPrice:kn(y),volume:c.volume??0,url:ut(c.slug)})}else r.push({title:c.title,yesPrice:50,volume:c.volume??0,url:ut(c.slug)})}return r.sort((o,c)=>(c.volume??0)-(o.volume??0)).slice(0,5)}catch(i){return console.error(`[Polymarket] fetchCountryMarkets(${t}) failed:`,i),[]}}let di=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},zu=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Wu{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listEarthquakes(a,e){const i=this.baseURL+"/api/seismology/v1/list-earthquakes",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new di(n.violations)}catch(n){if(n instanceof di)throw n}throw new zu(a.status,`Request failed with status ${a.status}`,e)}}const Ku=new Wu("",{fetch:fetch.bind(globalThis)}),ju=M({name:"Seismology"}),qu={earthquakes:[]};async function uv(){return(await ju.execute(async()=>Ku.listEarthquakes({minMagnitude:0}),qu)).earthquakes}function Yu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ju(t){const a=new Map,e=new Map,n=new Map,i=new Map,s=new Map;for(const r of t){a.set(r.id,r);for(const o of r.aliases)e.set(o.toLowerCase(),r.id);e.set(r.id.toLowerCase(),r.id),e.set(r.name.toLowerCase(),r.id);for(const o of r.keywords){const c=o.toLowerCase();n.has(c)||n.set(c,new Set),n.get(c).add(r.id)}if(r.sector){const o=r.sector.toLowerCase();i.has(o)||i.set(o,new Set),i.get(o).add(r.id)}s.has(r.type)||s.set(r.type,new Set),s.get(r.type).add(r.id)}return{byId:a,byAlias:e,byKeyword:n,bySector:i,byType:s}}let Aa=null;function dt(){return Aa||(Aa=Ju($c)),Aa}function Xu(t){const a=dt(),e=a.byId.get(t);return e!=null&&e.related?e.related.map(n=>a.byId.get(n)).filter(n=>!!n):[]}function Qu(t){const a=dt(),e=[],n=new Set,i=t.toLowerCase();for(const[s,r]of a.byAlias){if(s.length<3)continue;const o=new RegExp(`\\b${Yu(s)}\\b`,"gi");let c;for(;(c=o.exec(t))!==null;)if(!n.has(r)){e.push({entityId:r,matchedText:c[0],matchType:"alias",confidence:s.length>4?.95:.85,position:c.index}),n.add(r);break}}for(const[s,r]of a.byKeyword)if(!(s.length<3)&&i.includes(s))for(const o of r){if(n.has(o))continue;const c=i.indexOf(s);e.push({entityId:o,matchedText:s,matchType:"keyword",confidence:.7,position:c}),n.add(o)}return e.sort((s,r)=>r.confidence-s.confidence||s.position-r.position)}function Zu(t){const e=dt().byId.get(t);return(e==null?void 0:e.name)??t}function pi(t){return Qu(t).map(e=>({entityId:e.entityId,name:Zu(e.entityId),matchedText:e.matchedText,matchType:e.matchType,confidence:e.confidence}))}function ed(t){var r;const a=pi(t.primaryTitle),e=new Map;for(const o of a)e.has(o.entityId)||e.set(o.entityId,o);if(t.allItems&&t.allItems.length>1)for(const o of t.allItems.slice(0,5)){const c=pi(o.title);for(const l of c)e.has(l.entityId)||(l.confidence*=.9,e.set(l.entityId,l))}const n=Array.from(e.values()).sort((o,c)=>c.confidence-o.confidence),i=(r=n[0])==null?void 0:r.entityId,s=new Set;for(const o of n){const c=Xu(o.entityId);for(const l of c)s.add(l.id)}return{clusterId:t.id,title:t.primaryTitle,entities:n,primaryEntity:i,relatedEntityIds:Array.from(s)}}function td(t){const a=new Map;for(const e of t){const n=ed(e);a.set(e.id,n)}return a}function ad(t){const e=[...t].sort((n,i)=>n.pubDate.getTime()-i.pubDate.getTime())[0];return`${e.pubDate.getTime()}-${e.title.slice(0,20).replace(/\W/g,"")}`}function nd(t,a){if(t.length===0)return[];const e=t.map(c=>({...c,tier:c.tier??a(c.source)})),n=new Map,i=[],s=new Map;for(const c of e){const l=Hs(c.title);n.set(c.title,l),i.push(l)}for(let c=0;c<i.length;c++){const l=i[c];for(const d of l){const m=s.get(d);m?m.push(c):s.set(d,[c])}}const r=[],o=new Set;for(let c=0;c<e.length;c++){if(o.has(c))continue;const d=[e[c]];o.add(c);const m=i[c],y=new Set;for(const g of m){const v=s.get(g);if(v)for(const b of v)b>c&&y.add(b)}const f=Array.from(y).sort((g,v)=>g-v);for(const g of f){if(o.has(g))continue;const v=e[g],b=i[g];Uc(m,b)>=Nc&&(d.push(v),o.add(g))}r.push(d)}return r.map(c=>{var C;const l=[...c].sort((A,k)=>{const I=A.tier-k.tier;return I!==0?I:k.pubDate.getTime()-A.pubDate.getTime()}),d=l[0],m=c.map(A=>A.pubDate.getTime()),y=l.slice(0,3).map(A=>({name:A.source,tier:A.tier,url:A.link})),f=il(c),g=c.filter(A=>A.lat!=null&&A.lon!=null);let v,b;if(g.length>0){const A=new Map;for(const I of g){const N=`${I.lat},${I.lon}`,G=A.get(N)||{lat:I.lat,lon:I.lon,count:0};G.count++,A.set(N,G)}const k=Array.from(A.values()).sort((I,N)=>N.count-I.count)[0];v=k.lat,b=k.lon}return{id:ad(c),primaryTitle:d.title,primarySource:d.source,primaryLink:d.link,sourceCount:c.length,topSources:y,allItems:c,firstSeen:new Date(Math.min(...m)),lastUpdated:new Date(Math.max(...m)),isAlert:c.some(A=>A.isAlert),monitorColor:(C=c.find(A=>A.monitorColor))==null?void 0:C.monitorColor,threat:f,...v!=null&&{lat:v,lon:b},lang:d.lang}}).sort((c,l)=>l.lastUpdated.getTime()-c.lastUpdated.getTime())}async function dv(t){const a=nd(t,Ht);if(!O.isAvailable||a.length<Ie.minClustersForML)return a;try{const e=a.map(i=>({id:i.id,text:i.primaryTitle})),n=await O.clusterBySemanticSimilarity(e,Ie.semanticClusterThreshold);return id(a,n)}catch(e){return console.warn("[Clustering] Semantic clustering failed, using Jaccard only:",e),a}}function id(t,a){const e=new Map(t.map(s=>[s.id,s])),n=[],i=new Set;for(const s of a){if(s.length===0)continue;const r=s.map(A=>e.get(A)).filter(A=>A!==void 0&&!i.has(A.id));if(r.length===0)continue;r.forEach(A=>i.add(A.id));const o=r[0];if(!o)continue;if(r.length===1){n.push(o);continue}const c=[...r].sort((A,k)=>{const I=Ht(A.primarySource),N=Ht(k.primarySource);return I!==N?I-N:k.lastUpdated.getTime()-A.lastUpdated.getTime()}),l=c[0];if(!l)continue;const d=c.slice(1),m=[...l.allItems],y=new Map(l.topSources.map(A=>[A.url,A]));for(const A of d){m.push(...A.allItems);for(const k of A.topSources)y.has(k.url)||y.set(k.url,k)}const f=Array.from(y.values()).sort((A,k)=>A.tier-k.tier).slice(0,5),g=m.map(A=>A.pubDate.getTime()),v=new Date(Math.min(...g)),b=new Date(Math.max(...g)),C={id:l.id,primaryTitle:l.primaryTitle,primaryLink:l.primaryLink,primarySource:l.primarySource,sourceCount:m.length,topSources:f,allItems:m,firstSeen:v,lastUpdated:b,isAlert:m.some(A=>A.isAlert),monitorColor:l.monitorColor,velocity:l.velocity};n.push(C)}for(const s of t)i.has(s.id)||n.push(s);return n.sort((s,r)=>r.lastUpdated.getTime()-s.lastUpdated.getTime()),n}const vr=600,sd=3,rd={pipeline:["pipeline","oil pipeline","gas pipeline","fuel pipeline","pipeline leak","pipeline spill"],cable:["cable","undersea cable","subsea cable","fiber cable","fiber optic","internet cable"],datacenter:["datacenter","data center","server farm","colocation","hyperscale"],base:["military base","airbase","naval base","base","garrison"],nuclear:["nuclear","reactor","uranium","enrichment","nuclear plant"]};function wr(t){return t.map(a=>a.toLowerCase())}function od(t){const a=wr(t);return Object.entries(rd).filter(([,n])=>a.some(i=>n.some(s=>i.includes(s)))).map(([n])=>n)}function mi(t,a){const e=wr(t);return a.reduce((n,i)=>n+e.filter(s=>s.includes(i)).length,0)}function cd(t){const a=pn.map(i=>({label:i.name,lat:i.lat,lon:i.lon,score:mi(t,i.keywords)})).filter(i=>i.score>0),e=mn.map(i=>({label:i.name,lat:i.center[1],lon:i.center[0],score:mi(t,i.keywords??[])})).filter(i=>i.score>0),n=[...a,...e];return n.length===0?null:n.sort((i,s)=>s.score-i.score)[0]??null}function ld(t,a,e,n){const i=m=>m*Math.PI/180,s=i(e-t),r=i(n-a),o=i(t),c=i(e),l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(o)*Math.cos(c)*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function hi(t){if(t.length===0)return null;const a=t[Math.floor(t.length/2)];return{lon:a[0],lat:a[1]}}function ud(t){switch(t){case"pipeline":return la.map(a=>{const e=hi(a.points);return e?{id:a.id,name:a.name,lat:e.lat,lon:e.lon}:null});case"cable":return ye.map(a=>{const e=hi(a.points);return e?{id:a.id,name:a.name,lat:e.lat,lon:e.lon}:null});case"datacenter":return Eo.map(a=>({id:a.id,name:a.name,lat:a.lat,lon:a.lon}));case"base":return Io.map(a=>({id:a.id,name:a.name,lat:a.lat,lon:a.lon}));case"nuclear":return To.map(a=>({id:a.id,name:a.name,lat:a.lat,lon:a.lon}));default:return[]}}function br(t,a){const e=[];return a.forEach(n=>{ud(n).filter(s=>!!s).map(s=>({...s,distanceKm:ld(t.lat,t.lon,s.lat,s.lon)})).filter(s=>s.distanceKm<=vr).sort((s,r)=>s.distanceKm-r.distanceKm).slice(0,sd).forEach(s=>{e.push({id:s.id,name:s.name,type:n,distanceKm:s.distanceKm})})}),e.sort((n,i)=>n.distanceKm-i.distanceKm)}function dd(t){const a=t.allItems.map(s=>s.title),e=od(a);if(e.length===0)return null;const n=cd(a);if(!n)return null;const i=br(n,e);return{origin:n,assets:i,types:e}}function pv(t,a,e){return br({lat:t,lon:a},e)}const pd=3600*1e3,md=3,hd=6,yd=new Set(["war","attack","killed","death","dead","crisis","crash","collapse","threat","danger","escalate","escalation","conflict","strike","bomb","explosion","casualties","disaster","emergency","catastrophe","fail","failure","reject","rejected","sanctions","invasion","missile","nuclear","terror","terrorist","hostage","assassination","coup","protest","riot","warns","warning","fears","concern","worried","plunge","plummet","surge","flee","evacuate","shutdown","layoff","layoffs","cuts","slump","recession"]),gd=new Set(["peace","deal","agreement","breakthrough","success","win","gains","recovery","growth","rise","surge","boost","rally","soar","jump","ceasefire","treaty","alliance","partnership","cooperation","progress","release","released","freed","rescue","saved","approved","passes","record","milestone","historic","landmark","celebrates","victory"]);function yi(t){const a=t.toLowerCase().split(/\W+/);let e=0;for(const i of a)yd.has(i)&&(e-=1),gd.has(i)&&(e+=1);return{sentiment:e<-1?"negative":e>1?"positive":"neutral",score:e}}function fd(t){return t>=hd?"spike":t>=md?"elevated":"normal"}function Ar(t){const a=t.allItems;if(a.length<=1){const{sentiment:y,score:f}=yi(t.primaryTitle);return{sourcesPerHour:0,level:"normal",trend:"stable",sentiment:y,sentimentScore:f}}const e=t.lastUpdated.getTime()-t.firstSeen.getTime(),n=Math.max(e/pd,.25),i=a.length/n,s=t.firstSeen.getTime()+e/2,r=a.filter(y=>y.pubDate.getTime()>s),o=a.filter(y=>y.pubDate.getTime()<=s);let c="stable";r.length>o.length*1.5?c="rising":o.length>r.length*1.5&&(c="falling");const l=a.map(y=>y.title).join(" "),{sentiment:d,score:m}=yi(l);return{sourcesPerHour:Math.round(i*10)/10,level:fd(i),trend:c,sentiment:d,sentimentScore:m}}function gi(t){return t.map(a=>({...a,velocity:Ar(a)}))}async function Sd(t){if(!O.isAvailable)return gi(t);try{const a=t.map(n=>n.primaryTitle),e=await O.classifySentiment(a);return t.map((n,i)=>{const s=Ar(n),r=e[i];if(!r)return{...n,velocity:s};const o=r.label==="positive"?"positive":r.label==="negative"?"negative":"neutral";return{...n,velocity:{...s,sentiment:o,sentimentScore:r.label==="negative"?-r.score:r.score}}})}catch{return gi(t)}}const vd="worldmonitor_db",wd=1;let we=null;async function bd(){return we||new Promise((t,a)=>{const e=indexedDB.open(vd,wd);e.onerror=()=>a(e.error),e.onsuccess=()=>{we=e.result,we.onclose=()=>{we=null},t(we)},e.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains("baselines")||i.createObjectStore("baselines",{keyPath:"key"}),i.objectStoreNames.contains("snapshots")||i.createObjectStore("snapshots",{keyPath:"timestamp"}).createIndex("by_time","timestamp")}})}async function qe(t,a,e,n){for(let i=0;i<2;i++)try{const s=await bd();return await new Promise((r,o)=>{const c=s.transaction(t,a),l=c.objectStore(t),d=e(l,c);d&&n!==!1?(d.onsuccess=()=>r(d.result),d.onerror=()=>o(d.error)):(c.oncomplete=()=>r(void 0),c.onerror=()=>o(c.error))})}catch(s){if(s instanceof DOMException&&s.name==="InvalidStateError"){if(we=null,i===0)continue;if(console.warn("[Storage] IndexedDB connection closing after retry"),a==="readwrite")throw new DOMException("IndexedDB write failed — connection closing","InvalidStateError");return}throw s}throw new Error("IndexedDB transaction failed after retry")}async function Ad(t){return await qe("baselines","readonly",e=>e.get(t),!0)||null}async function mv(t,a){const e=Date.now(),n=1440*60*1e3;let i=await Ad(t);if(!i)i={key:t,counts:[a],timestamps:[e],avg7d:a,avg30d:a,lastUpdated:e};else{i.counts.push(a),i.timestamps.push(e);const s=e-30*n,r=i.timestamps.map((l,d)=>l>s?d:-1).filter(l=>l>=0);i.counts=r.map(l=>i.counts[l]),i.timestamps=r.map(l=>i.timestamps[l]);const o=e-7*n,c=i.counts.filter((l,d)=>i.timestamps[d]>o);i.avg7d=c.length>0?c.reduce((l,d)=>l+d,0)/c.length:a,i.avg30d=i.counts.length>0?i.counts.reduce((l,d)=>l+d,0)/i.counts.length:a,i.lastUpdated=e}return await qe("baselines","readwrite",s=>{s.put(i)},!1),i}function hv(t,a){const e=a.avg7d,n=a.counts;if(n.length<3)return{zScore:0,percentChange:0,level:"normal"};const i=n.reduce((l,d)=>l+Math.pow(d-e,2),0)/n.length,s=Math.sqrt(i)||1,r=(t-e)/s,o=e>0?(t-e)/e*100:0;let c="normal";return r>2.5?c="spike":r>1.5?c="elevated":r<-2&&(c="quiet"),{zScore:Math.round(r*100)/100,percentChange:Math.round(o),level:c}}const Cr=7,kr=1440*60*1e3;async function yv(t){await qe("snapshots","readwrite",a=>{a.put(t)},!1)}async function Cd(t,a){const e=t??Date.now()-Cr*kr,n=a??Date.now();return await qe("snapshots","readonly",i=>i.index("by_time").getAll(IDBKeyRange.bound(e,n)),!0)||[]}async function gv(t){const a=await Cd(t-9e5,t+9e5);return a.length===0?null:a.reduce((e,n)=>Math.abs(n.timestamp-t)<Math.abs(e.timestamp-t)?n:e)}async function fv(){const t=Date.now()-Cr*kr;await qe("snapshots","readwrite",(a,e)=>{const n=a.index("by_time").openCursor(IDBKeyRange.upperBound(t));n.onsuccess=()=>{const i=n.result;i&&(i.delete(),i.continue())}},!1)}async function Sv(){return await qe("snapshots","readonly",t=>t.getAllKeys(),!0)||[]}const Dt=[];function vv(){const t=Date.now()-18e5;return Dt.filter(a=>a.timestamp.getTime()>t)}function wv(t){for(Dt.push(...t);Dt.length>100;)Dt.shift()}const kd="https://api.weather.gov/alerts/active",Id=M({name:"NWS Weather"});async function bv(){return Id.execute(async()=>{const t=await fetch(kd,{headers:{"User-Agent":"WorldMonitor/1.0"}});if(!t.ok)throw new Error(`HTTP ${t.status}`);return(await t.json()).features.filter(e=>e.properties.severity!=="Unknown").slice(0,50).map(e=>{var i;const n=Td(e.geometry);return{id:e.id,event:e.properties.event,severity:e.properties.severity,headline:e.properties.headline,description:((i=e.properties.description)==null?void 0:i.slice(0,500))||"",areaDesc:e.properties.areaDesc,onset:new Date(e.properties.onset),expires:new Date(e.properties.expires),coordinates:n,centroid:Ed(n)}})},[])}function Td(t){var a,e,n;if(!t)return[];try{if(t.type==="Polygon")return((a=t.coordinates[0])==null?void 0:a.map(s=>[s[0],s[1]]))||[];if(t.type==="MultiPolygon")return((n=(e=t.coordinates[0])==null?void 0:e[0])==null?void 0:n.map(s=>[s[0],s[1]]))||[]}catch{return[]}return[]}function Ed(t){if(t.length===0)return;const a=t.reduce((e,[n,i])=>[e[0]+n,e[1]+i],[0,0]);return[a[0]/t.length,a[1]/t.length]}function Av(t){switch(t){case"Extreme":return E("--semantic-critical");case"Severe":return E("--semantic-high");case"Moderate":return E("--semantic-elevated");case"Minor":return E("--semantic-elevated");default:return E("--text-dim")}}let fi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Md=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Ir{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async getFredSeries(a,e){const i=this.baseURL+"/api/economic/v1/get-fred-series",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listWorldBankIndicators(a,e){const i=this.baseURL+"/api/economic/v1/list-world-bank-indicators",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getEnergyPrices(a,e){const i=this.baseURL+"/api/economic/v1/get-energy-prices",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getMacroSignals(a,e){const i=this.baseURL+"/api/economic/v1/get-macro-signals",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new fi(n.violations)}catch(n){if(n instanceof fi)throw n}throw new Md(a.status,`Request failed with status ${a.status}`,e)}}const Nd=900*1e3,Rd=7200*1e3,Pd=360*60*1e3,Ud=["gdelt","rss"],Si={acled:{name:"Protests & Conflicts",requiredForRisk:!1,panelId:"protests"},opensky:{name:"Military Flights",requiredForRisk:!1,panelId:"military"},wingbits:{name:"Aircraft Enrichment",requiredForRisk:!1,panelId:"military"},ais:{name:"Vessel Tracking",requiredForRisk:!1,panelId:"shipping"},usgs:{name:"Earthquakes",requiredForRisk:!1,panelId:"natural"},gdelt:{name:"News Intelligence",requiredForRisk:!0,panelId:"intel"},gdelt_doc:{name:"GDELT Doc Intelligence",requiredForRisk:!1,panelId:"protests"},rss:{name:"Live News Feeds",requiredForRisk:!0,panelId:"live-news"},polymarket:{name:"Prediction Markets",requiredForRisk:!1,panelId:"polymarket"},predictions:{name:"Predictions Feed",requiredForRisk:!1,panelId:"polymarket"},pizzint:{name:"PizzINT Monitoring",requiredForRisk:!1,panelId:"intel"},outages:{name:"Internet Outages",requiredForRisk:!1,panelId:"outages"},cyber_threats:{name:"Cyber Threat IOCs",requiredForRisk:!1,panelId:"map"},weather:{name:"Weather Alerts",requiredForRisk:!1,panelId:"weather"},economic:{name:"Economic Data (FRED)",requiredForRisk:!1,panelId:"economic"},oil:{name:"Oil Analytics (EIA)",requiredForRisk:!1,panelId:"economic"},spending:{name:"Gov Spending",requiredForRisk:!1,panelId:"economic"},firms:{name:"FIRMS Satellite Fires",requiredForRisk:!1,panelId:"map"},acled_conflict:{name:"Armed Conflicts (ACLED)",requiredForRisk:!1,panelId:"protests"},ucdp:{name:"Conflict Classification (UCDP)",requiredForRisk:!1,panelId:"protests"},hapi:{name:"Conflict Aggregates (HDX)",requiredForRisk:!1,panelId:"protests"},ucdp_events:{name:"UCDP Conflict Events",requiredForRisk:!1,panelId:"ucdp-events"},unhcr:{name:"UNHCR Displacement",requiredForRisk:!1,panelId:"displacement"},climate:{name:"Climate Anomalies",requiredForRisk:!1,panelId:"climate"},worldpop:{name:"Population Exposure",requiredForRisk:!1,panelId:"population-exposure"}};class Ld{constructor(){h(this,"sources",new Map);h(this,"listeners",new Set);for(const[a,e]of Object.entries(Si))this.sources.set(a,{id:a,name:e.name,lastUpdate:null,lastError:null,itemCount:0,enabled:!0,status:"no_data",requiredForRisk:e.requiredForRisk})}recordUpdate(a,e=1){const n=this.sources.get(a);n&&(n.lastUpdate=new Date,n.itemCount+=e,n.lastError=null,n.status=this.calculateStatus(n),this.notifyListeners())}recordError(a,e){const n=this.sources.get(a);n&&(n.lastError=e,n.status="error",this.notifyListeners())}setEnabled(a,e){const n=this.sources.get(a);n&&(n.enabled=e,n.status=e?this.calculateStatus(n):"disabled",this.notifyListeners())}getSource(a){const e=this.sources.get(a);return e&&(e.status=e.enabled?this.calculateStatus(e):"disabled"),e}getAllSources(){return Array.from(this.sources.values()).map(a=>({...a,status:a.enabled?this.calculateStatus(a):"disabled"}))}getRiskSources(){return this.getAllSources().filter(a=>a.requiredForRisk)}getSummary(){const a=this.getAllSources(),e=a.filter(m=>m.requiredForRisk),n=a.filter(m=>m.status==="fresh"||m.status==="stale"||m.status==="very_stale"),i=e.filter(m=>m.status==="fresh"||m.status==="stale"||m.status==="very_stale"),s=a.filter(m=>m.status==="stale"||m.status==="very_stale"),r=a.filter(m=>m.status==="disabled"),o=a.filter(m=>m.status==="error"),c=a.filter(m=>m.lastUpdate).map(m=>m.lastUpdate.getTime()),l=e.length>0?Math.round(i.length/e.length*100):0;let d;return i.length>=Ud.length&&l>=66?d="sufficient":i.length>=1?d="limited":d="insufficient",{totalSources:a.length,activeSources:n.length,staleSources:s.length,disabledSources:r.length,errorSources:o.length,overallStatus:d,coveragePercent:l,oldestUpdate:c.length>0?new Date(Math.min(...c)):null,newestUpdate:c.length>0?new Date(Math.max(...c)):null}}hasSufficientData(){return this.getSummary().overallStatus==="sufficient"}hasAnyData(){return this.getSummary().activeSources>0}getPanelIdForSource(a){var e;return(e=Si[a])==null?void 0:e.panelId}subscribe(a){return this.listeners.add(a),()=>this.listeners.delete(a)}calculateStatus(a){if(!a.enabled)return"disabled";if(a.lastError)return"error";if(!a.lastUpdate)return"no_data";const e=Date.now()-a.lastUpdate.getTime();return e<Nd?"fresh":e<Rd?"stale":e<Pd?"very_stale":"no_data"}notifyListeners(){for(const a of this.listeners)try{a()}catch(e){console.error("[DataFreshness] Listener error:",e)}}getTimeSince(a){const e=this.sources.get(a);if(!(e!=null&&e.lastUpdate))return"never";const n=Date.now()-e.lastUpdate.getTime();return n<6e4?"just now":n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}}const V=new Ld;function Tr(t){switch(t){case"fresh":return E("--semantic-normal");case"stale":return E("--semantic-elevated");case"very_stale":return E("--semantic-high");case"error":return E("--semantic-critical");case"disabled":return E("--text-muted");case"no_data":return E("--text-dim")}}function Er(t){switch(t){case"fresh":return"●";case"stale":return"◐";case"very_stale":return"○";case"error":return"✕";case"disabled":return"○";case"no_data":return"○"}}const Dd=Object.freeze(Object.defineProperty({__proto__:null,dataFreshness:V,getStatusColor:Tr,getStatusIcon:Er},Symbol.toStringTag,{value:"Module"})),In=new Ir("",{fetch:fetch.bind(globalThis)}),Od=M({name:"FRED Economic"}),Fd=M({name:"World Bank"}),_d=M({name:"EIA Energy"}),Bd={series:void 0},xd={data:[],pagination:void 0},Hd={prices:[]},$d=[{id:"WALCL",name:"Fed Total Assets",unit:"$B",precision:0},{id:"FEDFUNDS",name:"Fed Funds Rate",unit:"%",precision:2},{id:"T10Y2Y",name:"10Y-2Y Spread",unit:"%",precision:2},{id:"UNRATE",name:"Unemployment",unit:"%",precision:1},{id:"CPIAUCSL",name:"CPI Index",unit:"",precision:1},{id:"DGS10",name:"10Y Treasury",unit:"%",precision:2},{id:"VIXCLS",name:"VIX",unit:"",precision:2}];async function Gd(t){var s;const e=(s=(await Od.execute(async()=>In.getFredSeries({seriesId:t.id,limit:120}),Bd)).series)==null?void 0:s.observations;if(!e||e.length===0)return null;if(e.length>=2){const r=e[e.length-1],o=e[e.length-2],c=r.value-o.value,l=c/o.value*100;let d=r.value;return t.id==="WALCL"&&(d=r.value/1e3),{id:t.id,name:t.name,value:Number(d.toFixed(t.precision)),previousValue:Number(o.value.toFixed(t.precision)),change:Number(c.toFixed(t.precision)),changePercent:Number(l.toFixed(2)),date:r.date,unit:t.unit}}const n=e[0];let i=n.value;return t.id==="WALCL"&&(i=n.value/1e3),{id:t.id,name:t.name,value:Number(i.toFixed(t.precision)),previousValue:null,change:null,changePercent:null,date:n.date,unit:t.unit}}async function Iv(){return B("economicFred")?(await Promise.all($d.map(Gd))).filter(a=>a!==null):[]}function Vd(t){return t===null?"":t>0?"positive":t<0?"negative":""}function zd(t,a){return t===null?"N/A":`${t>=0?"+":""}${t}${a}`}function bt(t){const a=t.change;return{id:t.commodity,name:t.name,description:`${t.name} price/volume`,current:t.price,previous:a!==0?t.price/(1+a/100):t.price,changePct:Math.round(a*10)/10,unit:t.unit,trend:a>.5?"up":a<-.5?"down":"stable",lastUpdated:t.priceAt?new Date(t.priceAt).toISOString():new Date().toISOString()}}async function Tv(){const t={wtiPrice:null,brentPrice:null,usProduction:null,usInventory:null,fetchedAt:new Date};if(!B("energyEia"))return t;try{const a=await _d.execute(async()=>In.getEnergyPrices({commodities:[]}),Hd),e=new Map;for(const s of a.prices)e.set(s.commodity,s);const n={wtiPrice:e.has("wti")?bt(e.get("wti")):null,brentPrice:e.has("brent")?bt(e.get("brent")):null,usProduction:e.has("production")?bt(e.get("production")):null,usInventory:e.has("inventory")?bt(e.get("inventory")):null,fetchedAt:new Date},i=[n.wtiPrice,n.brentPrice,n.usProduction,n.usInventory].filter(Boolean).length;return i>0&&V.recordUpdate("oil",i),n}catch{return V.recordError("oil","Fetch failed"),t}}function Wd(t,a){const e=Number(t);return Number.isFinite(e)?a.includes("$")?`$${e.toFixed(2)}`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toFixed(1):"—"}function Kd(t){switch(t){case"up":return"▲";case"down":return"▼";default:return"●"}}function jd(t,a=!1){const e=E(a?"--semantic-normal":"--semantic-critical"),n=E(a?"--semantic-critical":"--semantic-normal");switch(t){case"up":return e;case"down":return n;default:return E("--text-dim")}}const qd={"IT.NET.USER.ZS":"Internet Users (% of population)","IT.CEL.SETS.P2":"Mobile Subscriptions (per 100 people)","IT.NET.BBND.P2":"Fixed Broadband Subscriptions (per 100 people)","IT.NET.SECR.P6":"Secure Internet Servers (per million people)","GB.XPD.RSDV.GD.ZS":"R&D Expenditure (% of GDP)","IP.PAT.RESD":"Patent Applications (residents)","IP.PAT.NRES":"Patent Applications (non-residents)","IP.TMK.TOTL":"Trademark Applications","TX.VAL.TECH.MF.ZS":"High-Tech Exports (% of manufactured exports)","BX.GSR.CCIS.ZS":"ICT Service Exports (% of service exports)","TM.VAL.ICTG.ZS.UN":"ICT Goods Imports (% of total goods imports)","SE.TER.ENRR":"Tertiary Education Enrollment (%)","SE.XPD.TOTL.GD.ZS":"Education Expenditure (% of GDP)","NY.GDP.MKTP.KD.ZG":"GDP Growth (annual %)","NY.GDP.PCAP.CD":"GDP per Capita (current US$)","NE.EXP.GNFS.ZS":"Exports of Goods & Services (% of GDP)"};function Yd(t,a){var r;const e={},n={},i=[],s=((r=a[0])==null?void 0:r.indicatorName)||qd[t]||t;for(const o of a){const c=o.countryCode;if(!c)continue;const l=String(o.year);e[c]||(e[c]={code:c,name:o.countryName,values:[]}),e[c].values.push({year:l,value:o.value}),(!n[c]||l>n[c].year)&&(n[c]={code:c,name:o.countryName,year:l,value:o.value}),i.push({countryCode:c,countryName:o.countryName,year:l,value:o.value})}for(const o of Object.values(e))o.values.sort((c,l)=>c.year.localeCompare(l.year));return i.sort((o,c)=>c.year.localeCompare(o.year)||o.countryCode.localeCompare(c.countryCode)),{indicator:t,indicatorName:s,metadata:{page:1,pages:1,total:a.length},byCountry:e,latestByCountry:n,timeSeries:i}}async function At(t,a={}){const{countries:e,years:n=5}=a,i=await Fd.execute(async()=>In.listWorldBankIndicators({indicatorCode:t,countryCode:(e==null?void 0:e.join(";"))||"",year:n,pagination:void 0}),xd);return Yd(t,i.data)}async function Jd(t){var c,l,d,m,y,f;const[a,e,n,i]=await Promise.all([At("IT.NET.USER.ZS",{countries:t,years:5}),At("IT.CEL.SETS.P2",{countries:t,years:5}),At("IT.NET.BBND.P2",{countries:t,years:5}),At("GB.XPD.RSDV.GD.ZS",{countries:t,years:7})]),s=new Set;[a,e,n,i].forEach(g=>{Object.keys(g.latestByCountry).forEach(v=>s.add(v))});const r=(g,v)=>g==null?null:Math.min(100,g/v*100),o=[];for(const g of s){const v={internet:r((c=a.latestByCountry[g])==null?void 0:c.value,100),mobile:r((l=e.latestByCountry[g])==null?void 0:l.value,150),broadband:r((d=n.latestByCountry[g])==null?void 0:d.value,50),rdSpend:r((m=i.latestByCountry[g])==null?void 0:m.value,5)},b={internet:30,mobile:15,broadband:20,rdSpend:35};let C=0,A=0;for(const[N,G]of Object.entries(b)){const x=v[N];x!==null&&(A+=x*G,C+=G)}const k=C>0?A/C:0,I=((y=a.latestByCountry[g])==null?void 0:y.name)||((f=e.latestByCountry[g])==null?void 0:f.name)||g;o.push({country:g,countryName:I,score:Math.round(k*10)/10,rank:0,components:v})}return o.sort((g,v)=>v.score-g.score),o.forEach((g,v)=>{g.rank=v+1}),o}let vi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Xd=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Mr{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listInternetOutages(a,e){const i=this.baseURL+"/api/infrastructure/v1/list-internet-outages",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listServiceStatuses(a,e){const i=this.baseURL+"/api/infrastructure/v1/list-service-statuses",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getTemporalBaseline(a,e){const i=this.baseURL+"/api/infrastructure/v1/get-temporal-baseline",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async recordBaselineSnapshot(a,e){const i=this.baseURL+"/api/infrastructure/v1/record-baseline-snapshot",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getCableHealth(a,e){const i=this.baseURL+"/api/infrastructure/v1/get-cable-health",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new vi(n.violations)}catch(n){if(n instanceof vi)throw n}throw new Xd(a.status,`Request failed with status ${a.status}`,e)}}const Nr=new Mr("",{fetch:fetch.bind(globalThis)}),Qd=M({name:"Internet Outages"}),Zd=M({name:"Service Statuses"}),ep={outages:[],pagination:void 0},tp={statuses:[]},ap={OUTAGE_SEVERITY_PARTIAL:"partial",OUTAGE_SEVERITY_MAJOR:"major",OUTAGE_SEVERITY_TOTAL:"total"},np={SERVICE_OPERATIONAL_STATUS_OPERATIONAL:"operational",SERVICE_OPERATIONAL_STATUS_DEGRADED:"degraded",SERVICE_OPERATIONAL_STATUS_PARTIAL_OUTAGE:"outage",SERVICE_OPERATIONAL_STATUS_MAJOR_OUTAGE:"outage",SERVICE_OPERATIONAL_STATUS_MAINTENANCE:"degraded",SERVICE_OPERATIONAL_STATUS_UNSPECIFIED:"unknown"};function ip(t){var a,e;return{id:t.id,title:t.title,link:t.link,description:t.description,pubDate:t.detectedAt?new Date(t.detectedAt):new Date,country:t.country,region:t.region||void 0,lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,severity:ap[t.severity]||"partial",categories:t.categories,cause:t.cause||void 0,outageType:t.outageType||void 0,endDate:t.endedAt?new Date(t.endedAt):void 0}}let rt=null;function Nv(){return rt}async function Rv(){if(!B("internetOutages"))return rt=!1,[];const t=await Qd.execute(async()=>Nr.listInternetOutages({country:""}),ep);return t.outages.length===0?(rt===null&&(rt=!1),[]):(rt=!0,t.outages.map(ip))}const sp={aws:"cloud",azure:"cloud",gcp:"cloud",cloudflare:"cloud",vercel:"cloud",netlify:"cloud",digitalocean:"cloud",render:"cloud",railway:"cloud",github:"dev",gitlab:"dev",npm:"dev",docker:"dev",bitbucket:"dev",circleci:"dev",jira:"dev",confluence:"dev",linear:"dev",slack:"comm",discord:"comm",zoom:"comm",notion:"comm",openai:"ai",anthropic:"ai",replicate:"ai",stripe:"saas",twilio:"saas",datadog:"saas",sentry:"saas",supabase:"saas"};function rp(t){return{id:t.id,name:t.name,category:sp[t.id]||"saas",status:np[t.status]||"unknown",description:t.description}}async function op(){const a=(await Zd.execute(async()=>Nr.listServiceStatuses({status:"SERVICE_OPERATIONAL_STATUS_UNSPECIFIED"}),tp)).statuses.map(rp),e={operational:a.filter(n=>n.status==="operational").length,degraded:a.filter(n=>n.status==="degraded").length,outage:a.filter(n=>n.status==="outage").length,unknown:a.filter(n=>n.status==="unknown").length};return{success:!0,timestamp:new Date().toISOString(),summary:e,services:a}}let wi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},cp=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class lp{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listCyberThreats(a,e){const i=this.baseURL+"/api/cyber/v1/list-cyber-threats",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new wi(n.violations)}catch(n){if(n instanceof wi)throw n}throw new cp(a.status,`Request failed with status ${a.status}`,e)}}new lp("",{fetch:fetch.bind(globalThis)});M({name:"Cyber Threats"});let bi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},up=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Rr{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async getVesselSnapshot(a,e){const i=this.baseURL+"/api/maritime/v1/get-vessel-snapshot",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listNavigationalWarnings(a,e){const i=this.baseURL+"/api/maritime/v1/list-navigational-warnings",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new bi(n.violations)}catch(n){if(n instanceof bi)throw n}throw new up(a.status,`Request failed with status ${a.status}`,e)}}const dp=new Rr("",{fetch:fetch.bind(globalThis)}),pp=M({name:"Maritime Snapshot"}),mp={snapshot:void 0},hp={AIS_DISRUPTION_TYPE_GAP_SPIKE:"gap_spike",AIS_DISRUPTION_TYPE_CHOKEPOINT_CONGESTION:"chokepoint_congestion"},yp={AIS_DISRUPTION_SEVERITY_LOW:"low",AIS_DISRUPTION_SEVERITY_ELEVATED:"elevated",AIS_DISRUPTION_SEVERITY_HIGH:"high"};function gp(t){var a,e;return{id:t.id,name:t.name,type:hp[t.type]||"gap_spike",lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,severity:yp[t.severity]||"low",changePct:t.changePct,windowHours:t.windowHours,darkShips:t.darkShips,vesselCount:t.vesselCount,region:t.region,description:t.description}}function fp(t){var a,e;return{id:t.id,name:t.name,lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,intensity:t.intensity,deltaPct:t.deltaPct,shipsPerDay:t.shipsPerDay,note:t.note}}const Pr=typeof window<"u",Ur=Pr&&!0;function ze(){return Ur&&B("aisRelay")}const Kt=new Set,oe=new Map;let Ot=null,Ft=!1,Ja=!1,Tn=0,Qe=0,Xa=[],Qa=[],me={connected:!1,vessels:0,messages:0};const Sp=10*1e3,Lr=20*1e3,vp=7200*1e3,Ca=2e4,wp="http://localhost:3004/ais/snapshot",bp=Pr&&window.location.hostname==="localhost";function Ap(){return Kt.size>0}function Cp(t){if(!t||typeof t!="object")return null;const a=t;if(!Array.isArray(a.disruptions)||!Array.isArray(a.density))return null;const e=a.status||{};return{sequence:Number.isFinite(a.sequence)?Number(a.sequence):0,status:{connected:!!e.connected,vessels:Number.isFinite(e.vessels)?Number(e.vessels):0,messages:Number.isFinite(e.messages)?Number(e.messages):0},disruptions:a.disruptions,density:a.density,candidateReports:Array.isArray(a.candidateReports)?a.candidateReports:[]}}async function Ai(t){const a=`?candidates=${t?"true":"false"}`;if(bp){const e=await fetch(`${wp}${a}`,{headers:{Accept:"application/json"}});if(e.ok)return e.json()}throw new Error("AIS raw relay snapshot unavailable")}async function kp(t){if(t)return Ai(!0);try{return await Ai(!1)}catch(a){const e=await pp.execute(async()=>dp.getVesselSnapshot({}),mp);if(e.snapshot)return{sequence:0,status:{connected:!0,vessels:0,messages:0},disruptions:e.snapshot.disruptions.map(gp),density:e.snapshot.densityZones.map(fp),candidateReports:[]};throw a}}function Ip(t){if(oe.size<=Ca)return;const a=t-vp;for(const[i,s]of oe)s<a&&oe.delete(i);if(oe.size<=Ca)return;const e=Array.from(oe.entries()).sort((i,s)=>i[1]-s[1]),n=oe.size-Ca;for(let i=0;i<n;i++){const s=e[i];if(!s)break;oe.delete(s[0])}}function Ci(t){if(Kt.size===0||t.length===0)return;const a=Date.now();for(const e of t){if(!(e!=null&&e.mmsi)||!Number.isFinite(e.lat)||!Number.isFinite(e.lon))continue;const n=Number.isFinite(e.timestamp)?Number(e.timestamp):a,i=oe.get(e.mmsi)||0;if(n<=i)continue;oe.set(e.mmsi,n);const s={mmsi:e.mmsi,name:e.name||"",lat:e.lat,lon:e.lon,shipType:e.shipType,heading:e.heading,speed:e.speed,course:e.course};for(const r of Kt)try{r(s)}catch{}}Ip(a)}async function Za(t=!1){if(ze()&&!(Ft&&!t)){Ft=!0;try{const a=Ap(),e=await kp(a),n=Cp(e);if(!n)throw new Error("Invalid snapshot payload");Xa=n.disruptions,Qa=n.density,me=n.status,Tn=Date.now(),a?(n.sequence>Qe||Qe===0)&&(Ci(n.candidateReports),Qe=n.sequence):Qe=n.sequence;const i=Xa.length+Qa.length;(i>0||me.vessels>0)&&V.recordUpdate("ais",i>0?i:me.vessels)}catch{me.connected=!1}finally{Ft=!1}}}function En(){Ja||!ze()||(Ja=!0,Za(!0),Ot=setInterval(()=>{Za(!1)},Sp))}function Tp(t){Kt.add(t),En()}function Ep(){En()}function Ov(){Ot&&(clearInterval(Ot),Ot=null),Ja=!1,Ft=!1,me.connected=!1}function Fv(){const t=Date.now()-Tn<=Lr;return{connected:me.connected&&t,vessels:me.vessels,messages:me.messages}}async function _v(){return Ur?(En(),Date.now()-Tn>Lr&&await Za(!0),{disruptions:Xa,density:Qa}):{disruptions:[],density:[]}}const Mp=new Rr("",{fetch:fetch.bind(globalThis)}),Np=["CABLE","CABLESHIP","CABLE SHIP","CABLE LAYING","CABLE OPERATIONS","SUBMARINE CABLE","UNDERSEA CABLE","FIBER OPTIC","TELECOMMUNICATIONS CABLE"],Rp=[/CABLESHIP\s+([A-Z][A-Z0-9\s\-']+)/i,/CABLE\s+SHIP\s+([A-Z][A-Z0-9\s\-']+)/i,/CS\s+([A-Z][A-Z0-9\s\-']+)/i,/M\/V\s+([A-Z][A-Z0-9\s\-']+)/i,/VESSEL\s+([A-Z][A-Z0-9\s\-']+)/i];function Pp(t){const a=t.toUpperCase();return Np.some(e=>a.includes(e))}function Up(t){const a=[],e=/(\d{1,3})-(\d{1,2}(?:\.\d+)?)\s*([NS])\s+(\d{1,3})-(\d{1,2}(?:\.\d+)?)\s*([EW])/gi;let n;for(;(n=e.exec(t))!==null;){if(!n[1]||!n[2]||!n[3]||!n[4]||!n[5]||!n[6])continue;const s=parseInt(n[1],10),r=parseFloat(n[2]),o=n[3].toUpperCase(),c=parseInt(n[4],10),l=parseFloat(n[5]),d=n[6].toUpperCase();let m=s+r/60,y=c+l/60;o==="S"&&(m=-m),d==="W"&&(y=-y),m>=-90&&m<=90&&y>=-180&&y<=180&&a.push({lat:m,lon:y})}const i=/(\d{1,3}\.\d+)\s*([NS])\s+(\d{1,3}\.\d+)\s*([EW])/gi;for(;(n=i.exec(t))!==null;){if(!n[1]||!n[2]||!n[3]||!n[4])continue;let s=parseFloat(n[1]),r=parseFloat(n[3]);n[2].toUpperCase()==="S"&&(s=-s),n[4].toUpperCase()==="W"&&(r=-r),s>=-90&&s<=90&&r>=-180&&r<=180&&a.push({lat:s,lon:r})}return a}function Lp(t){for(const a of Rp){const e=t.match(a);if(e!=null&&e[1]){const n=e[1].trim().replace(/\s+/g," ");if(n.length>2&&!/^(THE|AND|FOR|WITH)$/i.test(n))return n}}return null}function Dp(t,a){let e=null,n=1/0;for(const i of ye)for(const s of i.points){const[r,o]=s,c=Math.sqrt(Math.pow(t-o,2)+Math.pow(a-r,2));c<n&&c<5&&(n=c,e=i)}return e}function Op(t){const a=t.match(/(\d{2})(\d{4})Z\s+([A-Z]{3})\s+(\d{4})/i);if(a&&a[1]&&a[2]&&a[3]&&a[4]){const e=parseInt(a[1],10),n=a[2],i=a[3].toUpperCase(),s=parseInt(a[4],10),o={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[i]??0,c=parseInt(n.slice(0,2),10),l=parseInt(n.slice(2,4),10);return new Date(Date.UTC(s,o,e,c,l))}return new Date}function Fp(t){return/FAULT|BREAK|CUT|DAMAGE|SEVERED|RUPTURE|OUTAGE|FAILURE/i.test(t)?"fault":"degraded"}function ki(t){return/ON STATION|OPERATIONS IN PROGRESS|LAYING|REPAIRING|WORKING|COMMENCED/i.test(t)?"on-station":"enroute"}function _p(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"").slice(0,40)}function Bp(t){const a=[],e=[],n=new Set,i=t.filter(s=>Pp(s.text));for(const s of i){const r=Up(s.text),o=Lp(s.text),c=Op(s.issueDate);let l=0,d=0,m=null;if(r.length>0&&(l=r.reduce((g,v)=>g+v.lat,0)/r.length,d=r.reduce((g,v)=>g+v.lon,0)/r.length,m=Dp(l,d)),l===0&&d===0)continue;const y=`nga-${s.navArea}-${s.msgYear}-${s.msgNumber}`;if(o){const g=`ship-${y}-${_p(o)}`;n.has(g)||(n.add(g),e.push({id:g,name:o,cableId:(m==null?void 0:m.id)||"unknown",status:ki(s.text),lat:l,lon:d,eta:ki(s.text)==="on-station"?"On station":"TBD",operator:s.authority||void 0,note:s.text.slice(0,200)+(s.text.length>200?"...":"")}))}const f=`advisory-${y}`;if(!n.has(f)){n.add(f);const g=/OPERATIONS|LAYING|REPAIR|SURVEY/i.test(s.text),v=o?`${g?"Cable Operations":"Cable Activity"}: ${o}`:`NAVAREA ${s.navArea} Cable Warning`;a.push({id:f,cableId:(m==null?void 0:m.id)||"unknown",title:v,severity:Fp(s.text),description:s.text.slice(0,300)+(s.text.length>300?"...":""),reported:c,lat:l,lon:d,impact:g?"Cable operations in progress. Vessels requested to give wide berth.":m?`Potential impact to ${m.name} cable route.`:"Navigation warning in effect for cable infrastructure.",repairEta:void 0})}}return{advisories:a,repairShips:e}}function xp(t){const a=t.id.split("-"),e=a.length>=3?a.slice(0,-2).join("-"):a[0]||"",n=a.length>=2&&Number(a[a.length-2])||0,i=a.length>=1&&Number(a[a.length-1])||0,s=t.area.split(" "),r=s.length>1?s.slice(1).join(" "):"";return{msgYear:n,msgNumber:i,navArea:e,subregion:r,text:t.text,status:"A",issueDate:t.issuedAt?Hp(t.issuedAt):"",authority:t.authority}}function Hp(t){if(!t)return"";const a=new Date(t),e=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n=String(a.getUTCDate()).padStart(2,"0"),i=String(a.getUTCHours()).padStart(2,"0"),s=String(a.getUTCMinutes()).padStart(2,"0"),r=e[a.getUTCMonth()]||"JAN",o=a.getUTCFullYear();return`${n}${i}${s}Z ${r} ${o}`}async function Bv(){try{const a=(await Mp.listNavigationalWarnings({area:""})).warnings.map(xp);console.log(`[CableActivity] Fetched ${a.length} NGA warnings`);const e=Bp(a);return console.log(`[CableActivity] Found ${e.advisories.length} advisories, ${e.repairShips.length} repair ships`),e}catch(t){return console.error("[CableActivity] Failed to fetch NGA warnings:",t),{advisories:[],repairShips:[]}}}const $p=new Mr("",{fetch:fetch.bind(globalThis)}),Gp=M({name:"Cable Health"}),Vp={generatedAt:0,cables:{}},zp={CABLE_HEALTH_STATUS_FAULT:"fault",CABLE_HEALTH_STATUS_DEGRADED:"degraded",CABLE_HEALTH_STATUS_OK:"ok",CABLE_HEALTH_STATUS_UNSPECIFIED:"unknown"};function Wp(t){return{status:zp[t.status]||"unknown",score:t.score,confidence:t.confidence,lastUpdated:t.lastUpdated?new Date(t.lastUpdated).toISOString():new Date().toISOString(),evidence:t.evidence.map(a=>({source:a.source,summary:a.summary,ts:a.ts?new Date(a.ts).toISOString():new Date().toISOString()}))}}let Ge=null,Ii=0;const Kp=6e4;async function xv(){const t=Date.now();if(Ge&&t<Ii)return Ge;const a=await Gp.execute(async()=>$p.getCableHealth({}),Vp),e={};for(const[i,s]of Object.entries(a.cables))e[i]=Wp(s);const n={generatedAt:a.generatedAt?new Date(a.generatedAt).toISOString():new Date().toISOString(),cables:e};return Ge=n,Ii=t+Kp,n}function Hv(t){return Ge==null?void 0:Ge.cables[t]}let Ti=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},jp=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class qp{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listAcledEvents(a,e){const i=this.baseURL+"/api/conflict/v1/list-acled-events",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listUcdpEvents(a,e){const i=this.baseURL+"/api/conflict/v1/list-ucdp-events",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getHumanitarianSummary(a,e){const i=this.baseURL+"/api/conflict/v1/get-humanitarian-summary",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Ti(n.violations)}catch(n){if(n instanceof Ti)throw n}throw new jp(a.status,`Request failed with status ${a.status}`,e)}}const pa=new qp("",{fetch:(...t)=>globalThis.fetch(...t)}),Yp=M({name:"ACLED Conflicts"}),jt=M({name:"UCDP Events"}),Jp=M({name:"HDX HAPI"});function Xp(t){const a=t.toLowerCase();return a.includes("battle")?"battle":a.includes("explosion")?"explosion":a.includes("remote violence")?"remote_violence":a.includes("violence against")?"violence_against_civilians":"battle"}function Qp(t){var a,e;return{id:t.id,eventType:Xp(t.eventType),subEventType:"",country:t.country,region:t.admin1||void 0,location:"",lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,time:new Date(t.occurredAt),fatalities:t.fatalities,actors:t.actors,source:t.source}}const Zp={UCDP_VIOLENCE_TYPE_STATE_BASED:"state-based",UCDP_VIOLENCE_TYPE_NON_STATE:"non-state",UCDP_VIOLENCE_TYPE_ONE_SIDED:"one-sided"};function em(t){var a,e;return{id:t.id,date_start:t.dateStart?new Date(t.dateStart).toISOString().substring(0,10):"",date_end:t.dateEnd?new Date(t.dateEnd).toISOString().substring(0,10):"",latitude:((a=t.location)==null?void 0:a.latitude)??0,longitude:((e=t.location)==null?void 0:e.longitude)??0,country:t.country,side_a:t.sideA,side_b:t.sideB,deaths_best:t.deathsBest,deaths_low:t.deathsLow,deaths_high:t.deathsHigh,type_of_violence:Zp[t.violenceType]||"state-based",source_original:t.sourceOriginal}}const tm={USA:"US",RUS:"RU",CHN:"CN",UKR:"UA",IRN:"IR",ISR:"IL",TWN:"TW",PRK:"KP",SAU:"SA",TUR:"TR",POL:"PL",DEU:"DE",FRA:"FR",GBR:"GB",IND:"IN",PAK:"PK",SYR:"SY",YEM:"YE",MMR:"MM",VEN:"VE"},am=Object.values(tm);function nm(t){return{iso2:t.countryCode||"",locationName:t.countryName,month:t.referencePeriod||"",eventsTotal:t.conflictEventsTotal||0,eventsPoliticalViolence:t.conflictPoliticalViolenceEvents||0,eventsCivilianTargeting:0,eventsDemonstrations:t.conflictDemonstrations||0,fatalitiesTotalPoliticalViolence:t.conflictFatalities||0,fatalitiesTotalCivilianTargeting:0}}function im(t){const a=new Map;for(const s of t){const r=s.country;a.has(r)||a.set(r,[]),a.get(r).push(s)}const e=Date.now(),n=2*365*24*60*60*1e3,i=new Map;for(const[s,r]of a){const o=r.filter(g=>e-g.dateStart<n),c=o.reduce((g,v)=>g+v.deathsBest,0),l=o.length;let d;c>1e3||l>100?d="war":l>10?d="minor":d="none";let m;for(const g of o)(!m||g.deathsBest>m.deathsBest)&&(m=g);const y=o.reduce((g,v)=>!g||v.dateStart>g.dateStart?v:g,void 0),f=y?new Date(y.dateStart).getFullYear():new Date().getFullYear();i.set(s,{location:s,intensity:d,year:f,sideA:m==null?void 0:m.sideA,sideB:m==null?void 0:m.sideB})}return i}function sm(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)**2;return 6371*2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const rm={events:[],pagination:void 0},Dr={events:[],pagination:void 0},om={summary:void 0};async function Vv(){const a=(await Yp.execute(async()=>pa.listAcledEvents({country:""}),rm)).events.map(Qp),e=new Map;let n=0;for(const i of a){n+=i.fatalities;const s=e.get(i.country)||[];s.push(i),e.set(i.country,s)}return{events:a,byCountry:e,totalFatalities:n,count:a.length}}async function zv(){const t=await jt.execute(async()=>pa.listUcdpEvents({country:""}),Dr);return t.events.length===0&&jt.clearCache(),im(t.events)}async function Wv(){const t=await Promise.allSettled(am.map(async e=>{const n=await Jp.execute(async()=>pa.getHumanitarianSummary({countryCode:e}),om);return{iso2:e,resp:n}})),a=new Map;for(const e of t)if(e.status==="fulfilled"&&e.value.resp.summary){const{iso2:n,resp:i}=e.value,s=nm(i.summary);a.set(n,s)}return a}async function Kv(){const t=await jt.execute(async()=>pa.listUcdpEvents({country:""}),Dr);t.events.length===0&&jt.clearCache();const a=t.events.map(em);return{success:a.length>0,count:a.length,data:a,cached_at:""}}function jv(t,a){return a.length?t.filter(e=>{const n=e.latitude,i=e.longitude,s=new Date(e.date_start).getTime(),r=e.deaths_best;for(const o of a){const c=Number(o.latitude),l=Number(o.longitude),d=new Date(o.event_date).getTime(),m=Number(o.fatalities)||0;if(!(Math.abs(s-d)/(1e3*60*60*24)>7||sm(n,i,c,l)>50)){if(r===0&&m===0)return!1;if(r>0&&m>0){const g=r/m;if(g>=.5&&g<=2)return!1}}}return!0}):t}let Ei=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},cm=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Or{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async getDisplacementSummary(a,e){const i=this.baseURL+"/api/displacement/v1/get-displacement-summary",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getPopulationExposure(a,e){const i=this.baseURL+"/api/displacement/v1/get-population-exposure",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Ei(n.violations)}catch(n){if(n instanceof Ei)throw n}throw new cm(a.status,`Request failed with status ${a.status}`,e)}}function lm(t){const a=t.summary,e=a.globalTotals;return{year:a.year,globalTotals:{refugees:Number(e.refugees),asylumSeekers:Number(e.asylumSeekers),idps:Number(e.idps),stateless:Number(e.stateless),total:Number(e.total)},countries:a.countries.map(um),topFlows:a.topFlows.map(dm)}}function um(t){var a,e;return{code:t.code,name:t.name,refugees:Number(t.refugees),asylumSeekers:Number(t.asylumSeekers),idps:Number(t.idps),stateless:Number(t.stateless),totalDisplaced:Number(t.totalDisplaced),hostRefugees:Number(t.hostRefugees),hostAsylumSeekers:Number(t.hostAsylumSeekers),hostTotal:Number(t.hostTotal),lat:(a=t.location)==null?void 0:a.latitude,lon:(e=t.location)==null?void 0:e.longitude}}function dm(t){var a,e,n,i;return{originCode:t.originCode,originName:t.originName,asylumCode:t.asylumCode,asylumName:t.asylumName,refugees:Number(t.refugees),originLat:(a=t.originLocation)==null?void 0:a.latitude,originLon:(e=t.originLocation)==null?void 0:e.longitude,asylumLat:(n=t.asylumLocation)==null?void 0:n.latitude,asylumLon:(i=t.asylumLocation)==null?void 0:i.longitude}}const pm=new Or("",{fetch:fetch.bind(globalThis)}),Mi={year:new Date().getFullYear(),globalTotals:{refugees:0,asylumSeekers:0,idps:0,stateless:0,total:0},countries:[],topFlows:[]},mm=M({name:"UNHCR Displacement"});async function Jv(){const t=await mm.execute(async()=>{const a=await pm.getDisplacementSummary({year:0,countryLimit:0,flowLimit:50});return lm(a)},Mi);return{ok:t!==Mi&&t.countries.length>0,data:t}}function Ze(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:String(t)}let Ni=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},hm=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Fr{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listArxivPapers(a,e){const i=this.baseURL+"/api/research/v1/list-arxiv-papers",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listTrendingRepos(a,e){const i=this.baseURL+"/api/research/v1/list-trending-repos",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listHackernewsItems(a,e){const i=this.baseURL+"/api/research/v1/list-hackernews-items",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async listTechEvents(a,e){const i=this.baseURL+"/api/research/v1/list-tech-events",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Ni(n.violations)}catch(n){if(n instanceof Ni)throw n}throw new hm(a.status,`Request failed with status ${a.status}`,e)}}new Fr("",{fetch:fetch.bind(globalThis)});M({name:"ArXiv Papers"});M({name:"GitHub Trending"});M({name:"Hacker News"});let Ri=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},ym=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class gm{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listFireDetections(a,e){const i=this.baseURL+"/api/wildfire/v1/list-fire-detections",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Ri(n.violations)}catch(n){if(n instanceof Ri)throw n}throw new ym(a.status,`Request failed with status ${a.status}`,e)}}const fm=new gm("",{fetch:fetch.bind(globalThis)}),Sm=M({name:"Wildfires"}),vm={fireDetections:[]};async function tw(t){const e=(await Sm.execute(async()=>fm.listFireDetections({}),vm)).fireDetections;if(e.length===0)return{regions:{},totalCount:0,skipped:!0,reason:"NASA_FIRMS_API_KEY not configured"};const n={};for(const i of e){const s=i.region||"Unknown";(n[s]??(n[s]=[])).push(i)}return{regions:n,totalCount:e.length}}function aw(t){const a=[];for(const[e,n]of Object.entries(t)){const i=n.filter(s=>s.brightness>360&&s.confidence==="FIRE_CONFIDENCE_HIGH");a.push({region:e,fires:n,fireCount:n.length,totalFrp:n.reduce((s,r)=>s+(r.frp||0),0),highIntensityCount:i.length})}return a.sort((e,n)=>n.fireCount-e.fireCount)}function nw(t){const a=[];for(const e of Object.values(t))for(const n of e)a.push(n);return a}function iw(t){return t.map(a=>{var e,n;return{lat:((e=a.location)==null?void 0:e.latitude)??0,lon:((n=a.location)==null?void 0:n.longitude)??0,brightness:a.brightness,frp:a.frp,confidence:wm(a.confidence),region:a.region,acq_date:new Date(a.detectedAt).toISOString().slice(0,10),daynight:a.dayNight}})}function wm(t){switch(t){case"FIRE_CONFIDENCE_HIGH":return 95;case"FIRE_CONFIDENCE_NOMINAL":return 50;case"FIRE_CONFIDENCE_LOW":return 20;default:return 0}}let Pi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},bm=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Am{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listClimateAnomalies(a,e){const i=this.baseURL+"/api/climate/v1/list-climate-anomalies",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Pi(n.violations)}catch(n){if(n instanceof Pi)throw n}throw new bm(a.status,`Request failed with status ${a.status}`,e)}}const Cm=new Am("",{fetch:fetch.bind(globalThis)}),km=M({name:"Climate Anomalies"}),Im={anomalies:[]};async function ow(){return{ok:!0,anomalies:((await km.execute(async()=>Cm.listClimateAnomalies({minSeverity:"ANOMALY_SEVERITY_UNSPECIFIED"}),Im)).anomalies??[]).map(Em).filter(e=>e.severity!=="normal")}}function Tm(t){switch(t.type){case"warm":return"🌡️";case"cold":return"❄️";case"wet":return"🌧️";case"dry":return"☀️";case"mixed":return"⚡";default:return"🌡️"}}function Ui(t,a){return`${t>0?"+":""}${t.toFixed(1)}${a}`}function Em(t){var a,e;return{zone:t.zone,lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,tempDelta:t.tempDelta,precipDelta:t.precipDelta,severity:Mm(t.severity),type:Nm(t.type),period:t.period}}function Mm(t){switch(t){case"ANOMALY_SEVERITY_EXTREME":return"extreme";case"ANOMALY_SEVERITY_MODERATE":return"moderate";default:return"normal"}}function Nm(t){switch(t){case"ANOMALY_TYPE_WARM":return"warm";case"ANOMALY_TYPE_COLD":return"cold";case"ANOMALY_TYPE_WET":return"wet";case"ANOMALY_TYPE_DRY":return"dry";case"ANOMALY_TYPE_MIXED":return"mixed";default:return"warm"}}let Li=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},Rm=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Pm{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listUnrestEvents(a,e){const i=this.baseURL+"/api/unrest/v1/list-unrest-events",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Li(n.violations)}catch(n){if(n instanceof Li)throw n}throw new Rm(a.status,`Request failed with status ${a.status}`,e)}}const Um=new Pm("",{fetch:fetch.bind(globalThis)}),Lm=M({name:"Unrest Events"});function Dm(t){switch(t){case"SEVERITY_LEVEL_HIGH":return"high";case"SEVERITY_LEVEL_MEDIUM":return"medium";default:return"low"}}function Om(t){switch(t){case"UNREST_EVENT_TYPE_PROTEST":return"protest";case"UNREST_EVENT_TYPE_RIOT":return"riot";case"UNREST_EVENT_TYPE_STRIKE":return"strike";case"UNREST_EVENT_TYPE_DEMONSTRATION":return"demonstration";default:return"civil_unrest"}}function Fm(t){switch(t){case"UNREST_SOURCE_TYPE_ACLED":return"acled";case"UNREST_SOURCE_TYPE_GDELT":return"gdelt";default:return"rss"}}function Di(t){switch(t){case"CONFIDENCE_LEVEL_HIGH":return"high";case"CONFIDENCE_LEVEL_MEDIUM":return"medium";default:return"low"}}function _m(t){var a,e;return{id:t.id,title:t.title,summary:t.summary||void 0,eventType:Om(t.eventType),city:t.city||void 0,country:t.country,region:t.region||void 0,lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,time:new Date(t.occurredAt),severity:Dm(t.severity),fatalities:t.fatalities>0?t.fatalities:void 0,sources:t.sources,sourceType:Fm(t.sourceType),tags:t.tags.length>0?t.tags:void 0,actors:t.actors.length>0?t.actors:void 0,confidence:Di(t.confidence),validated:Di(t.confidence)==="high"}}let en=null;const Bm={events:[],clusters:[],pagination:void 0};async function uw(){const a=(await Lm.execute(async()=>Um.listUnrestEvents({country:"",minSeverity:"SEVERITY_LEVEL_UNSPECIFIED"}),Bm)).events.map(_m),e=new Map;for(const s of a){const r=e.get(s.country)||[];r.push(s),e.set(s.country,r)}const n=a.filter(s=>s.sourceType==="acled").length,i=a.filter(s=>s.sourceType==="gdelt").length;return a.length>0&&(n>0?en=!0:i>0&&n===0&&(en=!1)),{events:a,byCountry:e,highSeverityCount:a.filter(s=>s.severity==="high").length,sources:{acled:n,gdelt:i}}}function dw(){return{acledConfigured:en,gdeltAvailable:!0}}let Oi=class extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}},xm=class extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}};class Hm{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listAirportDelays(a,e){const i=this.baseURL+"/api/aviation/v1/list-airport-delays",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new Oi(n.violations)}catch(n){if(n instanceof Oi)throw n}throw new xm(a.status,`Request failed with status ${a.status}`,e)}}const $m={FLIGHT_DELAY_SEVERITY_NORMAL:"normal",FLIGHT_DELAY_SEVERITY_MINOR:"minor",FLIGHT_DELAY_SEVERITY_MODERATE:"moderate",FLIGHT_DELAY_SEVERITY_MAJOR:"major",FLIGHT_DELAY_SEVERITY_SEVERE:"severe"},Gm={FLIGHT_DELAY_TYPE_GROUND_STOP:"ground_stop",FLIGHT_DELAY_TYPE_GROUND_DELAY:"ground_delay",FLIGHT_DELAY_TYPE_DEPARTURE_DELAY:"departure_delay",FLIGHT_DELAY_TYPE_ARRIVAL_DELAY:"arrival_delay",FLIGHT_DELAY_TYPE_GENERAL:"general"},Vm={AIRPORT_REGION_AMERICAS:"americas",AIRPORT_REGION_EUROPE:"europe",AIRPORT_REGION_APAC:"apac",AIRPORT_REGION_MENA:"mena",AIRPORT_REGION_AFRICA:"africa"},zm={FLIGHT_DELAY_SOURCE_FAA:"faa",FLIGHT_DELAY_SOURCE_EUROCONTROL:"eurocontrol",FLIGHT_DELAY_SOURCE_COMPUTED:"computed"};function Wm(t){var a,e;return{id:t.id,iata:t.iata,icao:t.icao,name:t.name,city:t.city,country:t.country,lat:((a=t.location)==null?void 0:a.latitude)??0,lon:((e=t.location)==null?void 0:e.longitude)??0,region:Vm[t.region]??"americas",delayType:Gm[t.delayType]??"general",severity:$m[t.severity]??"normal",avgDelayMinutes:t.avgDelayMinutes,delayedFlightsPct:t.delayedFlightsPct||void 0,cancelledFlights:t.cancelledFlights||void 0,totalFlights:t.totalFlights||void 0,reason:t.reason||void 0,source:zm[t.source]??"computed",updatedAt:new Date(t.updatedAt)}}const Km=new Hm("",{fetch:fetch.bind(globalThis)}),jm=M({name:"FAA Flight Delays"});async function hw(){return jm.execute(async()=>(await Km.listAirportDelays({region:"AIRPORT_REGION_UNSPECIFIED",minSeverity:"FLIGHT_DELAY_SEVERITY_UNSPECIFIED"})).alerts.map(Wm),[])}const qm=[{pattern:"^RCH",operator:"usaf",aircraftType:"transport",description:"REACH - AMC transport"},{pattern:"^REACH",operator:"usaf",aircraftType:"transport",description:"REACH - AMC transport"},{pattern:"^DUKE",operator:"usaf",aircraftType:"transport",description:"DUKE - VIP transport"},{pattern:"^SAM",operator:"usaf",aircraftType:"vip",description:"Special Air Mission"},{pattern:"^AF[12]",operator:"usaf",aircraftType:"vip",description:"Air Force One/Two"},{pattern:"^EXEC",operator:"usaf",aircraftType:"vip",description:"Executive transport"},{pattern:"^GOLD",operator:"usaf",aircraftType:"special_ops",description:"Special operations"},{pattern:"^KING",operator:"usaf",aircraftType:"tanker",description:"KC-135/KC-46 tanker"},{pattern:"^SHELL",operator:"usaf",aircraftType:"tanker",description:"Tanker operations"},{pattern:"^TEAL",operator:"usaf",aircraftType:"tanker",description:"Tanker operations"},{pattern:"^BOLT",operator:"usaf",aircraftType:"fighter",description:"Fighter ops"},{pattern:"^VIPER",operator:"usaf",aircraftType:"fighter",description:"F-16 operations"},{pattern:"^RAPTOR",operator:"usaf",aircraftType:"fighter",description:"F-22 operations"},{pattern:"^BONE",operator:"usaf",aircraftType:"bomber",description:"B-1B operations"},{pattern:"^DEATH",operator:"usaf",aircraftType:"bomber",description:"B-2 operations"},{pattern:"^DOOM",operator:"usaf",aircraftType:"bomber",description:"B-52 operations"},{pattern:"^SNTRY",operator:"usaf",aircraftType:"awacs",description:"E-3 AWACS"},{pattern:"^DRAGN",operator:"usaf",aircraftType:"reconnaissance",description:"U-2 operations"},{pattern:"^COBRA",operator:"usaf",aircraftType:"reconnaissance",description:"RC-135 SIGINT"},{pattern:"^RIVET",operator:"usaf",aircraftType:"reconnaissance",description:"RC-135 variants"},{pattern:"^OLIVE",operator:"usaf",aircraftType:"reconnaissance",description:"RC-135 operations"},{pattern:"^JAKE",operator:"usaf",aircraftType:"reconnaissance",description:"E-8 JSTARS"},{pattern:"^NCHO",operator:"usaf",aircraftType:"special_ops",description:"MC-130 Specops"},{pattern:"^SHADOW",operator:"usaf",aircraftType:"special_ops",description:"Special operations"},{pattern:"^EVAC",operator:"usaf",aircraftType:"transport",description:"Aeromedical evacuation"},{pattern:"^MOOSE",operator:"usaf",aircraftType:"transport",description:"C-17 operations"},{pattern:"^HERKY",operator:"usaf",aircraftType:"transport",description:"C-130 operations"},{pattern:"^NAVY",operator:"usn",description:"US Navy aircraft"},{pattern:"^CNV",operator:"usn",aircraftType:"transport",description:"Navy transport"},{pattern:"^VRC",operator:"usn",aircraftType:"transport",description:"Carrier onboard delivery"},{pattern:"^TRIDENT",operator:"usn",aircraftType:"patrol",description:"P-8 maritime patrol"},{pattern:"^RED",operator:"usn",aircraftType:"patrol",description:"P-8/P-3 operations"},{pattern:"^BRONCO",operator:"usn",aircraftType:"fighter",description:"F/A-18 operations"},{pattern:"^MARINE",operator:"usmc",description:"USMC aircraft"},{pattern:"^HMX",operator:"usmc",aircraftType:"vip",description:"Marine One squadron"},{pattern:"^NIGHT",operator:"usmc",aircraftType:"vip",description:"Nighthawk VIP transport"},{pattern:"^ARMY",operator:"usa",description:"US Army aircraft"},{pattern:"^PAT",operator:"usa",aircraftType:"transport",description:"Priority air transport"},{pattern:"^DUSTOFF",operator:"usa",aircraftType:"helicopter",description:"Medevac helicopters"},{pattern:"^COAST GUARD",operator:"other",aircraftType:"patrol",description:"USCG aircraft"},{pattern:"^CG[0-9]",operator:"other",aircraftType:"patrol",description:"USCG aircraft"},{pattern:"^FORTE",operator:"usaf",aircraftType:"drone",description:"RQ-4 Global Hawk"},{pattern:"^HAWK",operator:"usaf",aircraftType:"drone",description:"Global Hawk drone"},{pattern:"^REAPER",operator:"usaf",aircraftType:"drone",description:"MQ-9 Reaper"}],Ym=[{pattern:"^RRR",operator:"raf",description:"RAF aircraft"},{pattern:"^ASCOT",operator:"raf",aircraftType:"transport",description:"RAF transport"},{pattern:"^RAFAIR",operator:"raf",aircraftType:"transport",description:"RAF transport"},{pattern:"^TARTAN",operator:"raf",aircraftType:"tanker",description:"RAF tanker"},{pattern:"^NATO",operator:"nato",aircraftType:"awacs",description:"NATO AWACS"},{pattern:"^RN",operator:"rn",description:"Royal Navy aircraft"},{pattern:"^NAVY",operator:"rn",description:"RN aircraft"},{pattern:"^FAF",operator:"faf",description:"French Air Force"},{pattern:"^CTM",operator:"faf",aircraftType:"transport",description:"French AF transport"},{pattern:"^FRENCH",operator:"faf",description:"French military"},{pattern:"^GAF",operator:"gaf",description:"German Air Force"},{pattern:"^GERMAN",operator:"gaf",description:"German military"},{pattern:"^IAF",operator:"iaf",description:"Israeli Air Force"},{pattern:"^ELAL",operator:"iaf",description:"IAF transport (covers)"},{pattern:"^THK",operator:"other",description:"Turkish Air Force"},{pattern:"^TUR",operator:"other",description:"Turkish military"},{pattern:"^SVA",operator:"other",description:"Saudi Air Force"},{pattern:"^RSAF",operator:"other",description:"Royal Saudi Air Force"},{pattern:"^UAF",operator:"other",description:"UAE Air Force"},{pattern:"^AIR INDIA ONE",operator:"other",aircraftType:"vip",description:"Indian Air Force One"},{pattern:"^IAM",operator:"other",description:"Indian Air Force"},{pattern:"^JPN",operator:"other",description:"Japan Self-Defense Force"},{pattern:"^JASDF",operator:"other",description:"Japan Air Self-Defense Force"},{pattern:"^ROKAF",operator:"other",description:"Republic of Korea Air Force"},{pattern:"^KAF",operator:"other",description:"Korean Air Force"},{pattern:"^RAAF",operator:"other",description:"Royal Australian Air Force"},{pattern:"^AUSSIE",operator:"other",description:"Australian military"},{pattern:"^CANFORCE",operator:"other",aircraftType:"transport",description:"Canadian Armed Forces"},{pattern:"^CFC",operator:"other",description:"Canadian Forces"},{pattern:"^IAM",operator:"other",description:"Italian Air Force"},{pattern:"^ITALY",operator:"other",description:"Italian military"},{pattern:"^AME",operator:"other",description:"Spanish Air Force"},{pattern:"^PLF",operator:"other",description:"Polish Air Force"},{pattern:"^HAF",operator:"other",description:"Hellenic Air Force"},{pattern:"^EGY",operator:"other",description:"Egyptian Air Force"},{pattern:"^PAF",operator:"other",description:"Pakistan Air Force"}],Jm=[{pattern:"^RF",operator:"vks",description:"Russian Federation aircraft"},{pattern:"^RFF",operator:"vks",description:"Russian AF"},{pattern:"^RUSSIAN",operator:"vks",description:"Russian military"},{pattern:"^CCA",operator:"plaaf",description:"PLA Air Force"},{pattern:"^CHH",operator:"plan",description:"PLA Navy Air"},{pattern:"^CHINA",operator:"plaaf",description:"Chinese military"}],Fi=[...qm,...Ym,...Jm],Xm={F15:{type:"fighter",name:"F-15 Eagle"},F16:{type:"fighter",name:"F-16 Fighting Falcon"},F18:{type:"fighter",name:"F/A-18 Hornet"},FA18:{type:"fighter",name:"F/A-18 Hornet"},F22:{type:"fighter",name:"F-22 Raptor"},F35:{type:"fighter",name:"F-35 Lightning II"},F117:{type:"fighter",name:"F-117 Nighthawk"},SU27:{type:"fighter",name:"Su-27 Flanker"},SU30:{type:"fighter",name:"Su-30 Flanker"},SU35:{type:"fighter",name:"Su-35 Flanker-E"},MIG29:{type:"fighter",name:"MiG-29 Fulcrum"},MIG31:{type:"fighter",name:"MiG-31 Foxhound"},EUFI:{type:"fighter",name:"Eurofighter Typhoon"},EF2K:{type:"fighter",name:"Eurofighter Typhoon"},RFAL:{type:"fighter",name:"Dassault Rafale"},J10:{type:"fighter",name:"J-10 Vigorous Dragon"},J11:{type:"fighter",name:"J-11 Flanker"},J20:{type:"fighter",name:"J-20 Mighty Dragon"},B52:{type:"bomber",name:"B-52 Stratofortress"},B1:{type:"bomber",name:"B-1B Lancer"},B1B:{type:"bomber",name:"B-1B Lancer"},B2:{type:"bomber",name:"B-2 Spirit"},TU95:{type:"bomber",name:"Tu-95 Bear"},TU160:{type:"bomber",name:"Tu-160 Blackjack"},TU22:{type:"bomber",name:"Tu-22M Backfire"},H6:{type:"bomber",name:"H-6 Badger"},C130:{type:"transport",name:"C-130 Hercules"},C17:{type:"transport",name:"C-17 Globemaster III"},C5:{type:"transport",name:"C-5 Galaxy"},C5M:{type:"transport",name:"C-5M Super Galaxy"},C40:{type:"transport",name:"C-40 Clipper"},C32:{type:"transport",name:"C-32 (757)"},VC25:{type:"vip",name:"VC-25 Air Force One"},A400:{type:"transport",name:"A400M Atlas"},IL76:{type:"transport",name:"Il-76 Candid"},AN124:{type:"transport",name:"An-124 Ruslan"},AN225:{type:"transport",name:"An-225 Mriya"},Y20:{type:"transport",name:"Y-20 Kunpeng"},KC135:{type:"tanker",name:"KC-135 Stratotanker"},K35R:{type:"tanker",name:"KC-135R Stratotanker"},KC10:{type:"tanker",name:"KC-10 Extender"},KC46:{type:"tanker",name:"KC-46 Pegasus"},A330:{type:"tanker",name:"A330 MRTT"},A332:{type:"tanker",name:"A330 MRTT"},E3:{type:"awacs",name:"E-3 Sentry AWACS"},E3TF:{type:"awacs",name:"E-3 Sentry AWACS"},E7:{type:"awacs",name:"E-7 Wedgetail"},E2:{type:"awacs",name:"E-2 Hawkeye"},A50:{type:"awacs",name:"A-50 Mainstay"},KJ2000:{type:"awacs",name:"KJ-2000"},RC135:{type:"reconnaissance",name:"RC-135 Rivet Joint"},R135:{type:"reconnaissance",name:"RC-135"},U2:{type:"reconnaissance",name:"U-2 Dragon Lady"},U2S:{type:"reconnaissance",name:"U-2S Dragon Lady"},EP3:{type:"reconnaissance",name:"EP-3 Aries"},E8:{type:"reconnaissance",name:"E-8 JSTARS"},WC135:{type:"reconnaissance",name:"WC-135 Constant Phoenix"},OC135:{type:"reconnaissance",name:"OC-135 Open Skies"},P8:{type:"patrol",name:"P-8 Poseidon"},P3:{type:"patrol",name:"P-3 Orion"},P1:{type:"patrol",name:"Kawasaki P-1"},RQ4:{type:"drone",name:"RQ-4 Global Hawk"},GLHK:{type:"drone",name:"RQ-4 Global Hawk"},MQ9:{type:"drone",name:"MQ-9 Reaper"},MQ1:{type:"drone",name:"MQ-1 Predator"},RQ170:{type:"drone",name:"RQ-170 Sentinel"},MQ4C:{type:"drone",name:"MQ-4C Triton"},MC130:{type:"special_ops",name:"MC-130 Combat Talon"},AC130:{type:"special_ops",name:"AC-130 Gunship"},CV22:{type:"special_ops",name:"CV-22 Osprey"},MV22:{type:"special_ops",name:"MV-22 Osprey"},H60:{type:"helicopter",name:"UH-60 Black Hawk"},S70:{type:"helicopter",name:"UH-60 Black Hawk"},H47:{type:"helicopter",name:"CH-47 Chinook"},CH47:{type:"helicopter",name:"CH-47 Chinook"},AH64:{type:"helicopter",name:"AH-64 Apache"},H64:{type:"helicopter",name:"AH-64 Apache"},H1:{type:"helicopter",name:"AH-1 Cobra/Viper"},MI8:{type:"helicopter",name:"Mi-8 Hip"},MI24:{type:"helicopter",name:"Mi-24 Hind"},MI28:{type:"helicopter",name:"Mi-28 Havoc"},KA52:{type:"helicopter",name:"Ka-52 Alligator"}},Qm=[{start:"ADF7C7",end:"ADF7CF",operator:"usaf",country:"USA"},{start:"AE0000",end:"AFFFFF",operator:"usaf",country:"USA"},{start:"A00000",end:"A3FFFF",operator:"usaf",country:"USA"},{start:"43C000",end:"43CFFF",operator:"raf",country:"UK"},{start:"3A0000",end:"3AFFFF",operator:"faf",country:"France"},{start:"3B0000",end:"3BFFFF",operator:"faf",country:"France"},{start:"3F0000",end:"3FFFFF",operator:"gaf",country:"Germany"},{start:"738000",end:"73FFFF",operator:"iaf",country:"Israel"},{start:"4D0000",end:"4D03FF",operator:"nato",country:"NATO"},{start:"300000",end:"33FFFF",operator:"other",country:"Italy"},{start:"340000",end:"37FFFF",operator:"other",country:"Spain"},{start:"480000",end:"480FFF",operator:"other",country:"Netherlands"},{start:"4BA000",end:"4BCFFF",operator:"other",country:"Turkey"},{start:"710000",end:"717FFF",operator:"other",country:"Saudi Arabia"},{start:"896000",end:"896FFF",operator:"other",country:"UAE"},{start:"06A000",end:"06AFFF",operator:"other",country:"Qatar"},{start:"706000",end:"706FFF",operator:"other",country:"Kuwait"},{start:"840000",end:"87FFFF",operator:"other",country:"Japan"},{start:"718000",end:"71FFFF",operator:"other",country:"South Korea"},{start:"7CF800",end:"7CFFFF",operator:"other",country:"Australia"},{start:"C00000",end:"C0FFFF",operator:"other",country:"Canada"},{start:"800000",end:"83FFFF",operator:"other",country:"India"},{start:"760000",end:"767FFF",operator:"other",country:"Pakistan"},{start:"500000",end:"5003FF",operator:"other",country:"Egypt"},{start:"488000",end:"48FFFF",operator:"other",country:"Poland"},{start:"468000",end:"46FFFF",operator:"other",country:"Greece"},{start:"4A8000",end:"4AFFFF",operator:"other",country:"Sweden"},{start:"478000",end:"47FFFF",operator:"other",country:"Norway"},{start:"768000",end:"76FFFF",operator:"other",country:"Singapore"}],Zm=[{mmsiPrefix:"3699",operator:"usn",country:"USA",vesselType:"destroyer"},{mmsiPrefix:"369970",operator:"usn",country:"USA"},{mmsiPrefix:"232",operator:"rn",country:"UK"},{mmsiPrefix:"2320",operator:"rn",country:"UK"}],eh=[{name:"USS Gerald R. Ford",hullNumber:"CVN-78",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS George H.W. Bush",hullNumber:"CVN-77",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Ronald Reagan",hullNumber:"CVN-76",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Harry S. Truman",hullNumber:"CVN-75",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS John C. Stennis",hullNumber:"CVN-74",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS George Washington",hullNumber:"CVN-73",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Abraham Lincoln",hullNumber:"CVN-72",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Theodore Roosevelt",hullNumber:"CVN-71",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Carl Vinson",hullNumber:"CVN-70",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Dwight D. Eisenhower",hullNumber:"CVN-69",operator:"usn",country:"USA",vesselType:"carrier"},{name:"USS Nimitz",hullNumber:"CVN-68",operator:"usn",country:"USA",vesselType:"carrier"},{name:"HMS Queen Elizabeth",hullNumber:"R08",operator:"rn",country:"UK",vesselType:"carrier"},{name:"HMS Prince of Wales",hullNumber:"R09",operator:"rn",country:"UK",vesselType:"carrier"},{name:"Liaoning",hullNumber:"16",operator:"plan",country:"China",vesselType:"carrier"},{name:"Shandong",hullNumber:"17",operator:"plan",country:"China",vesselType:"carrier"},{name:"Fujian",hullNumber:"18",operator:"plan",country:"China",vesselType:"carrier"},{name:"Admiral Kuznetsov",operator:"vks",country:"Russia",vesselType:"carrier"},{name:"USS Zumwalt",hullNumber:"DDG-1000",operator:"usn",country:"USA",vesselType:"destroyer"},{name:"HMS Defender",hullNumber:"D36",operator:"rn",country:"UK",vesselType:"destroyer"},{name:"HMS Duncan",hullNumber:"D37",operator:"rn",country:"UK",vesselType:"destroyer"},{name:"USNS Victorious",hullNumber:"T-AGOS-19",operator:"usn",country:"USA",vesselType:"research"},{name:"USNS Impeccable",hullNumber:"T-AGOS-23",operator:"usn",country:"USA",vesselType:"research"},{name:"Yuan Wang",operator:"plan",country:"China",vesselType:"research"}],Ee=[{name:"INDO-PACIFIC",lat:28,lon:125,radius:18,priority:"high"},{name:"CENTCOM",lat:28,lon:42,radius:15,priority:"high"},{name:"EUCOM",lat:52,lon:28,radius:15,priority:"medium"},{name:"ARCTIC",lat:75,lon:0,radius:10,priority:"low"}],ka={"Philippine Sea":{lat:18,lon:130},"South China Sea":{lat:14,lon:115},"East China Sea":{lat:28,lon:125},"Sea of Japan":{lat:40,lon:135},"Arabian Sea":{lat:18,lon:63},"Red Sea":{lat:20,lon:38},"Mediterranean Sea":{lat:35,lon:18},"Eastern Mediterranean":{lat:34.5,lon:33},"Western Mediterranean":{lat:37,lon:3},"Persian Gulf":{lat:26.5,lon:52},"Gulf of Oman":{lat:24.5,lon:58.5},"Gulf of Aden":{lat:12,lon:47},"Caribbean Sea":{lat:15,lon:-73},"North Atlantic":{lat:45,lon:-30},"Atlantic Ocean":{lat:30,lon:-40},"Western Atlantic":{lat:30,lon:-60},"Pacific Ocean":{lat:20,lon:-150},"Eastern Pacific":{lat:18,lon:-125},"Western Pacific":{lat:20,lon:140},"Indian Ocean":{lat:-5,lon:75},Antarctic:{lat:-70,lon:20},"Baltic Sea":{lat:58,lon:20},"Black Sea":{lat:43.5,lon:34},"Bay of Bengal":{lat:14,lon:87},"Bab el-Mandeb Strait":{lat:12.5,lon:43.5},"Strait of Hormuz":{lat:26.5,lon:56.5},"Taiwan Strait":{lat:24.5,lon:119.5},"Suez Canal":{lat:30,lon:32.5},Yokosuka:{lat:35.29,lon:139.67},Japan:{lat:35.29,lon:139.67},Sasebo:{lat:33.16,lon:129.72},Guam:{lat:13.45,lon:144.79},"Pearl Harbor":{lat:21.35,lon:-157.95},"San Diego":{lat:32.68,lon:-117.15},Norfolk:{lat:36.95,lon:-76.3},Mayport:{lat:30.39,lon:-81.4},Bahrain:{lat:26.23,lon:50.55},Rota:{lat:36.63,lon:-6.35},"Rota Spain":{lat:36.63,lon:-6.35},"Diego Garcia":{lat:-7.32,lon:72.42},"Souda Bay":{lat:35.49,lon:24.08},Naples:{lat:40.84,lon:14.25},Bremerton:{lat:47.57,lon:-122.63},Everett:{lat:47.97,lon:-122.22},"Kings Bay":{lat:30.8,lon:-81.56},Bangor:{lat:47.73,lon:-122.71},Djibouti:{lat:11.55,lon:43.15},Singapore:{lat:1.35,lon:103.82}};function _r(t){return t.replace(/^(In the|In|The)\s+/i,"").replace(/\s+/g," ").trim()}function Br(t){const a=_r(t);if(ka[a])return ka[a];const e=a.toLowerCase();for(const[n,i]of Object.entries(ka))if(n.toLowerCase()===e||e.includes(n.toLowerCase())||n.toLowerCase().includes(e))return i}function th(t){const a=Br(t);if(a)return a;const e=_r(t).toLowerCase();if(e.includes("eastern pacific"))return{lat:18,lon:-125};if(e.includes("western atlantic"))return{lat:30,lon:-60};if(e.includes("pacific"))return{lat:15,lon:-150};if(e.includes("atlantic"))return{lat:30,lon:-40};if(e.includes("indian"))return{lat:-5,lon:75};if(e.includes("mediterranean"))return{lat:35,lon:18};if(e.includes("antarctic")||e.includes("southern"))return{lat:-70,lon:20};if(e.includes("arctic"))return{lat:75,lon:0};let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;const i=Math.abs(n)%120-60,s=Math.abs(n*31)%300-150;return{lat:i,lon:s}}function xr(t,a){const e=t.toUpperCase().trim(),n=a==null?void 0:a.toLowerCase().trim(),i=[];if((n==="united kingdom"||n==="uk")&&i.push("rn","raf"),(n==="united states"||n==="usa")&&i.push("usn","usaf","usa","usmc"),i.length>0){for(const s of Fi)if(i.includes(s.operator)&&new RegExp(s.pattern,"i").test(e))return s}for(const s of Fi)if(new RegExp(s.pattern,"i").test(e))return s}function ah(t){const a=t.toUpperCase().replace(/[^A-Z0-9]/g,"");return Xm[a]}function Hr(t){const a=t.toUpperCase();for(const e of Qm)if(a>=e.start&&a<=e.end)return{operator:e.operator,country:e.country}}function $r(t,a){for(const e of Ee)if(Math.sqrt(Math.pow(t-e.lat,2)+Math.pow(a-e.lon,2))<=e.radius)return e}class _i extends Error{constructor(e){super("Validation failed");h(this,"violations");this.name="ValidationError",this.violations=e}}class nh extends Error{constructor(e,n,i){super(n);h(this,"statusCode");h(this,"body");this.name="ApiError",this.statusCode=e,this.body=i}}class Mn{constructor(a,e){h(this,"baseURL");h(this,"fetchFn");h(this,"defaultHeaders");this.baseURL=a.replace(/\/+$/,""),this.fetchFn=(e==null?void 0:e.fetch)??globalThis.fetch,this.defaultHeaders={...e==null?void 0:e.defaultHeaders}}async listMilitaryFlights(a,e){const i=this.baseURL+"/api/military/v1/list-military-flights",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getTheaterPosture(a,e){const i=this.baseURL+"/api/military/v1/get-theater-posture",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getAircraftDetails(a,e){const i=this.baseURL+"/api/military/v1/get-aircraft-details",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getAircraftDetailsBatch(a,e){const i=this.baseURL+"/api/military/v1/get-aircraft-details-batch",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getWingbitsStatus(a,e){const i=this.baseURL+"/api/military/v1/get-wingbits-status",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async getUSNIFleetReport(a,e){const i=this.baseURL+"/api/military/v1/get-usni-fleet-report",s={"Content-Type":"application/json",...this.defaultHeaders,...e==null?void 0:e.headers},r=await this.fetchFn(i,{method:"POST",headers:s,body:JSON.stringify(a),signal:e==null?void 0:e.signal});return r.ok?await r.json():this.handleError(r)}async handleError(a){const e=await a.text();if(a.status===400)try{const n=JSON.parse(e);if(n.violations)throw new _i(n.violations)}catch(n){if(n instanceof _i)throw n}throw new nh(a.status,`Request failed with status ${a.status}`,e)}}const Gr=new Mn("",{fetch:fetch.bind(globalThis)}),Y=new Map,Vr=3600*1e3,_t=2e3,ih=300*1e3;let Bi=0;function tn(t=Date.now()){if(t-Bi<ih&&Y.size<=_t)return;Bi=t;for(const[n,i]of Y.entries())t-i.timestamp>=Vr&&Y.delete(n);if(Y.size<=_t)return;const e=Array.from(Y.entries()).sort((n,i)=>n[1].timestamp-i[1].timestamp).slice(0,Y.size-_t);for(const[n]of e)Y.delete(n)}function sh(t){const a=Date.now();tn(a);const e=Y.get(t);return e?a-e.timestamp>=Vr?(Y.delete(t),null):e.data:null}function rh(t,a){tn(),Y.set(t,{data:a,timestamp:Date.now()}),Y.size>_t&&tn()}let ce=null;M({name:"Wingbits Enrichment",maxFailures:5,cooldownMs:300*1e3});const oh=["air force","navy","army","marine","military","defense","defence","usaf","raf","luftwaffe","aeronautica","fuerza aerea","coast guard","national guard","air national guard","nato","norad"],ch=["united states air force","united states navy","united states army","us air force","us navy","us army","us marine corps","department of defense","department of the air force","department of the navy","ministry of defence","ministry of defense","royal air force","royal navy","bundeswehr","german air force","german navy","french air force","armee de lair","israel defense forces","israeli air force","nato","northrop grumman","lockheed martin","general atomics","raytheon","boeing defense","bae systems"],lh=["C17","C5","C130","C135","KC135","KC10","KC46","E3","E8","E6","B52","B1","B2","F15","F16","F18","F22","F35","A10","P8","P3","EP3","RC135","U2","RQ4","MQ9","MQ1","V22","CH47","UH60","AH64","HH60","EUFI","TYPHOON","RAFALE","TORNADO","GRIPEN"];function uh(t){return{icao24:t.icao24,registration:t.registration||null,manufacturerIcao:t.manufacturerIcao||null,manufacturerName:t.manufacturerName||null,model:t.model||null,typecode:t.typecode||null,serialNumber:t.serialNumber||null,icaoAircraftType:t.icaoAircraftType||null,operator:t.operator||null,operatorCallsign:t.operatorCallsign||null,operatorIcao:t.operatorIcao||null,owner:t.owner||null,built:t.built||null,engines:t.engines||null,categoryDescription:t.categoryDescription||null}}async function dh(){if(!B("wingbitsEnrichment"))return!1;if(ce!==null)return ce;try{return ce=(await Gr.getWingbitsStatus({})).configured,V.setEnabled("wingbits",ce),console.log(`[Wingbits] Status: ${ce?"configured":"not configured"}`),ce}catch{return ce=!1,V.setEnabled("wingbits",!1),!1}}async function ph(t){if(!B("wingbitsEnrichment"))return new Map;const a=new Map,e=[];for(const n of t){const i=n.toLowerCase(),s=sh(i);s?s.registration&&a.set(i,s):e.push(i)}if(e.length===0||ce===!1)return a;try{const n=await Gr.getAircraftDetailsBatch({icao24s:e});if(n.configured===!1)return ce=!1,a;for(const[i,s]of Object.entries(n.results)){const r=uh(s);rh(i,r),r.registration&&a.set(i,r)}console.log(`[Wingbits] Batch: ${a.size} enriched, ${n.fetched||0} fetched`),a.size>0&&V.recordUpdate("wingbits",a.size)}catch(n){console.warn("[Wingbits] Batch fetch failed:",n),V.recordError("wingbits",n instanceof Error?n.message:"Unknown error")}return a}function mh(t){var c;const a={registration:t.registration,manufacturer:t.manufacturerName,model:t.model,typecode:t.typecode,owner:t.owner,operator:t.operator,operatorIcao:t.operatorIcao,builtYear:((c=t.built)==null?void 0:c.substring(0,4))||null,isMilitary:!1,militaryBranch:null,confidence:"civilian"},e=(t.owner||"").toLowerCase(),n=(t.operator||"").toLowerCase(),i=(t.typecode||"").toUpperCase(),s=(t.operatorIcao||"").toUpperCase();for(const l of oh)if(n.includes(l))return a.isMilitary=!0,a.militaryBranch=xi(n),a.confidence="confirmed",a;for(const l of ch)if(e.includes(l))return a.isMilitary=!0,a.militaryBranch=xi(e),a.confidence="confirmed",a;if(["AIO","RRR","RFR","GAF","RCH","CNV","DOD"].includes(s))return a.isMilitary=!0,a.confidence="likely",a;for(const l of lh)if(i.includes(l))return a.isMilitary=!0,a.confidence="likely",a;const o=["northrop","lockheed","general atomics","raytheon","boeing defense","l3harris"];for(const l of o)if(e.includes(l)||n.includes(l))return a.isMilitary=!0,a.confidence="possible",a;return a}function xi(t){return t.includes("air force")||t.includes("usaf")||t.includes("raf")?"Air Force":t.includes("navy")||t.includes("naval")?"Navy":t.includes("army")?"Army":t.includes("marine")?"Marines":t.includes("coast guard")?"Coast Guard":t.includes("national guard")?"National Guard":t.includes("nato")?"NATO":null}const Hi="",hh=300*1e3;let et=null;const qt=new Map,yh=20,zr=300*1e3,gh=M({name:"Military Flight Tracking",maxFailures:3,cooldownMs:300*1e3,cacheTtlMs:300*1e3});function fh(t,a,e,n){const i=xr(t,e);if(i)return{type:i.aircraftType||"unknown",operator:i.operator,country:Sh(i.operator),confidence:"high"};const s=Hr(a);return s?{type:"unknown",operator:s.operator,country:s.country,confidence:"medium"}:{type:"unknown",operator:"other",country:"Unknown",confidence:"low"}}function Sh(t){return{usaf:"USA",usn:"USA",usmc:"USA",usa:"USA",raf:"UK",rn:"UK",faf:"France",gaf:"Germany",plaaf:"China",plan:"China",vks:"Russia",iaf:"Israel",nato:"NATO",other:"Unknown"}[t]}function vh(t){const a=(t[1]||"").trim(),e=t[0],n=t[2];if(a&&xr(a,n)||Hr(e))return!0;if(["United States","United Kingdom","France","Germany","Israel","Turkey","Saudi Arabia","United Arab Emirates","Qatar","Kuwait","Japan","South Korea","Australia","Canada","Italy","Spain","Netherlands","Poland","Greece","Norway","Sweden","India","Pakistan","Egypt","Singapore","Taiwan"].includes(n)){const s=/^(RCH|REACH|DUKE|KING|GOLD|NAVY|ARMY|MARINE|NATO|RAF|GAF|FAF|IAF|THK|TUR|RSAF|UAF|JPN|JASDF|ROKAF|KAF|RAAF|CANFORCE|CFC|AME|PLF|HAF|EGY|PAF|FORTE|HAWK|REAPER|COBRA|RIVET|OLIVE|SNTRY|DRAGN|BONE|DEATH|DOOM|TRIDENT|ASCOT|CNV|HMX|DUSTOFF|EVAC|MOOSE|HERKY)/i.test(a);if(a&&s)return!0}return!1}function wh(t){if(!t.states)return[];const a=[],e=new Date;for(const n of t.states){if(!vh(n))continue;const i=n[0],s=(n[1]||"").trim(),r=n[6],o=n[5];if(r===null||o===null)continue;const c=fh(s,i,n[2]),l=i;let d=qt.get(l);d||(d={positions:[],lastUpdate:Date.now()},qt.set(l,d)),d.positions.push([r,o]),d.positions.length>yh&&d.positions.shift(),d.lastUpdate=Date.now();const m=$r(r,o),y=(m==null?void 0:m.priority)==="high"||c.type==="bomber"||c.type==="reconnaissance"||c.type==="awacs",f=n[7],g=n[9],v=n[10],b=n[11],C={id:`opensky-${i}`,callsign:s||`UNKN-${i.substring(0,4).toUpperCase()}`,hexCode:i.toUpperCase(),aircraftType:c.type,operator:c.operator,operatorCountry:c.country,lat:r,lon:o,altitude:f?Math.round(f*3.28084):0,heading:v||0,speed:g?Math.round(g*1.94384):0,verticalRate:b?Math.round(b*196.85):void 0,onGround:n[8],squawk:n[14]||void 0,lastSeen:e,track:d.positions.length>1?[...d.positions]:void 0,confidence:c.confidence,isInteresting:y,note:m?`Near ${m.name}`:void 0};a.push(C)}return a}async function bh(t){try{if(!Hi)return[];const a=t.lat-t.radius,e=t.lat+t.radius,n=t.lon-t.radius,i=t.lon+t.radius,s=await fetch(`${Hi}?lamin=${a}&lamax=${e}&lomin=${n}&lomax=${i}`,{headers:{Accept:"application/json"}});if(!s.ok)return s.status===429&&console.warn(`[Military Flights] Rate limited for ${t.name}`),[];const r=await s.json();return wh(r)}catch{return[]}}async function Ah(){const t=[],a=new Set,e=3;for(let n=0;n<Ee.length;n+=e){const i=Ee.slice(n,n+e),s=await Promise.all(i.map(r=>bh(r)));for(const r of s)for(const o of r)a.has(o.hexCode)||(a.add(o.hexCode),t.push(o));n+e<Ee.length&&await new Promise(r=>setTimeout(r,200))}return console.log(`[Military Flights] Found ${t.length} military aircraft from ${Ee.length} regions`),t}async function Ch(t){if(!await dh())return console.log("[Military Flights] Wingbits not configured, skipping enrichment"),t;const e=t.map(i=>i.hexCode.toLowerCase()),n=await ph(e);return n.size===0?t:(console.log(`[Military Flights] Enriching ${n.size} of ${t.length} aircraft with Wingbits data`),t.map(i=>{const s=n.get(i.hexCode.toLowerCase());if(!s)return i;const r=mh(s),o={...i};o.enriched={manufacturer:r.manufacturer||void 0,owner:r.owner||void 0,operatorName:r.operator||void 0,typeCode:r.typecode||void 0,builtYear:r.builtYear||void 0,confirmedMilitary:r.isMilitary,militaryBranch:r.militaryBranch||void 0},!o.registration&&r.registration&&(o.registration=r.registration),!o.aircraftModel&&r.model&&(o.aircraftModel=r.model);const c=r.typecode||s.typecode;if(c&&o.aircraftType==="unknown"){const l=ah(c);l&&(o.aircraftType=l.type,o.confidence==="low"&&(o.confidence="medium"))}return r.isMilitary&&(r.confidence==="confirmed"?o.confidence="high":r.confidence==="likely"&&o.confidence==="low"&&(o.confidence="medium"),r.militaryBranch&&(o.isInteresting=!0,o.note||(o.note=`${r.militaryBranch}${r.owner?` - ${r.owner}`:""}`))),o}))}function $i(t){const a=[],e=new Set;for(const n of Ee){const i=t.filter(s=>e.has(s.id)?!1:Math.sqrt(Math.pow(s.lat-n.lat,2)+Math.pow(s.lon-n.lon,2))<=n.radius);if(i.length>=2){i.forEach(g=>e.add(g.id));const s=i.reduce((g,v)=>g+v.lat,0)/i.length,r=i.reduce((g,v)=>g+v.lon,0)/i.length,o=new Map;for(const g of i)o.set(g.operator,(o.get(g.operator)||0)+1);let c,l=0;for(const[g,v]of o)v>l&&(l=v,c=g);const d=i.some(g=>g.aircraftType==="transport"||g.aircraftType==="tanker"),m=i.some(g=>g.aircraftType==="fighter"),y=i.some(g=>g.aircraftType==="reconnaissance"||g.aircraftType==="awacs");let f="unknown";m&&y?f="exercise":m||y?f="patrol":d&&(f="transport"),a.push({id:`cluster-${n.name.toLowerCase().replace(/\s+/g,"-")}`,name:n.name,lat:s,lon:r,flightCount:i.length,flights:i,dominantOperator:c,activityType:f})}}return a}function kh(){const t=Date.now()-zr;for(const[a,e]of qt)e.lastUpdate<t&&qt.delete(a)}typeof window<"u"&&setInterval(kh,zr);async function yw(){return B("openskyRelay")?gh.execute(async()=>{if(et&&Date.now()-et.timestamp<hh){const e=$i(et.data);return{flights:et.data,clusters:e}}let t=await Ah();if(t.length===0)throw new Error("No flights returned — upstream may be down");t=await Ch(t),et={data:t,timestamp:Date.now()};const a=$i(t);return console.log(`[Military Flights] Total: ${t.length} flights, ${a.length} clusters`),{flights:t,clusters:a}},{flights:[],clusters:[]}):{flights:[],clusters:[]}}const Ih=new Mn("",{fetch:fetch.bind(globalThis)}),Th=M({name:"USNI Fleet Tracker",maxFailures:3,cooldownMs:600*1e3,cacheTtlMs:3600*1e3});let Ia=null,Gi=0;const Eh=3600*1e3;function Mh(t){const a=t.report;if(!a)return null;const e=a.vessels.map(n=>({name:n.name,hullNumber:n.hullNumber,vesselType:n.vesselType,region:n.region,regionLat:n.regionLat,regionLon:n.regionLon,deploymentStatus:n.deploymentStatus,homePort:n.homePort||void 0,strikeGroup:n.strikeGroup||void 0,activityDescription:n.activityDescription||void 0,usniArticleUrl:n.articleUrl,usniArticleDate:n.articleDate}));return{articleUrl:a.articleUrl,articleDate:a.articleDate,articleTitle:a.articleTitle,battleForceSummary:a.battleForceSummary,vessels:e,strikeGroups:a.strikeGroups,regions:a.regions,parsingWarnings:a.parsingWarnings,timestamp:new Date(a.timestamp).toISOString()}}async function Nh(){if(Ia&&Date.now()-Gi<Eh)return Ia;const t=await Th.execute(async()=>{const a=await Ih.getUSNIFleetReport({forceRefresh:!1});return a.error&&!a.report?null:Mh(a)},null);return t&&(Ia=t,Gi=Date.now()),t}function De(t){return t?t.toUpperCase().replace(/\s+/g,"").replace(/[–—]/g,"-"):""}function Rh(t,a){let e=0;const n=t||String(a);for(let r=0;r<n.length;r++)e=(e<<5)-e+n.charCodeAt(r),e|=0;const i=e%360*(Math.PI/180),s=.2+Math.abs(e)%30*.01;return{lat:Math.sin(i)*s,lon:Math.cos(i)*s}}function Ph(t,a,e=[]){const n=t.map(c=>({...c})),i=new Set;for(const c of n){if(!c.hullNumber)continue;const l=De(c.hullNumber);for(const d of a.vessels)if(De(d.hullNumber)===l){c.usniRegion=d.region,c.usniDeploymentStatus=d.deploymentStatus,c.usniStrikeGroup=d.strikeGroup,c.usniActivityDescription=d.activityDescription,c.usniArticleUrl=d.usniArticleUrl,c.usniArticleDate=d.usniArticleDate,i.add(De(d.hullNumber));break}}for(const c of n){if(c.usniRegion)continue;const l=c.name.replace(/^USS\s+/i,"").toUpperCase().trim();if(l)for(const d of a.vessels){if(i.has(De(d.hullNumber)))continue;const m=d.name.replace(/^USS\s+/i,"").replace(/^USNS\s+/i,"").toUpperCase().trim();if(l===m||l.includes(m)||m.includes(l)){c.usniRegion=d.region,c.usniDeploymentStatus=d.deploymentStatus,c.usniStrikeGroup=d.strikeGroup,c.usniActivityDescription=d.activityDescription,c.usniArticleUrl=d.usniArticleUrl,c.usniArticleDate=d.usniArticleDate,i.add(De(d.hullNumber));break}}}let s=0;for(const c of a.vessels){if(i.has(De(c.hullNumber)))continue;const l=Br(c.region),d=Number.isFinite(c.regionLat)&&Number.isFinite(c.regionLon)&&!(c.regionLat===0&&c.regionLon===0),m=th(c.region),y=(l==null?void 0:l.lat)??(d?c.regionLat:m.lat),f=(l==null?void 0:l.lon)??(d?c.regionLon:m.lon),g=Rh(c.hullNumber,s++);n.push({id:`usni-${c.hullNumber||c.name}`,mmsi:"",name:c.name,vesselType:c.vesselType,hullNumber:c.hullNumber,operator:"usn",operatorCountry:"USA",lat:y+g.lat,lon:f+g.lon,heading:0,speed:0,lastAisUpdate:new Date(c.usniArticleDate),confidence:"low",isInteresting:c.vesselType==="carrier"||c.vesselType==="amphibious",note:`USNI position — ${c.region} (approximate)`,usniRegion:c.region,usniDeploymentStatus:c.deploymentStatus,usniStrikeGroup:c.strikeGroup,usniActivityDescription:c.activityDescription,usniArticleUrl:c.usniArticleUrl,usniArticleDate:c.usniArticleDate,usniSource:!0})}const r=Uh(n),o=[...e,...r];return{vessels:n,clusters:o}}function Uh(t){var n;const a=new Map;for(const i of t){const s=i.usniStrikeGroup||i.usniRegion;s&&(a.has(s)||a.set(s,[]),a.get(s).push(i))}const e=[];for(const[i,s]of a){if(s.length<2)continue;const r=s.reduce((l,d)=>l+d.lat,0)/s.length,o=s.reduce((l,d)=>l+d.lon,0)/s.length,c=s.some(l=>l.vesselType==="carrier");e.push({id:`usni-cluster-${i.toLowerCase().replace(/\s+/g,"-")}`,name:c?`${i} CSG`:`${i} Naval Group`,lat:r,lon:o,vesselCount:s.length,vessels:s,region:((n=s[0])==null?void 0:n.usniRegion)||i,activityType:c?"deployment":"transit"})}return e}let xe=null;const Q=new Map,ot=new Map,Lh=30,Dh=600*1e3,Oh=3600*1e3;let Yt=!1,Vi=0;const Nn=M({name:"Military Vessel Tracking",maxFailures:3,cooldownMs:300*1e3,cacheTtlMs:300*1e3}),Fh=[{name:"Strait of Hormuz",lat:26.5,lon:56.5,radius:2},{name:"Suez Canal",lat:30,lon:32.5,radius:1},{name:"Strait of Malacca",lat:2.5,lon:101.5,radius:2},{name:"Bab el-Mandeb",lat:12.5,lon:43.5,radius:1.5},{name:"Panama Canal",lat:9,lon:-79.5,radius:1},{name:"Taiwan Strait",lat:24.5,lon:119.5,radius:2},{name:"South China Sea",lat:15,lon:115,radius:5},{name:"Black Sea",lat:43.5,lon:34,radius:3},{name:"Baltic Sea",lat:58,lon:20,radius:4},{name:"Sea of Japan",lat:40,lon:135,radius:4},{name:"Persian Gulf",lat:26.5,lon:52,radius:4},{name:"Eastern Mediterranean",lat:34.5,lon:33,radius:3}],_h=[{name:"Norfolk Naval Station",lat:36.95,lon:-76.3,country:"USA"},{name:"San Diego Naval Base",lat:32.68,lon:-117.15,country:"USA"},{name:"Pearl Harbor",lat:21.35,lon:-157.95,country:"USA"},{name:"Yokosuka Naval Base",lat:35.29,lon:139.67,country:"Japan"},{name:"Qingdao Naval Base",lat:36.07,lon:120.38,country:"China"},{name:"Sevastopol",lat:44.62,lon:33.53,country:"Russia"},{name:"Portsmouth Naval Base",lat:50.8,lon:-1.1,country:"UK"},{name:"Toulon Naval Base",lat:43.12,lon:5.93,country:"France"},{name:"Tartus Naval Base",lat:34.89,lon:35.87,country:"Syria"},{name:"Zhanjiang Naval Base",lat:21.2,lon:110.4,country:"China"},{name:"Vladivostok",lat:43.12,lon:131.9,country:"Russia"},{name:"Diego Garcia",lat:-7.32,lon:72.42,country:"UK/USA"}];function Bh(t){if(!t||t.length<9)return{isPotentialMilitary:!1};const a=t.substring(0,3),n={201:"Albania",202:"Andorra",203:"Austria",211:"Germany",212:"Cyprus",213:"Georgia",214:"Moldova",215:"Malta",216:"Armenia",218:"Germany",219:"Denmark",220:"Denmark",224:"Spain",225:"Spain",226:"France",227:"France",228:"France",229:"Malta",230:"Finland",231:"Faroe",232:"UK",233:"UK",234:"UK",235:"UK",236:"Gibraltar",237:"Greece",238:"Croatia",239:"Greece",240:"Greece",241:"Greece",242:"Morocco",243:"Hungary",244:"Netherlands",245:"Netherlands",246:"Netherlands",247:"Italy",248:"Malta",249:"Malta",250:"Ireland",255:"Portugal",256:"Malta",257:"Norway",258:"Norway",259:"Norway",261:"Poland",263:"Portugal",264:"Romania",265:"Sweden",266:"Sweden",267:"Slovakia",268:"San Marino",269:"Switzerland",270:"Czechia",271:"Turkey",272:"Ukraine",273:"Russia",274:"North Macedonia",275:"Latvia",276:"Estonia",277:"Lithuania",278:"Slovenia",279:"Serbia",301:"Anguilla",303:"Alaska",304:"Antigua",305:"Antigua",306:"Sint Maarten",307:"Aruba",308:"Bahamas",309:"Bahamas",310:"Bermuda",311:"Bahamas",312:"Belize",314:"Barbados",316:"Canada",319:"Cayman",321:"Costa Rica",323:"Cuba",325:"Dominica",327:"Dominican Rep",329:"Guadeloupe",330:"Grenada",331:"Greenland",332:"Guatemala",334:"Honduras",336:"Haiti",338:"USA",339:"Jamaica",341:"St Kitts",343:"St Lucia",345:"Mexico",347:"Martinique",348:"Montserrat",350:"Nicaragua",351:"Panama",352:"Panama",353:"Panama",354:"Panama",355:"Panama",356:"Panama",357:"Panama",358:"Puerto Rico",359:"El Salvador",361:"St Pierre",362:"Trinidad",364:"Turks Caicos",366:"USA",367:"USA",368:"USA",369:"USA",370:"Panama",371:"Panama",372:"Panama",373:"Panama",374:"Panama",375:"St Vincent",376:"St Vincent",377:"St Vincent",378:"BVI",379:"USVI",401:"Afghanistan",403:"Saudi Arabia",405:"Bangladesh",408:"Bahrain",410:"Bhutan",412:"China",413:"China",414:"China",416:"Taiwan",417:"Sri Lanka",419:"India",422:"Iran",423:"Azerbaijan",425:"Iraq",428:"Israel",431:"Japan",432:"Japan",434:"Turkmenistan",436:"Kazakhstan",437:"Uzbekistan",438:"Jordan",440:"South Korea",441:"South Korea",443:"Palestine",445:"North Korea",447:"Kuwait",450:"Lebanon",451:"Kyrgyzstan",453:"Macau",455:"Maldives",457:"Mongolia",459:"Nepal",461:"Oman",463:"Pakistan",466:"Qatar",468:"Syria",470:"UAE",472:"Tajikistan",473:"Yemen",475:"Yemen",477:"Hong Kong",501:"France Adelie",503:"Australia",506:"Myanmar",508:"Brunei",510:"Micronesia",511:"Palau",512:"New Zealand",514:"Cambodia",515:"Cambodia",516:"Christmas Is",518:"Cook Is",520:"Fiji",523:"Cocos",525:"Indonesia",529:"Kiribati",531:"Laos",533:"Malaysia",536:"N Mariana",538:"Marshall Is",540:"New Caledonia",542:"Niue",544:"Nauru",546:"French Polynesia",548:"Philippines",553:"Papua NG",555:"Pitcairn",557:"Solomon Is",559:"Am Samoa",561:"Samoa",563:"Singapore",564:"Singapore",565:"Singapore",566:"Singapore",567:"Thailand",570:"Tonga",572:"Tuvalu",574:"Vietnam",576:"Vanuatu",577:"Vanuatu",578:"Wallis"}[a];for(const s of Zm)if(s.mmsiPrefix&&t.startsWith(s.mmsiPrefix))return{isPotentialMilitary:!0,country:s.country};const i=t.substring(3);return i.startsWith("00")||i.startsWith("99")?{isPotentialMilitary:!0,country:n}:{isPotentialMilitary:!1,country:n}}function xh(t){if(!t)return;const a=t.toUpperCase().trim();for(const n of eh)if(a.includes(n.name.toUpperCase())||n.hullNumber&&a.includes(n.hullNumber))return n;const e=["USS","HMS","HMCS","HMAS","INS","JS","ROKS","TCG"];for(const n of e)if(a.startsWith(n+" "))return}function Hh(t){if(t==null)return;const a={0:"Not Available",20:"Wing in Ground",21:"Wing in Ground (Hazardous A)",22:"Wing in Ground (Hazardous B)",23:"Wing in Ground (Hazardous C)",24:"Wing in Ground (Hazardous D)",30:"Fishing",31:"Towing",32:"Towing (Large)",33:"Dredging/Underwater Ops",34:"Diving Ops",35:"Military Ops",36:"Sailing",37:"Pleasure Craft",40:"High Speed Craft",41:"High Speed Craft (Hazardous A)",42:"High Speed Craft (Hazardous B)",43:"High Speed Craft (Hazardous C)",44:"High Speed Craft (Hazardous D)",50:"Pilot Vessel",51:"Search & Rescue",52:"Tug",53:"Port Tender",54:"Anti-Pollution",55:"Law Enforcement",56:"Local Vessel",57:"Local Vessel",58:"Medical Transport",59:"Special Craft",60:"Passenger",61:"Passenger (Hazardous A)",62:"Passenger (Hazardous B)",63:"Passenger (Hazardous C)",64:"Passenger (Hazardous D)",69:"Passenger",70:"Cargo",71:"Cargo (Hazardous A)",72:"Cargo (Hazardous B)",73:"Cargo (Hazardous C)",74:"Cargo (Hazardous D)",79:"Cargo",80:"Tanker",81:"Tanker (Hazardous A)",82:"Tanker (Hazardous B)",83:"Tanker (Hazardous C)",84:"Tanker (Hazardous D)",89:"Tanker",90:"Other",91:"Other (Hazardous A)",92:"Other (Hazardous B)",93:"Other (Hazardous C)",94:"Other (Hazardous D)",99:"Other"};if(a[t])return a[t];if(t>=20&&t<=29)return"Wing in Ground";if(t>=40&&t<=49)return"High Speed Craft";if(t>=60&&t<=69)return"Passenger";if(t>=70&&t<=79)return"Cargo";if(t>=80&&t<=89)return"Tanker";if(t>=90&&t<=99)return"Other"}function $h(t){if(t===35)return"destroyer";if(t===55)return"patrol";if(t>=50&&t<=59)return"special"}function Gh(t,a){for(const e of _h)if(Math.sqrt(Math.pow(t-e.lat,2)+Math.pow(a-e.lon,2))<=.5)return e.name}function Vh(t,a){for(const e of Fh)if(Math.sqrt(Math.pow(t-e.lat,2)+Math.pow(a-e.lon,2))<=e.radius)return e.name}function zh(t){const a=t.mmsi,e=t.name||"",n=t.lat,i=t.lon,s=Date.now();if(!Number.isFinite(n)||!Number.isFinite(i))return;const r=Bh(a),o=xh(e),c=t.shipType?$h(t.shipType):void 0;if(!(o||r.isPotentialMilitary||c))return;Vi++;const d=Vh(n,i),m=Gh(n,i),y=$r(n,i);let f=ot.get(a);f||(f={positions:[],lastUpdate:s},ot.set(a,f)),f.positions.push([n,i]),f.positions.length>Lh&&f.positions.shift(),f.lastUpdate=s;let g="other",v=r.country||"Unknown";o&&(g=o.operator,v=o.country);const b=Q.get(a);let C,A=!1;if(b){const N=s-b.lastAisUpdate.getTime();C=Math.round(N/(60*1e3)),A=C>60}const k={id:`ais-${a}`,mmsi:a,name:e||(o==null?void 0:o.name)||`Vessel ${a}`,vesselType:(o==null?void 0:o.vesselType)||c||"unknown",aisShipType:Hh(t.shipType),hullNumber:o==null?void 0:o.hullNumber,operator:g,operatorCountry:v,lat:n,lon:i,heading:t.heading||t.course||0,speed:t.speed||0,course:t.course,lastAisUpdate:new Date(s),aisGapMinutes:C,isDark:A,nearChokepoint:d,nearBase:m,track:f.positions.length>1?[...f.positions]:void 0,confidence:o?"high":r.isPotentialMilitary?"medium":"low",isInteresting:!!((y==null?void 0:y.priority)==="high"||A||d),note:A?"Returned after AIS silence":d?`Near ${d}`:void 0},I=Q.size;Q.set(a,k),(I===0||Q.size===10&&I<10)&&(xe=null,Nn.clearCache(),console.log(`[Military Vessels] Cleared caches - first vessels arriving (count: ${Q.size})`)),Vi%50===0&&console.log(`[Military Vessels] Tracking ${Q.size} military/gov vessels`)}function Wr(){const a=Date.now()-Oh;for(const[e,n]of Q)n.lastAisUpdate.getTime()<a&&(Q.delete(e),ot.delete(e));for(const[e,n]of ot)n.lastUpdate<a&&ot.delete(e)}function Wh(t){const a=[],e=new Set;for(const n of Ee){const i=t.filter(s=>e.has(s.id)?!1:Math.sqrt(Math.pow(s.lat-n.lat,2)+Math.pow(s.lon-n.lon,2))<=n.radius);if(i.length>=2){i.forEach(d=>e.add(d.id));const s=i.reduce((d,m)=>d+m.lat,0)/i.length,r=i.reduce((d,m)=>d+m.lon,0)/i.length,o=i.some(d=>d.vesselType==="carrier"),c=i.some(d=>d.vesselType==="destroyer"||d.vesselType==="frigate");let l="unknown";o||i.length>=5?l="deployment":c?l="exercise":l="transit",a.push({id:`vessel-cluster-${n.name.toLowerCase().replace(/\s+/g,"-")}`,name:`${n.name} Naval Activity`,lat:s,lon:r,vesselCount:i.length,vessels:i,region:n.name,activityType:l})}}return a}typeof window<"u"&&setInterval(Wr,Dh);function Kh(){Yt||(console.log("[Military Vessels] Initializing tracking via shared AIS stream..."),xe=null,Nn.clearCache(),Tp(zh),Yt=!0,ze()&&Ep())}const jh=30*1e3;async function qh(){return console.log(`[Military Vessels] fetchMilitaryVessels called - isTracking: ${Yt}, isAisConfigured: ${ze()}, trackedVessels.size: ${Q.size}`),Nn.execute(async()=>{let t=[];xe&&Date.now()-xe.timestamp<jh?(t=xe.data,console.log(`[Military Vessels] Returning cached base vessels: ${t.length}`)):(!Yt&&ze()&&(console.log("[Military Vessels] Initializing stream from fetchMilitaryVessels..."),Kh()),Wr(),t=Array.from(Q.values()),console.log(`[Military Vessels] After cleanup, returning ${t.length} vessels (trackedVessels.size: ${Q.size})`),t.length>0&&(xe={data:t,timestamp:Date.now()}));const a=Wh(t);try{const e=await Nh();if(e&&e.vessels.length>0){const n=Ph(t,e,a);return console.log(`[Military Vessels] USNI merge: ${t.length} AIS + ${e.vessels.length} USNI → ${n.vessels.length} total`),n}}catch(e){console.warn("[Military Vessels] USNI merge failed, using AIS only:",e.message)}return{vessels:t,clusters:a}},{vessels:[],clusters:[]})}function gw(){return ze()}const Kr=new ua("",{fetch:fetch.bind(globalThis)}),Yh=M({name:"PizzINT",maxFailures:3,cooldownMs:300*1e3,cacheTtlMs:120*1e3}),Jh=M({name:"GDELT Tensions",maxFailures:3,cooldownMs:300*1e3,cacheTtlMs:600*1e3}),zi={1:"components.pizzint.defconLabels.1",2:"components.pizzint.defconLabels.2",3:"components.pizzint.defconLabels.3",4:"components.pizzint.defconLabels.4",5:"components.pizzint.defconLabels.5"},jr={DATA_FRESHNESS_FRESH:"fresh",DATA_FRESHNESS_STALE:"stale"},Xh={TREND_DIRECTION_RISING:"rising",TREND_DIRECTION_STABLE:"stable",TREND_DIRECTION_FALLING:"falling"};function Qh(t){return{place_id:t.placeId,name:t.name,address:t.address,current_popularity:t.currentPopularity,percentage_of_usual:t.percentageOfUsual||null,is_spike:t.isSpike,spike_magnitude:t.spikeMagnitude||null,data_source:t.dataSource,recorded_at:t.recordedAt,data_freshness:jr[t.dataFreshness]||"stale",is_closed_now:t.isClosedNow,lat:t.lat||void 0,lng:t.lng||void 0}}function Zh(t){const a=t.defconLevel>=1&&t.defconLevel<=5?t.defconLevel:5;return{defconLevel:a,defconLabel:u(zi[a]??zi[5]),aggregateActivity:t.aggregateActivity,activeSpikes:t.activeSpikes,locationsMonitored:t.locationsMonitored,locationsOpen:t.locationsOpen,lastUpdate:t.updatedAt?new Date(t.updatedAt):new Date,dataFreshness:jr[t.dataFreshness]||"stale",locations:t.locations.map(Qh)}}function ey(t){return{id:t.id,countries:[t.countries[0]||"",t.countries[1]||""],label:t.label,score:t.score,trend:Xh[t.trend]||"stable",changePercent:t.changePercent,region:t.region}}const ty={defconLevel:5,defconLabel:u("components.pizzint.defconLabels.5"),aggregateActivity:0,activeSpikes:0,locationsMonitored:0,locationsOpen:0,lastUpdate:new Date,dataFreshness:"stale",locations:[]};async function fw(){return Yh.execute(async()=>{const t=await Kr.getPizzintStatus({includeGdelt:!1});if(!t.pizzint)throw new Error("No PizzINT data");return Zh(t.pizzint)},ty)}async function Sw(){return Jh.execute(async()=>(await Kr.getPizzintStatus({includeGdelt:!0})).tensionPairs.map(ey),[])}const ay="https://www.gdacs.org/gdacsapi/api/events/geteventlist/MAP",ny=M({name:"GDACS"}),iy={EQ:"Earthquake",FL:"Flood",TC:"Tropical Cyclone",VO:"Volcano",WF:"Wildfire",DR:"Drought"};async function sy(){return ny.execute(async()=>{const t=await fetch(ay,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.json(),e=new Set;return a.features.filter(n=>{if(!n.geometry||n.geometry.type!=="Point")return!1;const i=`${n.properties.eventtype}-${n.properties.eventid}`;return e.has(i)?!1:(e.add(i),!0)}).filter(n=>n.properties.alertlevel!=="Green").slice(0,100).map(n=>{var i,s;return{id:`gdacs-${n.properties.eventtype}-${n.properties.eventid}`,eventType:n.properties.eventtype,name:n.properties.name,description:n.properties.description||iy[n.properties.eventtype]||n.properties.eventtype,alertLevel:n.properties.alertlevel,country:n.properties.country,coordinates:n.geometry.coordinates,fromDate:new Date(n.properties.fromdate),severity:((i=n.properties.severitydata)==null?void 0:i.severitytext)||"",url:((s=n.properties.url)==null?void 0:s.report)||""}})},[])}const ry="https://eonet.gsfc.nasa.gov/api/v3/events",oy={severeStorms:"🌀",wildfires:"🔥",volcanoes:"🌋",earthquakes:"🔴",floods:"🌊",landslides:"⛰️",drought:"☀️",dustHaze:"🌫️",snow:"❄️",tempExtremes:"🌡️",seaLakeIce:"🧊",waterColor:"🦠",manmade:"⚠️"};function vw(t){return oy[t]||"⚠️"}const cy=2880*60*1e3,ly={EQ:"earthquakes",FL:"floods",TC:"severeStorms",VO:"volcanoes",WF:"wildfires",DR:"drought"};function uy(t){const a=ly[t.eventType]||"manmade";return{id:t.id,title:`${t.alertLevel==="Red"?"🔴 ":t.alertLevel==="Orange"?"🟠 ":""}${t.name}`,description:`${t.description}${t.severity?` - ${t.severity}`:""}`,category:a,categoryTitle:t.description,lat:t.coordinates[1],lon:t.coordinates[0],date:t.fromDate,sourceUrl:t.url,sourceName:"GDACS",closed:!1}}async function ww(t=30){const[a,e]=await Promise.all([dy(t),sy()]);console.log(`[NaturalEvents] EONET: ${a.length}, GDACS: ${e.length}`);const n=e.map(uy),i=new Set,s=[];for(const r of n){const o=`${r.lat.toFixed(1)}-${r.lon.toFixed(1)}-${r.category}`;i.has(o)||(i.add(o),s.push(r))}for(const r of a){const o=`${r.lat.toFixed(1)}-${r.lon.toFixed(1)}-${r.category}`;i.has(o)||(i.add(o),s.push(r))}return s}async function dy(t){try{const a=`${ry}?status=open&days=${t}`,e=await fetch(a);if(!e.ok)throw new Error(`EONET API error: ${e.status}`);const n=await e.json(),i=[],s=Date.now();for(const r of n.events){const o=r.categories[0];if(!o||o.id==="earthquakes")continue;const c=r.geometry[r.geometry.length-1];if(!c||c.type!=="Point")continue;const l=new Date(c.date),[d,m]=c.coordinates,y=r.sources[0];o.id==="wildfires"&&s-l.getTime()>cy||i.push({id:r.id,title:r.title,description:r.description||void 0,category:o.id,categoryTitle:o.title,lat:m,lon:d,date:l,magnitude:c.magnitudeValue,magnitudeUnit:c.magnitudeUnit,sourceUrl:y==null?void 0:y.url,sourceName:y==null?void 0:y.id,closed:r.closed!==null})}return i}catch(a){return console.error("[EONET] Failed to fetch natural events:",a),[]}}function py(t){return new Worker("/monitor/assets/analysis.worker-DpqOA7Qe.js",{name:t==null?void 0:t.name})}const ea=class ea{constructor(){h(this,"worker",null);h(this,"pendingRequests",new Map);h(this,"requestIdCounter",0);h(this,"isReady",!1);h(this,"readyPromise",null);h(this,"readyResolve",null);h(this,"readyReject",null);h(this,"readyTimeout",null)}initWorker(){var a;if(!this.worker){this.readyPromise=new Promise((e,n)=>{this.readyResolve=e,this.readyReject=n}),this.readyTimeout=setTimeout(()=>{var e;if(!this.isReady){const n=new Error("Worker failed to become ready within timeout");console.error("[AnalysisWorker]",n.message),(e=this.readyReject)==null||e.call(this,n),this.cleanup()}},ea.READY_TIMEOUT_MS);try{this.worker=new py}catch(e){console.error("[AnalysisWorker] Failed to create worker:",e),(a=this.readyReject)==null||a.call(this,e instanceof Error?e:new Error(String(e))),this.cleanup();return}this.worker.onmessage=e=>{var i;const n=e.data;if(n.type==="ready"){this.isReady=!0,this.readyTimeout&&(clearTimeout(this.readyTimeout),this.readyTimeout=null),(i=this.readyResolve)==null||i.call(this);return}if("id"in n){const s=this.pendingRequests.get(n.id);if(s){if(clearTimeout(s.timeout),this.pendingRequests.delete(n.id),n.type==="cluster-result"){const r=n.clusters.map(o=>({...o,firstSeen:new Date(o.firstSeen),lastUpdated:new Date(o.lastUpdated),allItems:o.allItems.map(c=>({...c,pubDate:new Date(c.pubDate)}))}));s.resolve(r)}else if(n.type==="correlation-result"){const r=n.signals.map(o=>({...o,timestamp:new Date(o.timestamp)}));s.resolve(r)}}}},this.worker.onerror=e=>{var n;if(console.error("[AnalysisWorker] Error:",e),!this.isReady){(n=this.readyReject)==null||n.call(this,new Error(`Worker failed to initialize: ${e.message}`)),this.cleanup();return}for(const[i,s]of this.pendingRequests)clearTimeout(s.timeout),s.reject(new Error(`Worker error: ${e.message}`)),this.pendingRequests.delete(i)}}}cleanup(){this.readyTimeout&&(clearTimeout(this.readyTimeout),this.readyTimeout=null),this.worker&&(this.worker.terminate(),this.worker=null),this.isReady=!1,this.readyPromise=null,this.readyResolve=null,this.readyReject=null}async waitForReady(){this.initWorker(),!this.isReady&&await this.readyPromise}generateId(){return`req-${++this.requestIdCounter}-${Date.now()}`}async clusterNews(a){return await this.waitForReady(),new Promise((e,n)=>{const i=this.generateId(),s=setTimeout(()=>{this.pendingRequests.delete(i),n(new Error("Clustering request timed out"))},3e4);this.pendingRequests.set(i,{resolve:e,reject:n,timeout:s}),this.worker.postMessage({type:"cluster",id:i,items:a,sourceTiers:Ms})})}async analyzeCorrelations(a,e,n){return await this.waitForReady(),new Promise((i,s)=>{const r=this.generateId(),o=setTimeout(()=>{this.pendingRequests.delete(r),s(new Error("Correlation analysis request timed out"))},1e4);this.pendingRequests.set(r,{resolve:i,reject:s,timeout:o}),this.worker.postMessage({type:"correlation",id:r,clusters:a,predictions:e,markets:n,sourceTypes:Ns})})}reset(){for(const a of this.pendingRequests.values())clearTimeout(a.timeout),a.reject(new Error("Worker reset"));this.pendingRequests.clear(),this.worker&&this.worker.postMessage({type:"reset"})}terminate(){for(const[a,e]of this.pendingRequests)clearTimeout(e.timeout),e.reject(new Error("Worker terminated")),this.pendingRequests.delete(a);this.cleanup()}get ready(){return this.isReady}};h(ea,"READY_TIMEOUT_MS",1e4);let an=ea;const my=new an,hy=120*1e3,yy=30*1e3;class gy{constructor(){h(this,"panels",new Map);h(this,"observers",new Map);h(this,"onChangeCallbacks",new Map)}register(a){this.panels.has(a)||this.panels.set(a,{seenIds:new Set,firstSeenTime:new Map,newCount:0,lastInteraction:Date.now()})}updateItems(a,e){this.register(a);const n=this.panels.get(a),i=Date.now(),s=[];for(const c of e)n.firstSeenTime.has(c)||n.firstSeenTime.set(c,i),n.seenIds.has(c)||s.push(c);n.newCount=s.length;const r=this.onChangeCallbacks.get(a);r&&r(n.newCount);const o=new Set(e);for(const c of n.firstSeenTime.keys())o.has(c)||(n.firstSeenTime.delete(c),n.seenIds.delete(c));return s}markAsSeen(a){const e=this.panels.get(a);if(!e)return;for(const i of e.firstSeenTime.keys())e.seenIds.add(i);e.newCount=0,e.lastInteraction=Date.now();const n=this.onChangeCallbacks.get(a);n&&n(0)}getNewCount(a){var e;return((e=this.panels.get(a))==null?void 0:e.newCount)??0}isNewItem(a,e){const n=this.panels.get(a);if(!n)return!1;const i=n.firstSeenTime.get(e);return i?Date.now()-i<hy:!1}shouldHighlight(a,e){const n=this.panels.get(a);if(!n||n.seenIds.has(e))return!1;const i=n.firstSeenTime.get(e);return i?Date.now()-i<yy:!1}getRelativeTime(a,e){const n=this.panels.get(a);if(!n)return"";const i=n.firstSeenTime.get(e);if(!i)return"";const s=Date.now()-i;return s<6e4?"just now":s<36e5?`${Math.floor(s/6e4)}m ago`:`${Math.floor(s/36e5)}h ago`}onChange(a,e){this.onChangeCallbacks.set(a,e)}observePanel(a,e){var i;(i=this.observers.get(a))==null||i.disconnect();const n=new IntersectionObserver(s=>{for(const r of s)r.isIntersecting&&r.intersectionRatio>.5&&this.markAsSeen(a)},{threshold:.5});n.observe(e),this.observers.set(a,n)}unobservePanel(a){var e;(e=this.observers.get(a))==null||e.disconnect(),this.observers.delete(a)}unregister(a){this.unobservePanel(a),this.onChangeCallbacks.delete(a),this.panels.delete(a)}clear(){for(const a of this.observers.values())a.disconnect();this.observers.clear(),this.panels.clear(),this.onChangeCallbacks.clear()}}const te=new gy,Se=new Map,fy=1440*60*1e3,Sy=3;function vy(t,a){return`${Math.floor(t)},${Math.floor(a)}`}function he(t,a,e,n=new Date){const i=vy(t,a);let s=Se.get(i);s||(s={id:i,lat:Math.floor(t)+.5,lon:Math.floor(a)+.5,events:new Map,firstSeen:n},Se.set(i,s));const r=s.events.get(e);s.events.set(e,{count:((r==null?void 0:r.count)??0)+1,lastSeen:n})}function qr(){const t=Date.now()-fy;for(const[a,e]of Se){for(const[n,i]of e.events)i.lastSeen.getTime()<t&&e.events.delete(n);e.events.size===0&&Se.delete(a)}}function bw(t){for(const a of t)he(a.lat,a.lon,"protest",a.time)}function Aw(t){for(const a of t)he(a.lat,a.lon,"military_flight",a.lastSeen)}function Cw(t){for(const a of t)he(a.lat,a.lon,"military_vessel",a.lastAisUpdate)}function kw(t){var a,e;for(const n of t)he(((a=n.location)==null?void 0:a.latitude)??0,((e=n.location)==null?void 0:e.longitude)??0,"earthquake",new Date(n.occurredAt))}function wy(t){qr();const a=[];for(const[e,n]of Se)if(n.events.size>=Sy){if(t.has(e))continue;const i=Array.from(n.events.keys()),s=Array.from(n.events.values()).reduce((l,d)=>l+d.count,0),r=n.events.size*25,o=Math.min(25,s*2),c=Math.min(100,r+o);a.push({cellId:e,lat:n.lat,lon:n.lon,types:i,totalEvents:s,score:c}),t.add(e)}return a.sort((e,n)=>n.score-e.score)}const by={protest:"protests",military_flight:"military flights",military_vessel:"naval vessels",earthquake:"seismic activity"};function Bt(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)**2;return 6371*2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function Yr(t,a){for(const n of mn){const[i,s]=n.center;if(Bt(t,a,s,i)<300)return n.name.replace(" Conflict","").replace(" Civil War","")}for(const n of na)if(Bt(t,a,n.lat,n.lon)<200)return n.name;let e=null;for(const n of pn){const i=Bt(t,a,n.lat,n.lon);i<150&&(!e||i<e.dist)&&(e={name:n.name,dist:i})}return e?e.name:t>=25&&t<=40&&a>=25&&a<=75?"Middle East":t>=30&&t<=45&&a>=100&&a<=145?"East Asia":t>=-10&&t<=25&&a>=90&&a<=130?"Southeast Asia":t>=35&&t<=70&&a>=-10&&a<=40?"Europe":t>=44&&t<=75&&a>=20&&a<=180?"Russia":t>=-35&&t<=35&&a>=-20&&a<=55?"Africa":t>=25&&t<=50&&a>=-125&&a<=-65?"North America":t>=-60&&t<=15&&a>=-80&&a<=-30?"South America":`${t.toFixed(1)}°, ${a.toFixed(1)}°`}function Iw(t){const a=t.types.map(n=>by[n]).join(", "),e=Yr(t.lat,t.lon);return{id:$s(),type:"geo_convergence",title:`Geographic Convergence (${t.types.length} types)`,description:`${a} in ${e} - ${t.totalEvents} events/24h`,confidence:t.score/100,timestamp:new Date,data:{newsVelocity:t.totalEvents,relatedTopics:t.types}}}function Ay(){return wy(new Set)}function Tw(){return Se.size}function Ew(){const t=new Date,a=25.5,e=121.5;he(a,e,"protest",t),he(a,e,"military_flight",t),he(a,e,"military_vessel",t),he(a+.3,e+.2,"earthquake",t),console.log("[GeoConvergence] Injected 4 test events at Taiwan Strait region")}function Mw(){return new Map(Se)}function Nw(t,a,e){qr();let n=0,i=0;for(const s of Se.values())if(Bt(t,a,s.lat,s.lon)<=e&&s.events.size>=2){const o=s.events.size,c=Array.from(s.events.values()).reduce((y,f)=>y+f.count,0),l=o*25,d=Math.min(25,c*2),m=Math.min(100,l+d);m>n&&(n=m,i=o)}return n>0?{score:n,types:i}:null}const F={US:"United States",RU:"Russia",CN:"China",UA:"Ukraine",IR:"Iran",IL:"Israel",TW:"Taiwan",KP:"North Korea",SA:"Saudi Arabia",TR:"Turkey",PL:"Poland",DE:"Germany",FR:"France",GB:"United Kingdom",IN:"India",PK:"Pakistan",SY:"Syria",YE:"Yemen",MM:"Myanmar",VE:"Venezuela",BR:"Brazil",AE:"United Arab Emirates"},Ct={internet_outage:"internet outage",military_flight:"military flights",military_vessel:"naval vessels",protest:"protests",ais_disruption:"shipping disruption",satellite_fire:"satellite fires",temporal_anomaly:"anomaly detection"},Wi={internet_outage:"🌐",military_flight:"✈️",military_vessel:"⚓",protest:"📢",ais_disruption:"🚢",satellite_fire:"🔥",temporal_anomaly:"📊"};class Cy{constructor(){h(this,"lastSummary",null)}entityAppearsInTitle(a,e,n){const i=n.byId.get(a);if(!i)return!1;const s=e.toLowerCase();if(s.includes(i.name.toLowerCase()))return!0;for(const r of i.aliases)if(s.includes(r.toLowerCase()))return!0;return!1}analyze(a,e){const n=td(a),i=this.aggregateEntities(n,a),s=this.buildFocalPoints(i,e),r=this.generateAIContext(s);return this.lastSummary={timestamp:new Date,focalPoints:s,aiContext:r,topCountries:s.filter(o=>o.entityType==="country").slice(0,5),topCompanies:s.filter(o=>o.entityType==="company").slice(0,3)},this.lastSummary}aggregateEntities(a,e){const n=new Map,i=dt();for(const[s,r]of a){const o=e.find(c=>c.id===s);if(o)for(const c of r.entities){const l=i.byId.get(c.entityId);if(!l)continue;const d=this.entityAppearsInTitle(c.entityId,o.primaryTitle,i),m=n.get(c.entityId);m?(m.mentionCount++,m.avgConfidence=(m.avgConfidence*(m.mentionCount-1)+c.confidence)/m.mentionCount,m.clusterIds.push(s),m.topHeadlines.length<3&&d&&m.topHeadlines.push({title:o.primaryTitle,url:o.primaryLink})):n.set(c.entityId,{entityId:c.entityId,entityType:l.type,displayName:l.name,mentionCount:1,avgConfidence:c.confidence,clusterIds:[s],topHeadlines:d?[{title:o.primaryTitle,url:o.primaryLink}]:[]})}}return n}buildFocalPoints(a,e){const n=[],i=dt(),s=new Map;for(const r of e.topCountries)s.set(r.country,r);for(const[r,o]of a){const c=i.byId.get(r);if(!c)continue;let l,d;if(c.type==="country")l=s.get(r),d=r;else if(c.related)for(const y of c.related){const f=i.byId.get(y);if((f==null?void 0:f.type)==="country"&&(l=s.get(y),l)){d=y;break}}const m=this.createFocalPoint(o,l,d);n.push(m)}for(const[r,o]of s)if(!a.has(r)){const c=i.byId.get(r);if(c){const l={entityId:r,entityType:"country",displayName:c.name,mentionCount:0,avgConfidence:0,clusterIds:[],topHeadlines:[]},d=this.createFocalPoint(l,o,r);d.focalScore>20&&n.push(d)}}return n.sort((r,o)=>o.focalScore-r.focalScore)}createFocalPoint(a,e,n){const i=this.calculateNewsScore(a),s=e?this.calculateSignalScore(e):0,r=this.calculateCorrelationBonus(a,e),o=i+s+r,c=e?Array.from(e.signalTypes):[],l=this.determineUrgency(o,c.length),m=Math.min(100,o*(l==="critical"?1.3:l==="elevated"?1.15:1)),y=e?c.map(v=>`${e.signals.filter(C=>C.type===v).length} ${Ct[v]}`):[],f=this.generateNarrative(a,e,c),g=this.getCorrelationEvidence(a,e);return{id:`fp-${a.entityId}`,entityId:a.entityId,entityType:a.entityType,displayName:a.displayName,newsMentions:a.mentionCount,newsVelocity:a.mentionCount/24,topHeadlines:a.topHeadlines,signalTypes:c,signalCount:(e==null?void 0:e.totalCount)||0,highSeverityCount:(e==null?void 0:e.highSeverityCount)||0,signalDescriptions:y,focalScore:m,urgency:l,narrative:f,correlationEvidence:g}}calculateNewsScore(a){const e=Math.min(20,a.mentionCount*4),n=Math.min(10,a.mentionCount/24*2),i=a.avgConfidence*10;return e+n+i}calculateSignalScore(a){const e=a.signalTypes.size*10,n=Math.min(15,a.totalCount*3),i=a.highSeverityCount*5;return e+n+i}calculateCorrelationBonus(a,e){let n=0;return a.mentionCount>0&&e&&e.totalCount>0&&(n+=10),e&&a.topHeadlines.some(i=>{const s=i.title.toLowerCase();return e.signalTypes.has("military_flight")&&/military|troops|forces|army|air force/.test(s)||e.signalTypes.has("military_vessel")&&/navy|naval|ships|fleet|carrier/.test(s)||e.signalTypes.has("protest")&&/protest|demonstrat|unrest|riot/.test(s)||e.signalTypes.has("internet_outage")&&/internet|blackout|outage|connectivity/.test(s)})&&(n+=5),n}determineUrgency(a,e){return a>70||e>=3?"critical":a>50||e>=2?"elevated":"watch"}generateNarrative(a,e,n){const i=[];if(a.mentionCount>0&&i.push(`${a.mentionCount} news mentions`),e&&n.length>0){const s=n.map(r=>`${e.signals.filter(c=>c.type===r).length} ${Ct[r]}`);i.push(s.join(", "))}if(a.topHeadlines.length>0&&a.topHeadlines[0]){const s=a.topHeadlines[0].title.slice(0,60);i.push(`"${s}..."`)}return i.join(" | ")}getCorrelationEvidence(a,e){const n=[];if(a.mentionCount>0&&e&&e.totalCount>0&&n.push(`${a.displayName} appears in both news (${a.mentionCount}) and map signals (${e.totalCount})`),e&&e.signalTypes.size>=2){const i=Array.from(e.signalTypes).map(s=>Ct[s]);n.push(`Multiple signal convergence: ${i.join(" + ")}`)}return e&&e.highSeverityCount>0&&n.push(`${e.highSeverityCount} high-severity signals detected`),n}generateAIContext(a){if(a.length===0)return"";const e=["[INTELLIGENCE SYNTHESIS]"],n=a.filter(r=>r.urgency==="critical").slice(0,3),i=a.filter(r=>r.urgency==="elevated").slice(0,3),s=a.filter(r=>r.newsMentions>0&&r.signalCount>0).slice(0,5);if(n.length>0){e.push(""),e.push("CRITICAL FOCAL POINTS:");for(const r of n){const o=r.signalTypes.map(c=>Wi[c]).join("");e.push(`- ${r.displayName} [CRITICAL] ${o}: ${r.narrative}`),r.correlationEvidence.length>0&&e.push(`  → ${r.correlationEvidence[0]}`)}}if(i.length>0){e.push(""),e.push("ELEVATED WATCH:");for(const r of i)e.push(`- ${r.displayName}: ${r.newsMentions} news, ${r.signalCount} signals`)}if(s.length>0){e.push(""),e.push("NEWS-SIGNAL CORRELATIONS:");for(const r of s){const o=r.signalTypes.map(c=>Ct[c]).join(", ");e.push(`- ${r.displayName}: news coverage + ${o} detected`)}}return e.join(`
`)}getSignalIcons(a){return a.map(e=>Wi[e]||"").join(" ")}getLastSummary(){return this.lastSummary}getCountryUrgency(a){if(!this.lastSummary)return null;const e=this.lastSummary.focalPoints.find(n=>n.entityType==="country"&&n.entityId===a);return(e==null?void 0:e.urgency)||null}getCountryUrgencyMap(){const a=new Map;if(!this.lastSummary)return a;for(const e of this.lastSummary.focalPoints)e.entityType==="country"&&a.set(e.entityId,e.urgency);return a}getFocalPointForCountry(a){return this.lastSummary&&this.lastSummary.focalPoints.find(e=>e.entityType==="country"&&e.entityId===a)||null}getNewsCorrelationContext(a){if(!this.lastSummary)return null;const e=this.lastSummary.focalPoints.filter(i=>i.entityType==="country"&&a.includes(i.entityId)&&i.newsMentions>0);if(e.length===0)return null;const n=[];for(const i of e.slice(0,3)){const s=i.topHeadlines[0];s&&n.push(`${i.displayName}: "${s.title.slice(0,80)}..."`);const r=i.correlationEvidence[0];r&&n.push(`  → ${r}`)}return n.length>0?n.join(`
`):null}logSummary(){if(!this.lastSummary){console.log("[FocalPointDetector] No summary available");return}console.group("%c[FocalPointDetector]","color: #8b5cf6; font-weight: bold"),console.log(`Total focal points: ${this.lastSummary.focalPoints.length}`);const a=this.lastSummary.focalPoints.filter(n=>n.urgency==="critical"),e=this.lastSummary.focalPoints.filter(n=>n.urgency==="elevated");if(a.length>0){console.log("%cCritical:","color: #ef4444; font-weight: bold");for(const n of a)console.log(`  ${n.displayName}: score ${n.focalScore.toFixed(0)}, ${n.newsMentions} news, ${n.signalCount} signals`)}if(e.length>0){console.log("%cElevated:","color: #f59e0b; font-weight: bold");for(const n of e.slice(0,5))console.log(`  ${n.displayName}: score ${n.focalScore.toFixed(0)}`)}console.groupEnd()}}const We=new Cy,ky="/data/countries.geojson";let kt=null,pt=null;const mt=new Map;let nn=[];function Iy(t){if(!t)return null;const a=t["ISO3166-1-Alpha-2"]??t.ISO_A2??t.iso_a2;if(typeof a!="string")return null;const e=a.trim().toUpperCase();return/^[A-Z]{2}$/.test(e)?e:null}function Ty(t){if(!t)return null;const a=t.name??t.NAME??t.admin;if(typeof a!="string")return null;const e=a.trim();return e.length>0?e:null}function Ey(t){if(!Array.isArray(t)||t.length<2)return null;const a=Number(t[0]),e=Number(t[1]);return!Number.isFinite(a)||!Number.isFinite(e)?null:[a,e]}function Ki(t){return t.map(a=>a.map(Ey).filter(e=>e!==null)).filter(a=>a.length>=3)}function My(t){if(!t)return[];if(t.type==="Polygon"){const a=Ki(t.coordinates);return a.length>0?[a]:[]}return t.type==="MultiPolygon"?t.coordinates.map(a=>Ki(a)).filter(a=>a.length>0):[]}function Ny(t){let a=1/0,e=1/0,n=-1/0,i=-1/0,s=!1;return t.forEach(r=>{r.forEach(o=>{o.forEach(([c,l])=>{s=!0,c<a&&(a=c),l<e&&(e=l),c>n&&(n=c),l>i&&(i=l)})})}),s?[a,e,n,i]:null}function Ry(t,a,e,n,i,s){const r=(a-n)*(i-e)-(t-e)*(s-n);return Math.abs(r)>1e-9?!1:(t-e)*(t-i)+(a-n)*(a-s)<=0}function ji(t,a,e){let n=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const r=e[i],o=e[s];if(!r||!o)continue;const[c,l]=r,[d,m]=o;if(Ry(t,a,c,l,d,m))return!0;l>a!=m>a&&t<(d-c)*(a-l)/(m-l||Number.EPSILON)+c&&(n=!n)}return n}function Jr(t,a,e){const[n,i,s,r]=t.bbox;if(a<n||a>s||e<i||e>r)return!1;for(const o of t.polygons){const c=o[0];if(!c||!ji(a,e,c))continue;let l=!1;for(let d=1;d<o.length;d++){const m=o[d];if(m&&ji(a,e,m)){l=!0;break}}if(!l)return!0}return!1}async function Xr(){if(pt||kt){await kt;return}kt=(async()=>{if(typeof fetch=="function")try{const t=await fetch(ky);if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.json();if(!a||a.type!=="FeatureCollection"||!Array.isArray(a.features))return;pt=a,mt.clear(),nn=[];for(const e of a.features){const n=Iy(e.properties),i=Ty(e.properties);if(!n||!i)continue;const s=My(e.geometry),r=Ny(s);if(!r||s.length===0)continue;const o={code:n,name:i,polygons:s,bbox:r};mt.set(n,o),nn.push(o)}}catch(t){console.warn("[country-geometry] Failed to load countries.geojson:",t)}})(),await kt}async function Rw(){await Xr()}async function Pw(){return await Xr(),pt}function Uw(t){return mt.has(t.toUpperCase())}function Py(t,a,e){if(!pt)return null;const n=Array.isArray(e)&&e.length>0?e.map(i=>mt.get(i.toUpperCase())).filter(i=>!!i):nn;for(const i of n)if(Jr(i,a,t))return{code:i.code,name:i.name};return null}function Lw(t,a,e){if(!pt)return null;const n=mt.get(e.toUpperCase());return n?Jr(n,a,t):null}const sn=900*1e3;let Ke=null,Jt=!1,Rn=!1;function Uy(t){Rn=t,Jt=!0}function Dw(){Ke===null&&(Ke=Date.now())}function Ly(){return Rn||Jt?!1:Ke===null?!0:Date.now()-Ke>=sn?(Jt=!0,!1):!0}function qi(){if(Rn||Jt)return{inLearning:!1,remainingMinutes:0,progress:100};if(Ke===null)return{inLearning:!0,remainingMinutes:15,progress:0};const t=Date.now()-Ke,a=Math.max(0,sn-t),e=Math.min(100,t/sn*100);return{inLearning:a>0,remainingMinutes:Math.ceil(a/6e4),progress:Math.round(e)}}const Qr={US:["united states","usa","america","washington","biden","trump","pentagon"],RU:["russia","moscow","kremlin","putin"],CN:["china","beijing","xi jinping","prc"],UA:["ukraine","kyiv","zelensky","donbas"],IR:["iran","tehran","khamenei","irgc"],IL:["israel","tel aviv","netanyahu","idf","gaza"],TW:["taiwan","taipei"],KP:["north korea","pyongyang","kim jong"],SA:["saudi arabia","riyadh","mbs"],TR:["turkey","ankara","erdogan"],PL:["poland","warsaw"],DE:["germany","berlin"],FR:["france","paris","macron"],GB:["britain","uk","london","starmer"],IN:["india","delhi","modi"],PK:["pakistan","islamabad"],SY:["syria","damascus","assad"],YE:["yemen","sanaa","houthi"],MM:["myanmar","burma","rangoon"],VE:["venezuela","caracas","maduro"],BR:["brazil","brasilia","lula","bolsonaro"],AE:["uae","emirates","dubai","abu dhabi"]},Zr={US:5,RU:35,CN:25,UA:50,IR:40,IL:45,TW:30,KP:45,SA:20,TR:25,PL:10,DE:5,FR:10,GB:5,IN:20,PK:35,SY:50,YE:50,MM:45,VE:40,BR:15,AE:10},Pn={US:.3,RU:2,CN:2.5,UA:.8,IR:2,IL:.7,TW:1.5,KP:3,SA:2,TR:1.2,PL:.8,DE:.5,FR:.6,GB:.5,IN:.8,PK:1.5,SY:.7,YE:.7,MM:1.8,VE:1.8,BR:.6,AE:1.5},T=new Map,rn=new Map;function W(){return{protests:[],conflicts:[],ucdpStatus:null,hapiSummary:null,militaryFlights:[],militaryVessels:[],newsEvents:[],outages:[],displacementOutflow:0,climateStress:0}}function Ow(t){return T.get(t)}function ht(t){const a=t.toLowerCase();for(const[e,n]of Object.entries(Qr))if(n.some(i=>a.includes(i)))return e;for(const[e,n]of Object.entries(F))if(a.includes(n.toLowerCase()))return e;return null}function Fw(t){for(const a of t){const e=ht(a.country);!e||!F[e]||(T.has(e)||T.set(e,W()),T.get(e).protests.push(a),Xt(a.lat,a.lon,a.severity==="high"?2:1))}}function _w(t){for(const a of t){const e=ht(a.country);!e||!F[e]||(T.has(e)||T.set(e,W()),T.get(e).conflicts.push(a),Xt(a.lat,a.lon,a.fatalities>0?3:2))}}function Bw(t){for(const[a,e]of t)F[a]&&(T.has(a)||T.set(a,W()),T.get(a).ucdpStatus=e)}function xw(t){for(const[a,e]of t)F[a]&&(T.has(a)||T.set(a,W()),T.get(a).hapiSummary=e)}const Dy={AFG:"AF",SYR:"SY",UKR:"UA",SDN:"SD",SSD:"SS",SOM:"SO",COD:"CD",MMR:"MM",YEM:"YE",ETH:"ET",VEN:"VE",IRQ:"IQ",COL:"CO",NGA:"NG",PSE:"PS",TUR:"TR",PAK:"PK",IRN:"IR",IND:"IN",CHN:"CN",RUS:"RU",ISR:"IL",SAU:"SA",USA:"US",TWN:"TW",PRK:"KP",POL:"PL",DEU:"DE",FRA:"FR",GBR:"GB"},Oy={Afghanistan:"AF",Syria:"SY",Ukraine:"UA",Sudan:"SD","South Sudan":"SS",Somalia:"SO","DR Congo":"CD",Myanmar:"MM",Yemen:"YE",Ethiopia:"ET",Venezuela:"VE",Iraq:"IQ",Colombia:"CO",Nigeria:"NG",Palestine:"PS",Turkey:"TR",Pakistan:"PK",Iran:"IR",India:"IN",China:"CN",Russia:"RU",Israel:"IL","Saudi Arabia":"SA"};function Hw(t){var a;for(const e of T.values())e.displacementOutflow=0;for(const e of t){const n=((a=e.code)==null?void 0:a.length)===3?Dy[e.code]||e.code.substring(0,2):Oy[e.name]||e.code;if(!n||!F[n])continue;T.has(n)||T.set(n,W());const i=e.refugees+e.asylumSeekers;T.get(n).displacementOutflow=i}}const Fy={Ukraine:["UA"],"Middle East":["IR","IL","SA","SY","YE"],"South Asia":["PK","IN"],Myanmar:["MM"]};function $w(t){for(const a of T.values())a.climateStress=0;for(const a of t){if(a.severity==="normal")continue;const e=Fy[a.zone]||[];for(const n of e){if(!F[n])continue;T.has(n)||T.set(n,W());const i=a.severity==="extreme"?15:8;T.get(n).climateStress=Math.max(T.get(n).climateStress,i)}}}const _y={IR:[25,40,44,63],IL:[29,34,34,36],UA:[44,53,22,40],TW:[21,26,119,122],KP:[37,43,124,131],SY:[32,37,35,42],YE:[12,19,42,54],SA:[16,32,34,56],TR:[36,42,26,45],PK:[23,37,60,77],IN:[6,36,68,97],CN:[18,54,73,135],RU:[41,82,19,180]},By=Object.keys(F);function Yi(t,a){const e=Py(t,a,By);if(e&&F[e.code])return e.code;for(const[n,[i,s,r,o]]of Object.entries(_y))if(t>=i&&t<=s&&a>=r&&a<=o)return n;return null}function Ta(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)**2;return 6371*2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const xy={tehran:"IR",moscow:"RU",beijing:"CN",kyiv:"UA",taipei:"TW",telaviv:"IL",pyongyang:"KP",riyadh:"SA",ankara:"TR",damascus:"SY",sanaa:"YE",caracas:"VE",dc:"US",london:"GB",brussels:"FR",baghdad:"IR",beirut:"IR",doha:"SA",abudhabi:"SA"},be=new Map;function Xt(t,a,e=1){for(const n of pn)if(Ta(t,a,n.lat,n.lon)<150){const s=xy[n.id];if(s&&F[s]){const r=be.get(s)||0;be.set(s,r+e)}}for(const n of mn){const[i,s]=n.center;if(Ta(t,a,s,i)<300){const c={ukraine:["UA","RU"],gaza:["IL","IR"],sudan:["SA"],myanmar:["MM"]}[n.id]||[];for(const l of c)if(F[l]){const d=be.get(l)||0;be.set(l,d+e*2)}}}for(const n of na)if(Ta(t,a,n.lat,n.lon)<200){const r={taiwan_strait:["TW","CN"],hormuz_strait:["IR","SA"],bab_el_mandeb:["YE","SA"],suez:["IL"],bosphorus:["TR"]}[n.id]||[];for(const o of r)if(F[o]){const c=be.get(o)||0;be.set(o,c+e*1.5)}}}function eo(t){const a=be.get(t)||0;return Math.min(10,a*1.5)}function Gw(t,a){const e=new Map;for(const n of t){const i=ht(n.operatorCountry);i&&F[i]&&(T.has(i)||T.set(i,W()),T.get(i).militaryFlights.push(n));const s=Yi(n.lat,n.lon);s&&F[s]&&s!==i&&(e.has(s)||e.set(s,{flights:0,vessels:0}),e.get(s).flights++),Xt(n.lat,n.lon,1.5)}for(const n of a){const i=ht(n.operatorCountry);i&&F[i]&&(T.has(i)||T.set(i,W()),T.get(i).militaryVessels.push(n));const s=Yi(n.lat,n.lon);s&&F[s]&&s!==i&&(e.has(s)||e.set(s,{flights:0,vessels:0}),e.get(s).vessels++),Xt(n.lat,n.lon,2)}for(const[n,i]of e){T.has(n)||T.set(n,W());const s=T.get(n);for(let r=0;r<i.flights*2;r++)s.militaryFlights.push({});for(let r=0;r<i.vessels*2;r++)s.militaryVessels.push({})}}function Hy(t){for(const a of t){const e=a.primaryTitle.toLowerCase();for(const[n]of Object.entries(F))(Qr[n]||[]).some(s=>e.includes(s))&&(T.has(n)||T.set(n,W()),T.get(n).newsEvents.push(a))}}function Vw(t){for(const a of t){const e=ht(a.country);!e||!F[e]||(T.has(e)||T.set(e,W()),T.get(e).outages.push(a))}}function to(t,a){const e=t.protests.length,n=Pn[a]??1;let i=0,s=0,r=0;if(e>0){const c=t.protests.reduce((y,f)=>y+(f.fatalities||0),0),l=t.protests.filter(y=>y.severity==="high").length,m=n<.7?Math.log2(e+1)*n*5:e*n;i=Math.min(50,m*8),s=Math.min(30,c*5*n),r=Math.min(20,l*10*n)}let o=0;if(t.outages.length>0){const c=t.outages.filter(m=>m.severity==="total").length,l=t.outages.filter(m=>m.severity==="major").length,d=t.outages.filter(m=>m.severity==="partial").length;o=Math.min(50,c*30+l*15+d*5)}return Math.min(100,i+s+r+o)}function ao(t,a){const e=t.conflicts,n=Pn[a]??1;if(e.length===0&&!t.hapiSummary)return 0;const i=e.filter(y=>y.eventType==="battle").length,s=e.filter(y=>y.eventType==="explosion"||y.eventType==="remote_violence").length,r=e.filter(y=>y.eventType==="violence_against_civilians").length,o=e.reduce((y,f)=>y+f.fatalities,0),c=Math.min(50,(i*3+s*4+r*5)*n),l=Math.min(40,Math.sqrt(o)*5*n),d=r>0?Math.min(10,r*3):0;let m=0;if(e.length===0&&t.hapiSummary){const y=t.hapiSummary;m=Math.min(60,y.eventsPoliticalViolence*3*n)}return Math.min(100,Math.max(c+l+d,m))}function no(t){const a=t.ucdpStatus;if(!a)return 0;switch(a.intensity){case"war":return 70;case"minor":return 50;case"none":return 0}}function io(t){const a=t.militaryFlights.length,e=t.militaryVessels.length,n=Math.min(50,a*3),i=Math.min(30,e*5);return Math.min(100,n+i)}function so(t,a){const e=t.newsEvents.length;if(e===0)return 0;const n=Pn[a]??1,s=t.newsEvents.reduce((y,f)=>{var g;return y+(((g=f.velocity)==null?void 0:g.sourcesPerHour)||0)},0)/e,r=n<.7,o=r?Math.log2(e+1)*n*3:e*n,c=Math.min(40,o*5),l=r?5:2,d=s>l?Math.min(40,(s-l)*10*n):0,m=t.newsEvents.some(y=>y.isAlert)?20*n:0;return Math.min(100,c+d+m)}function $y(t){return t>=81?"critical":t>=66?"high":t>=51?"elevated":t>=31?"normal":"low"}function Gy(t,a){const e=rn.get(t);if(e===void 0)return"stable";const n=a-e;return n>=5?"rising":n<=-5?"falling":"stable"}function Un(){const t=[],a=We.getCountryUrgencyMap();for(const[e,n]of Object.entries(F)){const i=T.get(e)||W(),s=Zr[e]??20,r={unrest:Math.round(to(i,e)),conflict:Math.round(ao(i,e)),security:Math.round(io(i)),information:Math.round(so(i,e))},o=r.unrest*.25+r.conflict*.3+r.security*.2+r.information*.25,c=eo(e),l=r.information>=70?5:r.information>=50?3:0,d=a.get(e),m=d==="critical"?8:d==="elevated"?4:0,y=i.displacementOutflow>=1e6?8:i.displacementOutflow>=1e5?4:0,f=i.climateStress,g=s*.4+o*.6+c+l+m+y+f,v=no(i),b=Math.round(Math.min(100,Math.max(v,g))),C=rn.get(e)??b;t.push({code:e,name:n,score:b,level:$y(b),trend:Gy(e,b),change24h:b-C,components:r,lastUpdated:new Date}),rn.set(e,b)}return t.sort((e,n)=>n.score-e.score)}function Vy(t){const a=T.get(t);if(!a)return null;const e=Zr[t]??20,n={unrest:to(a,t),conflict:ao(a,t),security:io(a),information:so(a,t)},i=n.unrest*.25+n.conflict*.3+n.security*.2+n.information*.25,s=eo(t),r=n.information>=70?5:n.information>=50?3:0,o=We.getCountryUrgency(t),c=o==="critical"?8:o==="elevated"?4:0,l=a.displacementOutflow>=1e6?8:a.displacementOutflow>=1e5?4:0,d=a.climateStress,m=e*.4+i*.6+s+r+c+l+d,y=no(a);return Math.round(Math.min(100,Math.max(y,m)))}const Qt={US:"United States",GB:"United Kingdom",ES:"Spain",FR:"France",DE:"Germany",IT:"Italy",PT:"Portugal",NO:"Norway",DK:"Denmark",NL:"Netherlands",BE:"Belgium",SE:"Sweden",FI:"Finland",IE:"Ireland",AT:"Austria",CH:"Switzerland",GR:"Greece",CZ:"Czech Republic",JP:"Japan",CN:"China",TW:"Taiwan",HK:"Hong Kong",SG:"Singapore",KR:"South Korea",AU:"Australia",NZ:"New Zealand",IN:"India",PK:"Pakistan",AE:"UAE",SA:"Saudi Arabia",EG:"Egypt",KW:"Kuwait",BH:"Bahrain",OM:"Oman",QA:"Qatar",IR:"Iran",IQ:"Iraq",TR:"Turkey",IL:"Israel",JO:"Jordan",LB:"Lebanon",SY:"Syria",YE:"Yemen",NG:"Nigeria",ZA:"South Africa",KE:"Kenya",TZ:"Tanzania",MZ:"Mozambique",MG:"Madagascar",SN:"Senegal",GH:"Ghana",CI:"Ivory Coast",AO:"Angola",ET:"Ethiopia",UG:"Uganda",BR:"Brazil",AR:"Argentina",CL:"Chile",PE:"Peru",CO:"Colombia",MX:"Mexico",PA:"Panama",VE:"Venezuela",IS:"Iceland",FO:"Faroe Islands",FJ:"Fiji",ID:"Indonesia",VN:"Vietnam",TH:"Thailand",MY:"Malaysia",PH:"Philippines",RU:"Russia",UA:"Ukraine",PL:"Poland",RO:"Romania",HU:"Hungary",CA:"Canada",DJ:"Djibouti",BD:"Bangladesh",LK:"Sri Lanka",MM:"Myanmar"};let xt=null;function zy(){xt=null}function Wy(t){var a;for(const e of ye){const n=(a=e.points)==null?void 0:a[0];t.nodes.set(`cable:${e.id}`,{id:`cable:${e.id}`,type:"cable",name:e.name,coordinates:n?[n[0],n[1]]:void 0,metadata:{capacityTbps:e.capacityTbps,rfsYear:e.rfsYear,owners:e.owners,landingPoints:e.landingPoints}})}}function Ky(t){var a;for(const e of la){const n=(a=e.points)==null?void 0:a[0];t.nodes.set(`pipeline:${e.id}`,{id:`pipeline:${e.id}`,type:"pipeline",name:e.name,coordinates:n?[n[0],n[1]]:void 0,metadata:{type:e.type,status:e.status,capacity:e.capacity,operator:e.operator,countries:e.countries}})}}function jy(t){for(const a of fn)t.nodes.set(`port:${a.id}`,{id:`port:${a.id}`,type:"port",name:a.name,coordinates:[a.lon,a.lat],metadata:{country:a.country,type:a.type,rank:a.rank}})}function qy(t){for(const a of na)t.nodes.set(`chokepoint:${a.id}`,{id:`chokepoint:${a.id}`,type:"chokepoint",name:a.name,coordinates:[a.lon,a.lat],metadata:{description:a.description}})}function Yy(t){var e,n,i;const a=new Set;for(const s of ye)(e=s.countriesServed)==null||e.forEach(r=>a.add(r.country)),(n=s.landingPoints)==null||n.forEach(r=>a.add(r.country));for(const s of la)(i=s.countries)==null||i.forEach(r=>{const o=r==="USA"?"US":r==="Canada"?"CA":r;a.add(o)});for(const s of a)t.nodes.set(`country:${s}`,{id:`country:${s}`,type:"country",name:Qt[s]||s,metadata:{code:s}})}function Ne(t,a){t.edges.push(a),t.outgoing.has(a.from)||t.outgoing.set(a.from,[]),t.outgoing.get(a.from).push(a),t.incoming.has(a.to)||t.incoming.set(a.to,[]),t.incoming.get(a.to).push(a)}function Jy(t){var a,e;for(const n of ye){const i=`cable:${n.id}`;(a=n.countriesServed)==null||a.forEach(s=>{const r=`country:${s.country}`;Ne(t,{from:i,to:r,type:"serves",strength:s.capacityShare,redundancy:s.isRedundant?.5:0,metadata:{capacityShare:s.capacityShare,estimatedImpact:s.isRedundant?"Medium - redundancy available":"High - limited redundancy"}})}),(e=n.landingPoints)==null||e.forEach(s=>{const r=`country:${s.country}`;Ne(t,{from:i,to:r,type:"lands_at",strength:.3,redundancy:.5})})}}function Xy(t){var a;for(const e of la){const n=`pipeline:${e.id}`;(a=e.countries)==null||a.forEach(i=>{const r=`country:${i==="USA"?"US":i==="Canada"?"CA":i}`;t.nodes.has(r)&&Ne(t,{from:n,to:r,type:"serves",strength:.2,redundancy:.3})})}}function Qy(t){return{USA:"US",China:"CN","China (SAR)":"CN",Taiwan:"TW","South Korea":"KR",Netherlands:"NL",Belgium:"BE",Malaysia:"MY",Thailand:"TH",Greece:"GR","Saudi Arabia":"SA",Iran:"IR",Qatar:"QA",Russia:"RU",Egypt:"EG","UK (Gibraltar)":"GB",Djibouti:"DJ",Yemen:"YE",Panama:"PA",Spain:"ES",Pakistan:"PK","Sri Lanka":"LK",Japan:"JP",UK:"GB",France:"FR",Brazil:"BR",India:"IN",Singapore:"SG",Germany:"DE",UAE:"AE"}[t]||t}function Zy(t){const e={oil:.9,lng:.85,container:.7,mixed:.6,bulk:.5,naval:.4}[t.type]||.5,n=t.rank?Math.max(0,(20-t.rank)/20)*.3:0;return Math.min(1,e+n)}function eg(t){for(const a of fn){const e=`port:${a.id}`,n=Qy(a.country),i=`country:${n}`;t.nodes.has(i)||t.nodes.set(i,{id:i,type:"country",name:Qt[n]||a.country,metadata:{code:n}});const s=Zy(a);Ne(t,{from:e,to:i,type:"serves",strength:s,redundancy:a.rank&&a.rank<=5?.2:.4,metadata:{portType:a.type,estimatedImpact:s>.7?"Critical port for country":"Regional port"}});const r=tg(a);for(const o of r){const c=`country:${o.code}`;t.nodes.has(c)||t.nodes.set(c,{id:c,type:"country",name:Qt[o.code]||o.code,metadata:{code:o.code}}),Ne(t,{from:e,to:c,type:"trade_route",strength:o.strength,redundancy:.5,metadata:{relationship:o.reason}})}}}function tg(t){const a=[];return(t.id==="port_said"||t.id==="suez_port")&&a.push({code:"DE",strength:.6,reason:"Major EU importer via Suez"},{code:"GB",strength:.5,reason:"UK-Asia trade"},{code:"NL",strength:.5,reason:"Rotterdam connection"},{code:"CN",strength:.4,reason:"China-EU trade route"},{code:"IT",strength:.4,reason:"Mediterranean trade"}),(t.id==="bandar_abbas"||t.id==="fujairah"||t.id==="ras_tanura")&&a.push({code:"JP",strength:.7,reason:"Oil import dependency"},{code:"KR",strength:.6,reason:"Oil import dependency"},{code:"IN",strength:.5,reason:"Oil imports"},{code:"CN",strength:.5,reason:"Oil imports"}),(t.id==="singapore"||t.id==="klang"||t.id==="tanjung_pelepas")&&a.push({code:"CN",strength:.6,reason:"Trade route dependency"},{code:"JP",strength:.5,reason:"Trade route"},{code:"KR",strength:.5,reason:"Trade route"}),(t.id==="colon"||t.id==="balboa")&&a.push({code:"US",strength:.5,reason:"East-West coast shipping"},{code:"CN",strength:.4,reason:"Trade route to US East Coast"}),(t.id==="aden"||t.id==="djibouti"||t.id==="hodeidah")&&a.push({code:"DE",strength:.5,reason:"Europe-Asia shipping route"},{code:"GB",strength:.5,reason:"Shipping route"},{code:"IT",strength:.4,reason:"Mediterranean access"},{code:"SA",strength:.4,reason:"Regional trade"}),a}function ag(t){for(const a of na){const e=`chokepoint:${a.id}`,n=fn.filter(s=>ig(a.lat,a.lon,s.lat,s.lon)<500);for(const s of n)Ne(t,{from:e,to:`port:${s.id}`,type:"controls_access",strength:.7,redundancy:.2,metadata:{relationship:"Access controlled by chokepoint"}});const i=ng(a.id);for(const s of i){const r=`country:${s.code}`;t.nodes.has(r)||t.nodes.set(r,{id:r,type:"country",name:Qt[s.code]||s.code,metadata:{code:s.code}}),Ne(t,{from:e,to:r,type:"trade_dependency",strength:s.strength,redundancy:s.redundancy,metadata:{relationship:s.reason}})}}}function ng(t){return{suez:[{code:"DE",strength:.6,redundancy:.3,reason:"EU-Asia trade"},{code:"IT",strength:.5,redundancy:.3,reason:"Mediterranean"},{code:"GB",strength:.5,redundancy:.4,reason:"UK-Asia trade"},{code:"CN",strength:.4,redundancy:.5,reason:"China-EU exports"}],hormuz_strait:[{code:"JP",strength:.8,redundancy:.2,reason:"80% oil imports"},{code:"KR",strength:.7,redundancy:.2,reason:"70% oil imports"},{code:"IN",strength:.6,redundancy:.3,reason:"60% oil imports"},{code:"CN",strength:.5,redundancy:.4,reason:"40% oil imports"}],malacca_strait:[{code:"CN",strength:.7,redundancy:.3,reason:"80% oil imports transit"},{code:"JP",strength:.6,redundancy:.3,reason:"Trade route"},{code:"KR",strength:.6,redundancy:.3,reason:"Trade route"}],bab_el_mandeb:[{code:"DE",strength:.5,redundancy:.4,reason:"EU shipping"},{code:"GB",strength:.5,redundancy:.4,reason:"UK shipping"},{code:"SA",strength:.4,redundancy:.5,reason:"Red Sea access"}],panama:[{code:"US",strength:.5,redundancy:.4,reason:"Inter-coast shipping"},{code:"CN",strength:.4,redundancy:.5,reason:"US East trade"}],gibraltar:[{code:"ES",strength:.4,redundancy:.5,reason:"Med access"},{code:"IT",strength:.3,redundancy:.5,reason:"Atlantic trade"}],bosphorus:[{code:"RU",strength:.6,redundancy:.3,reason:"Black Sea access"},{code:"UA",strength:.6,redundancy:.3,reason:"Grain exports"},{code:"RO",strength:.4,redundancy:.4,reason:"Black Sea trade"}],dardanelles:[{code:"RU",strength:.5,redundancy:.3,reason:"Black Sea access"},{code:"UA",strength:.5,redundancy:.3,reason:"Grain exports"}],taiwan_strait:[{code:"TW",strength:.9,redundancy:.1,reason:"Taiwan trade lifeline"},{code:"JP",strength:.5,redundancy:.4,reason:"Trade route"},{code:"KR",strength:.4,redundancy:.4,reason:"Trade route"}]}[t]||[]}function ig(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)**2;return 6371*2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function Ln(){if(xt)return xt;const t={nodes:new Map,edges:[],outgoing:new Map,incoming:new Map};return Wy(t),Ky(t),jy(t),qy(t),Yy(t),Jy(t),Xy(t),eg(t),ag(t),xt=t,t}function sg(t){return t>.8?"critical":t>.5?"high":t>.2?"medium":"low"}function rg(t,a=1){var l,d;const e=Ln(),n=e.nodes.get(t);if(!n)return null;const i=new Map,s=new Set;s.add(t);const r=[{nodeId:t,depth:0,path:[t]}];for(;r.length>0;){const{nodeId:m,depth:y,path:f}=r.shift();if(y>=3)continue;const g=e.outgoing.get(m)||[];for(const v of g){if(s.has(v.to))continue;s.add(v.to);const b=v.strength*a*(1-(v.redundancy||0)),C=e.nodes.get(v.to);!C||b<.05||(i.set(v.to,{node:C,impactLevel:sg(b),pathLength:y+1,dependencyChain:[...f,v.to],redundancyAvailable:(v.redundancy||0)>.3,estimatedRecovery:(l=v.metadata)==null?void 0:l.estimatedImpact}),r.push({nodeId:v.to,depth:y+1,path:[...f,v.to]}))}}const o=[];for(const[m,y]of i)if(y.node.type==="country"){const f=((d=y.node.metadata)==null?void 0:d.code)||m.replace("country:","");o.push({country:f,countryName:y.node.name,impactLevel:y.impactLevel,affectedCapacity:og(t,f,e,y.dependencyChain)})}o.sort((m,y)=>{const f={critical:0,high:1,medium:2,low:3};return f[m.impactLevel]-f[y.impactLevel]||y.affectedCapacity-m.affectedCapacity});const c=cg(t);return{source:n,affectedNodes:Array.from(i.values()),countriesAffected:o,redundancies:c}}function og(t,a,e,n){var o;if(t.startsWith("cable:")){const c=t.replace("cable:",""),l=ye.find(m=>m.id===c),d=(o=l==null?void 0:l.countriesServed)==null?void 0:o.find(m=>m.country===a);return(d==null?void 0:d.capacityShare)||0}const i=`country:${a}`,r=(e.outgoing.get(t)||[]).filter(c=>c.to===i);if(r.length>0){const c=r.map(l=>l.strength*(1-(l.redundancy||0)));return Math.max(...c)}if(n.length>2){let c=1;for(let l=0;l<n.length-1;l++){const d=n[l],m=n[l+1],f=(e.outgoing.get(d)||[]).find(g=>g.to===m);if(f)c*=f.strength*(1-(f.redundancy||0));else{c=0;break}}if(c>0)return c}return 0}function cg(t){var s,r;if(!t.startsWith("cable:"))return[];const a=t.replace("cable:",""),e=ye.find(o=>o.id===a);if(!e)return[];const n=new Set(((s=e.countriesServed)==null?void 0:s.map(o=>o.country))||[]),i=[];for(const o of ye){if(o.id===a)continue;const c=((r=o.countriesServed)==null?void 0:r.filter(l=>n.has(l.country)))||[];if(c.length>0){const l=c.reduce((d,m)=>d+m.capacityShare,0)/c.length;i.push({id:o.id,name:o.name,capacityShare:l})}}return i.slice(0,5)}function Ji(){const t=Ln();let a=0,e=0,n=0,i=0,s=0;for(const r of t.nodes.values())r.type==="cable"?a++:r.type==="pipeline"?e++:r.type==="port"?n++:r.type==="chokepoint"?i++:r.type==="country"&&s++;return{nodes:t.nodes.size,edges:t.edges.length,cables:a,pipelines:e,ports:n,chokepoints:i,countries:s}}const _=[],Xi=new Map,lg=7200*1e3,ug=200;function dg(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function pg(t,a){const e=Math.abs(t);return a==="critical"?"critical":a==="high"||e>=30?"high":a==="elevated"||e>=15?"medium":"low"}function mg(t,a){return a>=4||t>=90?"critical":a>=3||t>=70?"high":t>=50?"medium":"low"}function hg(t,a){const e=Zi(t.lat,t.lon).join(", ")||"Unknown";return{id:a,type:"convergence",priority:mg(t.score,t.types.length),title:u("alerts.geoAlert",{location:e}),summary:u("alerts.eventsDetected",{count:t.totalEvents,lat:t.lat.toFixed(1),lon:t.lon.toFixed(1)}),components:{convergence:t},location:{lat:t.lat,lon:t.lon},countries:Zi(t.lat,t.lon),timestamp:new Date}}function yg(t){const a=`conv-${t.cellId}`,e=hg(t,a);return oo(e)}function gg(t,a,e,n,i,s){const r=n-e;if(Math.abs(r)<10)return null;const o={country:t,countryName:a,previousScore:e,currentScore:n,change:r,level:i,driver:s},c=r>0?`+${r}`:String(r),l=r>0?"alerts.indexRose":"alerts.indexFell",d={id:`cii-${t}`,type:"cii_spike",priority:pg(r,i),title:u(r>0?"alerts.instabilityRising":"alerts.instabilityFalling",{country:a}),summary:u(l,{from:e,to:n,change:c,driver:s}),components:{ciiChange:o},countries:[t],timestamp:new Date};return oo(d)}function fg(t,a){const e=t.countries.some(s=>a.countries.includes(s)),n=Math.abs(t.timestamp.getTime()-a.timestamp.getTime())<lg,i=!!(t.location&&a.location&&dg(t.location.lat,t.location.lon,a.location.lat,a.location.lon)<ug);return(e||i)&&n}function Sg(t,a){return{id:t.id,type:"composite",priority:ro(t.priority,a.priority),title:vg(t,a),summary:wg(t,a),components:{...t.components,...a.components},location:t.location||a.location,countries:[...new Set([...t.countries,...a.countries])],timestamp:new Date(Math.max(t.timestamp.getTime(),a.timestamp.getTime()))}}function ro(t,a){const e=["critical","high","medium","low"];return e.indexOf(t)<=e.indexOf(a)?t:a}function Qi(t){return F[t]||t}function vg(t,a){const e=t.components.ciiChange||a.components.ciiChange;if(e)return u(e.change>0?"alerts.instabilityRising":"alerts.instabilityFalling",{country:e.countryName});if(t.components.convergence||a.components.convergence){const s=t.countries[0]||a.countries[0],r=s?Qi(s):u("alerts.multipleRegions");return u("alerts.geoAlert",{location:r})}if(t.components.cascade||a.components.cascade)return u("alerts.cascadeAlert");const n=t.countries[0]||a.countries[0],i=n?Qi(n):u("alerts.multipleRegions");return u("alerts.alert",{location:i})}function wg(t,a){const e=t.components.ciiChange,n=a.components.ciiChange;if(e&&n&&e.country===n.country){const r=n.currentScore>e.currentScore?n:e,o=n.currentScore>e.currentScore?e:n,c=r.currentScore-o.previousScore,l=c>0?`+${c}`:`${c}`,d=c>0?"alerts.indexRose":"alerts.indexFell";return u(d,{from:o.previousScore,to:r.currentScore,change:l,driver:r.driver})}const i=new Set,s=[];for(const r of[t.summary,a.summary])if(r)for(const o of r.split(" • ")){const c=o.trim();c&&!i.has(c)&&(i.add(c),s.push(c))}if(s.length>3){const r=s.length-3;return s.slice(0,3).join(" • ")+` (+${r} more)`}return s.join(" • ")}function oo(t){const a=_.findIndex(e=>e.id===t.id);if(a!==-1){const e=_[a],n={...t,priority:ro(e.priority,t.priority),timestamp:new Date(Math.max(e.timestamp.getTime(),t.timestamp.getTime()))};return _[a]=n,n}for(let e=0;e<_.length;e++){const n=_[e];if(n&&fg(n,t)){const i=Sg(n,t);return _[e]=i,i}}return _.unshift(t),_.length>50&&_.pop(),t}function Zi(t,a){const e=[],n={europe:["DE","FR","GB","PL","UA"],middle_east:["IR","IL","SA","TR","SY","YE"],east_asia:["CN","TW","KP"],south_asia:["IN","PK","MM"],americas:["US","VE"]};return t>35&&t<70&&a>-10&&a<40?e.push(...n.europe):t>15&&t<45&&a>25&&a<65?e.push(...n.middle_east):t>15&&t<55&&a>100&&a<145?e.push(...n.east_asia):t>5&&t<40&&a>65&&a<100?e.push(...n.south_asia):t>-60&&t<70&&a>-130&&a<-30&&e.push(...n.americas),e.filter(i=>F[i])}function bg(){const t=[],a=Un(),e=Ly();for(const n of a){const i=Xi.get(n.code)??n.score,s=n.score-i;if(!e&&Math.abs(s)>=10){const r=Ag(n),o=gg(n.code,n.name,i,n.score,n.level,r);o&&t.push(o)}Xi.set(n.code,n.score)}return t}function Ag(t){const{unrest:a,security:e,information:n}=t.components;return a>=e&&a>=n?"Civil Unrest":e>=n?"Security Activity":"Information Velocity"}function Cg(t){const a=Date.now()-864e5;for(;_.length>0&&_[0].timestamp.getTime()<a;)_.shift();for(const e of t)yg(e);bg(),_.sort((e,n)=>n.timestamp.getTime()-e.timestamp.getTime()),_.length>100&&(_.length=100)}function kg(t){const a=Un();Cg(t);const e=Ig(a),n=.3,i=.5,s=.2,r=Math.min(100,t.length*25),o=Math.min(100,es()*25),c=Math.round(r*n+e*i+o*s),l=Tg(c),d=a[0],m=d?d.score:0;return{convergenceAlerts:t.length,avgCIIDeviation:m,infrastructureIncidents:es(),compositeScore:c,trend:l,topRisks:Eg(t,a),topConvergenceZones:t.slice(0,3).map(y=>({cellId:y.cellId,lat:y.lat,lon:y.lon,score:y.score})),unstableCountries:a.filter(y=>y.score>=50).slice(0,5),timestamp:new Date}}function Ig(t){if(t.length===0)return 0;const e=[...t].sort((o,c)=>c.score-o.score).slice(0,5),n=[.4,.25,.2,.1,.05];let i=0;for(let o=0;o<e.length;o++){const c=e[o],l=n[o];c&&l!==void 0&&(i+=c.score*l)}const s=t.filter(o=>o.score>=50).length,r=Math.min(20,s*5);return Math.min(100,i+r)}let It=null;function Tg(t){if(It===null)return It=t,"stable";const a=t-It;return It=t,a>=5?"escalating":a<=-5?"de-escalating":"stable"}function es(){return _.filter(t=>t.components.cascade).length}function Eg(t,a){const e=[],n=t[0];if(n){const s=Yr(n.lat,n.lon);e.push(`Convergence: ${s} (score: ${n.score})`)}const i=a.filter(s=>s.level==="critical"||s.level==="high");for(const s of i.slice(0,2))e.push(`${s.name} instability: ${s.score} (${s.level})`);return e.slice(0,3)}function Mg(t=24){const a=Date.now()-t*60*60*1e3;return _.filter(e=>e.timestamp.getTime()>a)}function Ng(){return{critical:_.filter(t=>t.priority==="critical").length,high:_.filter(t=>t.priority==="high").length,medium:_.filter(t=>t.priority==="medium").length,low:_.filter(t=>t.priority==="low").length}}const Rg="https://api.usaspending.gov/api/v2",Pg={A:"contract",B:"contract",C:"contract",D:"contract","02":"grant","03":"grant","04":"grant","05":"grant","06":"grant",10:"grant","07":"loan","08":"loan"};function Ug(t){const a=new Date;return a.setDate(a.getDate()-t),a.toISOString().split("T")[0]}function Lg(){return new Date().toISOString().split("T")[0]}const Dg=90,Og=1,Fg=50,_g=1;function Bg(t){return Math.max(Og,Math.min(Dg,Math.floor(t)))}function xg(t){return Math.max(_g,Math.min(Fg,Math.floor(t)))}async function zw(t={}){const a=Bg(t.daysBack??7),e=xg(t.limit??15),n=t.awardTypes??["contract"],i=Ug(a),s=Lg(),r=[];n.includes("contract")&&r.push("A","B","C","D"),n.includes("grant")&&r.push("02","03","04","05","06","10"),n.includes("loan")&&r.push("07","08");const o=new AbortController,c=setTimeout(()=>o.abort(),2e4);try{const l=await fetch(`${Rg}/search/spending_by_award/`,{method:"POST",headers:{"Content-Type":"application/json"},signal:o.signal,body:JSON.stringify({filters:{time_period:[{start_date:i,end_date:s}],award_type_codes:r},fields:["Award ID","Recipient Name","Award Amount","Awarding Agency","Description","Start Date","Award Type"],limit:e,order:"desc",sort:"Award Amount"})});if(!l.ok)throw new Error(`USASpending API error: ${l.status}`);const y=((await l.json()).results||[]).map(g=>({id:String(g["Award ID"]||""),recipientName:String(g["Recipient Name"]||"Unknown"),amount:Number(g["Award Amount"])||0,agency:String(g["Awarding Agency"]||"Unknown"),description:String(g.Description||"").slice(0,200),startDate:String(g["Start Date"]||""),awardType:Pg[String(g["Award Type"]||"")]||"other"})),f=y.reduce((g,v)=>g+v.amount,0);return y.length>0&&V.recordUpdate("spending",y.length),{awards:y,totalAmount:f,periodStart:i,periodEnd:s,fetchedAt:new Date}}catch(l){return console.error("[USASpending] Fetch failed:",l),V.recordError("spending",l instanceof Error?l.message:"Unknown error"),{awards:[],totalAmount:0,periodStart:i,periodEnd:s,fetchedAt:new Date}}finally{clearTimeout(c)}}function ts(t){return t>=1e9?`$${(t/1e9).toFixed(1)}B`:t>=1e6?`$${(t/1e6).toFixed(1)}M`:t>=1e3?`$${(t/1e3).toFixed(0)}K`:`$${t.toFixed(0)}`}function Hg(t){switch(t){case"contract":return"📄";case"grant":return"🎁";case"loan":return"💰";default:return"📋"}}const $g=new Mn("",{fetch:fetch.bind(globalThis)}),Gg={"iran-theater":{name:"Iran Theater",shortName:"IRAN",targetNation:"Iran",centerLat:31,centerLon:47.5,bounds:{north:42,south:20,east:65,west:30}},"taiwan-theater":{name:"Taiwan Strait",shortName:"TAIWAN",targetNation:"Taiwan",centerLat:24,centerLon:122.5,bounds:{north:30,south:18,east:130,west:115}},"baltic-theater":{name:"Baltic Theater",shortName:"BALTIC",targetNation:null,centerLat:58.5,centerLon:21,bounds:{north:65,south:52,east:32,west:10}},"blacksea-theater":{name:"Black Sea",shortName:"BLACK SEA",targetNation:null,centerLat:44,centerLon:34,bounds:{north:48,south:40,east:42,west:26}},"korea-theater":{name:"Korean Peninsula",shortName:"KOREA",targetNation:"North Korea",centerLat:38,centerLon:128,bounds:{north:43,south:33,east:132,west:124}},"south-china-sea":{name:"South China Sea",shortName:"SCS",targetNation:null,centerLat:15,centerLon:113,bounds:{north:25,south:5,east:121,west:105}},"east-med-theater":{name:"Eastern Mediterranean",shortName:"E.MED",targetNation:null,centerLat:35,centerLon:31,bounds:{north:37,south:33,east:37,west:25}},"israel-gaza-theater":{name:"Israel/Gaza",shortName:"GAZA",targetNation:"Gaza",centerLat:31,centerLon:34.5,bounds:{north:33,south:29,east:36,west:33}},"yemen-redsea-theater":{name:"Yemen/Red Sea",shortName:"RED SEA",targetNation:"Yemen",centerLat:16.5,centerLon:43,bounds:{north:22,south:11,east:54,west:32}}};function Vg(t){const a=Gg[t.theater],e=t.activeOperations.includes("strike_capable"),n=t.postureLevel==="critical"||t.postureLevel==="elevated"?t.postureLevel:"normal";return{theaterId:t.theater,theaterName:(a==null?void 0:a.name)??t.theater,shortName:(a==null?void 0:a.shortName)??t.theater,targetNation:(a==null?void 0:a.targetNation)??null,fighters:0,tankers:0,awacs:0,reconnaissance:0,transport:0,bombers:0,drones:0,totalAircraft:t.activeFlights,destroyers:0,frigates:0,carriers:0,submarines:0,patrol:0,auxiliaryVessels:0,totalVessels:t.trackedVessels,byOperator:{},postureLevel:n,strikeCapable:e,trend:"stable",changePercent:0,summary:"",headline:n==="critical"?`Critical military buildup - ${(a==null?void 0:a.name)??t.theater}`:n==="elevated"?`Elevated military activity - ${(a==null?void 0:a.name)??t.theater}`:`Normal activity - ${(a==null?void 0:a.name)??t.theater}`,centerLat:(a==null?void 0:a.centerLat)??0,centerLon:(a==null?void 0:a.centerLon)??0,bounds:a==null?void 0:a.bounds}}function zg(t){const a=t.theaters.map(Vg),e=a.reduce((n,i)=>n+i.totalAircraft,0);return{postures:a,totalFlights:e,timestamp:new Date().toISOString(),cached:!0}}const on="wm:theater-posture",Wg=1800*1e3;let q=null,tt=null,as=0;const Kg=300*1e3;function cn(){return new DOMException("The operation was aborted.","AbortError")}function ns(t,a){return a?a.aborted?Promise.reject(cn()):new Promise((e,n)=>{const i=()=>{a.removeEventListener("abort",i),n(cn())};a.addEventListener("abort",i,{once:!0}),t.then(s=>{a.removeEventListener("abort",i),e(s)},s=>{a.removeEventListener("abort",i),n(s)})}):t}function jg(){try{const t=localStorage.getItem(on);if(!t)return null;const{data:a,savedAt:e}=JSON.parse(t);return Date.now()-e>Wg?(localStorage.removeItem(on),null):{...a,stale:!0}}catch{return null}}function qg(t){try{localStorage.setItem(on,JSON.stringify({data:t,savedAt:Date.now()}))}catch{}}const is=jg();is&&(q=is,console.log("[CachedTheaterPosture] Restored from localStorage (stale)"));async function Yg(t){if(t!=null&&t.aborted)throw cn();const a=Date.now();if(q&&!q.stale&&a-as<Kg)return q;if(tt)return ns(tt,t);const e=q==null?void 0:q.stale;return tt=(async()=>{try{const n=await $g.getTheaterPosture({theater:""}),i=zg(n);return q=i,as=Date.now(),qg(i),console.log("[CachedTheaterPosture] Loaded via sebuf RPC",`${i.postures.length} theaters, ${i.totalFlights} flights`),q}catch(n){if(n instanceof DOMException&&n.name==="AbortError")throw n;return console.error("[CachedTheaterPosture] Fetch error:",n),q}finally{tt=null}})(),e?q:ns(tt,t)}const Jg={middle_east:{name:"Middle East",countries:["IR","IL","SA","AE","IQ","SY","YE","JO","LB","KW","QA","OM","BH"]},east_asia:{name:"East Asia",countries:["CN","TW","JP","KR","KP","HK","MN"]},south_asia:{name:"South Asia",countries:["IN","PK","BD","AF","NP","LK","MM"]},europe_east:{name:"Eastern Europe",countries:["UA","RU","BY","PL","RO","MD","HU","CZ","SK","BG"]},africa_north:{name:"North Africa",countries:["EG","LY","DZ","TN","MA","SD","SS"]},africa_sahel:{name:"Sahel Region",countries:["ML","NE","BF","TD","NG","CM","CF"]}},Xg={Iran:"IR",Israel:"IL","Saudi Arabia":"SA","United Arab Emirates":"AE",Iraq:"IQ",Syria:"SY",Yemen:"YE",Jordan:"JO",Lebanon:"LB",China:"CN",Taiwan:"TW",Japan:"JP","South Korea":"KR","North Korea":"KP",India:"IN",Pakistan:"PK",Bangladesh:"BD",Afghanistan:"AF",Ukraine:"UA",Russia:"RU",Belarus:"BY",Poland:"PL",Egypt:"EG",Libya:"LY",Sudan:"SD","South Sudan":"SS","United States":"US","United Kingdom":"GB",Germany:"DE",France:"FR"};function Ea(t){return t.length===2?t.toUpperCase():Xg[t]||t.slice(0,2).toUpperCase()}function Tt(t){return F[t]||t}class Qg{constructor(){h(this,"signals",[]);h(this,"WINDOW_MS",1440*60*1e3);h(this,"temporalSourceMap",new WeakMap)}clearSignalType(a){this.signals=this.signals.filter(e=>e.type!==a)}ingestOutages(a){this.clearSignalType("internet_outage");for(const e of a){const n=Ea(e.country);this.signals.push({type:"internet_outage",country:n,countryName:e.country,lat:e.lat,lon:e.lon,severity:e.severity==="total"?"high":e.severity==="major"?"medium":"low",title:e.title,timestamp:e.pubDate})}this.pruneOld()}ingestFlights(a){this.clearSignalType("military_flight");const e=new Map;for(const n of a){const i=this.coordsToCountry(n.lat,n.lon),s=e.get(i)||0;e.set(i,s+1)}for(const[n,i]of e)this.signals.push({type:"military_flight",country:n,countryName:Tt(n),lat:0,lon:0,severity:i>=10?"high":i>=5?"medium":"low",title:`${i} military aircraft detected`,timestamp:new Date});this.pruneOld()}ingestVessels(a){this.clearSignalType("military_vessel");const e=new Map;for(const n of a){const i=this.coordsToCountry(n.lat,n.lon),s=e.get(i);s?s.count++:e.set(i,{count:1,lat:n.lat,lon:n.lon})}for(const[n,i]of e)this.signals.push({type:"military_vessel",country:n,countryName:Tt(n),lat:i.lat,lon:i.lon,severity:i.count>=5?"high":i.count>=2?"medium":"low",title:`${i.count} naval vessels near region`,timestamp:new Date});this.pruneOld()}ingestProtests(a){this.clearSignalType("protest");const e=new Map;for(const n of a){const i=Ea(n.country)||this.coordsToCountry(n.lat,n.lon),s=e.get(i);s?s.count++:e.set(i,{count:1,lat:n.lat,lon:n.lon})}for(const[n,i]of e)this.signals.push({type:"protest",country:n,countryName:Tt(n),lat:i.lat,lon:i.lon,severity:i.count>=10?"high":i.count>=5?"medium":"low",title:`${i.count} protest events`,timestamp:new Date});this.pruneOld()}ingestAisDisruptions(a){this.clearSignalType("ais_disruption");for(const e of a){const n=this.coordsToCountry(e.lat,e.lon),i=e.severity==="elevated"?"medium":e.severity;this.signals.push({type:"ais_disruption",country:n,countryName:e.name,lat:e.lat,lon:e.lon,severity:i,title:e.description,timestamp:new Date})}this.pruneOld()}ingestSatelliteFires(a){this.clearSignalType("satellite_fire");for(const e of a){const n=this.coordsToCountry(e.lat,e.lon)||Ea(e.region),i=e.brightness>360?"high":e.brightness>320?"medium":"low";this.signals.push({type:"satellite_fire",country:n,countryName:e.region,lat:e.lat,lon:e.lon,severity:i,title:`Thermal anomaly detected (${Math.round(e.brightness)}K, ${e.frp.toFixed(1)}MW)`,timestamp:new Date(e.acq_date)})}this.pruneOld()}ingestTemporalAnomalies(a){const e=new Set(a.map(n=>n.type));this.signals=this.signals.filter(n=>n.type!=="temporal_anomaly"||!e.has(this.temporalSourceMap.get(n)||""));for(const n of a){const i={type:"temporal_anomaly",country:"XX",countryName:n.region,lat:0,lon:0,severity:n.severity==="critical"||n.severity==="high"?"high":"medium",title:n.message,timestamp:new Date};this.signals.push(i),this.temporalSourceMap.set(i,n.type)}this.pruneOld()}coordsToCountry(a,e){return a>=25&&a<=40&&e>=44&&e<=63?"IR":a>=29&&a<=33&&e>=34&&e<=36?"IL":a>=15&&a<=32&&e>=34&&e<=55?"SA":a>=20&&a<=55&&e>=73&&e<=135?"CN":a>=22&&a<=25&&e>=120&&e<=122?"TW":a>=8&&a<=37&&e>=68&&e<=97?"IN":a>=44&&a<=52&&e>=22&&e<=40?"UA":a>=50&&a<=82&&e>=20&&e<=180?"RU":a>=22&&a<=32&&e>=25&&e<=35?"EG":"XX"}pruneOld(){const a=Date.now()-this.WINDOW_MS;this.signals=this.signals.filter(e=>e.timestamp.getTime()>a)}getCountryClusters(){const a=new Map;for(const n of this.signals){const i=a.get(n.country)||[];i.push(n),a.set(n.country,i)}const e=[];for(const[n,i]of a){const s=new Set(i.map(m=>m.type)),r=i.filter(m=>m.severity==="high").length,o=s.size*20,c=Math.min(30,i.length*5),l=r*10,d=Math.min(100,o+c+l);e.push({country:n,countryName:Tt(n),signals:i,signalTypes:s,totalCount:i.length,highSeverityCount:r,convergenceScore:d})}return e.sort((n,i)=>i.convergenceScore-n.convergenceScore)}getRegionalConvergence(){const a=this.getCountryClusters(),e=[];for(const[n,i]of Object.entries(Jg)){const s=a.filter(c=>i.countries.includes(c.country));if(s.length<2)continue;const r=new Set;let o=0;for(const c of s)c.signalTypes.forEach(l=>r.add(l)),o+=c.totalCount;if(r.size>=2){const c={internet_outage:"internet disruptions",military_flight:"military air activity",military_vessel:"naval presence",protest:"civil unrest",ais_disruption:"shipping anomalies",satellite_fire:"thermal anomalies",temporal_anomaly:"baseline anomalies"},l=[...r].map(m=>c[m]).join(", "),d=s.map(m=>m.countryName).join(", ");e.push({region:i.name,countries:s.map(m=>m.country),signalTypes:[...r],totalSignals:o,description:`${i.name}: ${l} detected across ${d}`})}}return e.sort((n,i)=>i.signalTypes.length-n.signalTypes.length)}generateAIContext(){const a=this.getCountryClusters().slice(0,5),e=this.getRegionalConvergence().slice(0,3);if(a.length===0&&e.length===0)return"";const n=["[GEOGRAPHIC SIGNALS]"];if(e.length>0){n.push("Regional convergence detected:");for(const i of e)n.push(`- ${i.description}`)}if(a.length>0){n.push("Top countries by signal activity:");for(const i of a){const s=[...i.signalTypes].join(", ");n.push(`- ${i.countryName}: ${i.totalCount} signals (${s}), convergence score: ${i.convergenceScore}`)}}return n.join(`
`)}getSummary(){const a={internet_outage:0,military_flight:0,military_vessel:0,protest:0,ais_disruption:0,satellite_fire:0,temporal_anomaly:0};for(const e of this.signals)a[e.type]++;return{timestamp:new Date,totalSignals:this.signals.length,byType:a,convergenceZones:this.getRegionalConvergence(),topCountries:this.getCountryClusters().slice(0,10),aiContext:this.generateAIContext()}}clear(){this.signals=[]}getSignalCount(){return this.signals.length}}const co=new Qg;function Zg(){const t=co.getSummary();if(console.group("%c[Signal Aggregator]","color: #6b8afd; font-weight: bold"),console.log(`Total signals: ${t.totalSignals}`),console.log("By type:",t.byType),t.convergenceZones.length>0){console.log("%cConvergence Zones:","color: #f59e0b; font-weight: bold");for(const a of t.convergenceZones)console.log(`  ${a.description}`)}if(t.topCountries.length>0){console.log("%cTop Countries:","color: #4ade80; font-weight: bold");for(const a of t.topCountries.slice(0,5))console.log(`  ${a.countryName}: ${a.totalCount} signals, score ${a.convergenceScore}`)}console.groupEnd()}function S(t,a,...e){const n=document.createElement(t);let i;return a!=null&&typeof a=="object"&&!(a instanceof Node)?(sf(n,a),i=e):i=[a,...e],uo(n,i),n}function lo(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function U(t,...a){const e=document.createDocumentFragment();uo(e,a),lo(t),t.appendChild(e)}function ef(t){const a=document.createElement("template");return a.innerHTML=t,a.content}const tf=new Set(["strong","em","b","i","br","p","ul","ol","li","span","div","a"]),af=new Set(["style","class","href","target","rel"]);function nf(t){const a=document.createElement("template");a.innerHTML=t;const e=n=>{const i=Array.from(n.childNodes);for(const s of i)if(s.nodeType===Node.ELEMENT_NODE){const r=s;if(!tf.has(r.tagName.toLowerCase())){for(;r.firstChild;)n.insertBefore(r.firstChild,r);n.removeChild(r);continue}for(const o of Array.from(r.attributes))af.has(o.name.toLowerCase())||r.removeAttribute(o.name);if(r.hasAttribute("href")){const o=r.getAttribute("href")||"";!/^https?:\/\//i.test(o)&&!o.startsWith("/")&&!o.startsWith("#")&&r.removeAttribute("href")}e(r)}};return e(a.content),a.content}function sf(t,a){for(const e in a){const n=a[e];if(!(n==null||n===!1))if(e==="className")t.className=n;else if(e==="style")typeof n=="string"?t.style.cssText=n:typeof n=="object"&&Object.assign(t.style,n);else if(e==="dataset"){const i=n;for(const s in i)t.dataset[s]=i[s]}else e.startsWith("on")&&typeof n=="function"?t.addEventListener(e.slice(2).toLowerCase(),n):n===!0?t.setAttribute(e,""):t.setAttribute(e,String(n))}}function uo(t,a){for(const e of a)e==null||e===!1||(e instanceof Node?t.appendChild(e):t.appendChild(document.createTextNode(String(e))))}const Dn="worldmonitor-panel-spans";function ln(){try{const t=localStorage.getItem(Dn);return t?JSON.parse(t):{}}catch{return{}}}function ss(t,a){const e=ln();e[t]=a,localStorage.setItem(Dn,JSON.stringify(e))}function rs(t){return t>=500?4:t>=350?3:t>=250?2:1}function Ma(t,a){t.classList.remove("span-1","span-2","span-3","span-4"),t.classList.add(`span-${a}`),t.classList.add("resized")}class P{constructor(a){h(this,"element");h(this,"content");h(this,"header");h(this,"countEl",null);h(this,"statusBadgeEl",null);h(this,"newBadgeEl",null);h(this,"panelId");h(this,"abortController",new AbortController);h(this,"tooltipCloseHandler",null);h(this,"resizeHandle",null);h(this,"isResizing",!1);h(this,"startY",0);h(this,"startHeight",0);h(this,"onTouchMove",null);h(this,"onTouchEnd",null);h(this,"onDocMouseUp",null);h(this,"contentDebounceMs",150);h(this,"pendingContentHtml",null);h(this,"contentDebounceTimer",null);this.panelId=a.id,this.element=document.createElement("div"),this.element.className=`panel ${a.className||""}`,this.element.dataset.panel=a.id,this.header=document.createElement("div"),this.header.className="panel-header";const e=document.createElement("div");e.className="panel-header-left";const n=document.createElement("span");if(n.className="panel-title",n.textContent=a.title,e.appendChild(n),a.infoTooltip){const r=S("button",{className:"panel-info-btn","aria-label":u("components.panel.showMethodologyInfo")},"?"),o=S("div",{className:"panel-info-tooltip"});o.appendChild(nf(a.infoTooltip)),r.addEventListener("click",l=>{l.stopPropagation(),o.classList.toggle("visible")}),this.tooltipCloseHandler=()=>o.classList.remove("visible"),document.addEventListener("click",this.tooltipCloseHandler);const c=document.createElement("div");c.className="panel-info-wrapper",c.appendChild(r),c.appendChild(o),e.appendChild(c)}a.trackActivity!==!1&&(this.newBadgeEl=document.createElement("span"),this.newBadgeEl.className="panel-new-badge",this.newBadgeEl.style.display="none",e.appendChild(this.newBadgeEl)),this.header.appendChild(e),this.statusBadgeEl=document.createElement("span"),this.statusBadgeEl.className="panel-data-badge",this.statusBadgeEl.style.display="none",this.header.appendChild(this.statusBadgeEl),a.showCount&&(this.countEl=document.createElement("span"),this.countEl.className="panel-count",this.countEl.textContent="0",this.header.appendChild(this.countEl)),this.content=document.createElement("div"),this.content.className="panel-content",this.content.id=`${a.id}Content`,this.element.appendChild(this.header),this.element.appendChild(this.content),this.resizeHandle=document.createElement("div"),this.resizeHandle.className="panel-resize-handle",this.resizeHandle.title=u("components.panel.dragToResize"),this.resizeHandle.draggable=!1,this.element.appendChild(this.resizeHandle),this.setupResizeHandlers();const s=ln()[this.panelId];s&&s>1&&Ma(this.element,s),this.showLoading()}setupResizeHandlers(){if(!this.resizeHandle)return;const a=i=>{var s;i.preventDefault(),i.stopPropagation(),this.isResizing=!0,this.startY=i.clientY,this.startHeight=this.element.getBoundingClientRect().height,this.element.classList.add("resizing"),this.element.draggable=!1,(s=this.resizeHandle)==null||s.classList.add("active"),document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)},e=i=>{if(!this.isResizing)return;const s=i.clientY-this.startY,r=Math.max(200,this.startHeight+s),o=rs(r);Ma(this.element,o)},n=()=>{var s;if(!this.isResizing)return;this.isResizing=!1,this.element.classList.remove("resizing"),this.element.draggable=!0,(s=this.resizeHandle)==null||s.classList.remove("active"),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n);const i=this.element.classList.contains("span-4")?4:this.element.classList.contains("span-3")?3:this.element.classList.contains("span-2")?2:1;ss(this.panelId,i),Yn(this.panelId,i)};this.resizeHandle.addEventListener("mousedown",a),this.element.addEventListener("dragstart",i=>{const s=i.target;if(this.isResizing||s===this.resizeHandle||s instanceof Element&&s.closest(".panel-resize-handle"))return i.preventDefault(),i.stopImmediatePropagation(),!1},!0),this.resizeHandle.addEventListener("mousedown",()=>{this.element.dataset.resizing="true"}),this.resizeHandle.addEventListener("dblclick",()=>{this.resetHeight()}),this.resizeHandle.addEventListener("touchstart",i=>{var r;i.preventDefault(),i.stopPropagation();const s=i.touches[0];s&&(this.isResizing=!0,this.startY=s.clientY,this.startHeight=this.element.getBoundingClientRect().height,this.element.classList.add("resizing"),this.element.draggable=!1,this.element.dataset.resizing="true",(r=this.resizeHandle)==null||r.classList.add("active"))},{passive:!1}),this.onTouchMove=i=>{if(!this.isResizing)return;const s=i.touches[0];if(!s)return;const r=s.clientY-this.startY,o=Math.max(200,this.startHeight+r),c=rs(o);Ma(this.element,c)},this.onTouchEnd=()=>{var s;if(!this.isResizing)return;this.isResizing=!1,this.element.classList.remove("resizing"),this.element.draggable=!0,delete this.element.dataset.resizing,(s=this.resizeHandle)==null||s.classList.remove("active");const i=this.element.classList.contains("span-4")?4:this.element.classList.contains("span-3")?3:this.element.classList.contains("span-2")?2:1;ss(this.panelId,i),Yn(this.panelId,i)},this.onDocMouseUp=()=>{this.element.dataset.resizing&&delete this.element.dataset.resizing},document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEnd),document.addEventListener("mouseup",this.onDocMouseUp)}setDataBadge(a,e){if(!this.statusBadgeEl)return;const n={live:u("common.live"),cached:u("common.cached"),unavailable:u("common.unavailable")};this.statusBadgeEl.textContent=e?`${n[a]} · ${e}`:n[a],this.statusBadgeEl.className=`panel-data-badge ${a}`,this.statusBadgeEl.style.display="inline-flex"}clearDataBadge(){this.statusBadgeEl&&(this.statusBadgeEl.style.display="none")}getElement(){return this.element}showLoading(a=u("common.loading")){U(this.content,S("div",{className:"panel-loading"},S("div",{className:"panel-loading-radar"},S("div",{className:"panel-radar-sweep"}),S("div",{className:"panel-radar-dot"})),S("div",{className:"panel-loading-text"},a)))}showError(a=u("common.failedToLoad")){U(this.content,S("div",{className:"error-message"},a))}showRetrying(a=u("common.retrying")){U(this.content,S("div",{className:"panel-loading"},S("div",{className:"panel-loading-radar"},S("div",{className:"panel-radar-sweep"}),S("div",{className:"panel-radar-dot"})),S("div",{className:"panel-loading-text"},a)))}showConfigError(a){const e=S("div",{className:"config-error-message"},a);R()&&e.appendChild(S("button",{type:"button",className:"config-error-settings-btn",onClick:()=>void Z("open_settings_window_command").catch(()=>{})},u("components.panel.openSettings"))),U(this.content,e)}setCount(a){this.countEl&&(this.countEl.textContent=a.toString())}setErrorState(a,e){this.header.classList.toggle("panel-header-error",a),e?this.header.title=e:this.header.removeAttribute("title")}setContent(a){this.pendingContentHtml===a||this.content.innerHTML===a||(this.pendingContentHtml=a,this.contentDebounceTimer&&clearTimeout(this.contentDebounceTimer),this.contentDebounceTimer=setTimeout(()=>{this.pendingContentHtml!==null&&this.setContentImmediate(this.pendingContentHtml)},this.contentDebounceMs))}setContentImmediate(a){this.contentDebounceTimer&&(clearTimeout(this.contentDebounceTimer),this.contentDebounceTimer=null),this.pendingContentHtml=null,this.content.innerHTML!==a&&(this.content.innerHTML=a)}show(){this.element.classList.remove("hidden")}hide(){this.element.classList.add("hidden")}toggle(a){a?this.show():this.hide()}setNewBadge(a,e=!1){if(this.newBadgeEl){if(a<=0){this.newBadgeEl.style.display="none",this.newBadgeEl.classList.remove("pulse"),this.element.classList.remove("has-new");return}this.newBadgeEl.textContent=a>99?"99+":`${a} ${u("common.new")}`,this.newBadgeEl.style.display="inline-flex",this.element.classList.add("has-new"),e?this.newBadgeEl.classList.add("pulse"):this.newBadgeEl.classList.remove("pulse")}}clearNewBadge(){this.setNewBadge(0)}getId(){return this.panelId}resetHeight(){this.element.classList.remove("resized","span-1","span-2","span-3","span-4");const a=ln();delete a[this.panelId],localStorage.setItem(Dn,JSON.stringify(a))}get signal(){return this.abortController.signal}isAbortError(a){return a instanceof DOMException&&a.name==="AbortError"}destroy(){this.abortController.abort(),this.contentDebounceTimer&&(clearTimeout(this.contentDebounceTimer),this.contentDebounceTimer=null),this.pendingContentHtml=null,this.tooltipCloseHandler&&(document.removeEventListener("click",this.tooltipCloseHandler),this.tooltipCloseHandler=null),this.onTouchMove&&(document.removeEventListener("touchmove",this.onTouchMove),this.onTouchMove=null),this.onTouchEnd&&(document.removeEventListener("touchend",this.onTouchEnd),this.onTouchEnd=null),this.onDocMouseUp&&(document.removeEventListener("mouseup",this.onDocMouseUp),this.onDocMouseUp=null)}}class Ww extends P{constructor(){super({id:"satellite-fires",title:u("panels.satelliteFires"),showCount:!0,trackActivity:!0,infoTooltip:u("components.satelliteFires.infoTooltip")});h(this,"stats",[]);h(this,"totalCount",0);h(this,"lastUpdated",null);this.showLoading(u("common.scanningThermalData"))}update(e,n){const i=this.totalCount;this.stats=e,this.totalCount=n,this.lastUpdated=new Date,this.setCount(n),i>0&&n>i&&this.setNewBadge(n-i),this.render()}render(){if(this.stats.length===0){this.setContent(`<div class="panel-empty">${u("common.noDataAvailable")}</div>`);return}const e=this.stats.map(r=>{const o=r.totalFrp>=1e3?`${(r.totalFrp/1e3).toFixed(1)}k`:Math.round(r.totalFrp).toLocaleString();return`<tr class="fire-row${r.highIntensityCount>0?" fires-high":""}">
        <td class="fire-region">${rf(r.region)}</td>
        <td class="fire-count">${r.fireCount}</td>
        <td class="fire-hi">${r.highIntensityCount}</td>
        <td class="fire-frp">${o}</td>
      </tr>`}).join(""),n=this.stats.reduce((r,o)=>r+o.totalFrp,0),i=this.stats.reduce((r,o)=>r+o.highIntensityCount,0),s=this.lastUpdated?of(this.lastUpdated):u("components.satelliteFires.never");this.setContent(`
      <div class="fires-panel-content">
        <table class="fires-table">
          <thead>
            <tr>
              <th>${u("components.satelliteFires.region")}</th>
              <th>${u("components.satelliteFires.fires")}</th>
              <th>${u("components.satelliteFires.high")}</th>
              <th>FRP</th>
            </tr>
          </thead>
          <tbody>${e}</tbody>
          <tfoot>
            <tr class="fire-totals">
              <td>${u("components.satelliteFires.total")}</td>
              <td>${this.totalCount}</td>
              <td>${i}</td>
              <td>${n>=1e3?`${(n/1e3).toFixed(1)}k`:Math.round(n).toLocaleString()}</td>
            </tr>
          </tfoot>
        </table>
        <div class="fires-footer">
          <span class="fires-source">NASA FIRMS (VIIRS SNPP)</span>
          <span class="fires-updated">${s}</span>
        </div>
      </div>
    `)}}function rf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function of(t){const a=Math.floor((Date.now()-t.getTime())/1e3);if(a<60)return u("components.satelliteFires.time.justNow");const e=Math.floor(a/60);if(e<60)return u("components.satelliteFires.time.minutesAgo",{count:String(e)});const n=Math.floor(e/60);return u("components.satelliteFires.time.hoursAgo",{count:String(n)})}const cf=[{id:"persian-gulf",name:"Persian Gulf",lat:26.5,lon:52,radiusKm:600},{id:"strait-hormuz",name:"Strait of Hormuz",lat:26.5,lon:56.5,radiusKm:300},{id:"iran-border",name:"Iran Border Region",lat:33,lon:47,radiusKm:400},{id:"baltics",name:"Baltic Region",lat:56,lon:24,radiusKm:400},{id:"poland-border",name:"Poland-Belarus Border",lat:52.5,lon:23.5,radiusKm:300},{id:"black-sea",name:"Black Sea",lat:43.5,lon:34,radiusKm:500},{id:"kaliningrad",name:"Kaliningrad Region",lat:54.7,lon:20.5,radiusKm:250},{id:"taiwan-strait",name:"Taiwan Strait",lat:24.5,lon:119.5,radiusKm:400},{id:"south-china-sea",name:"South China Sea",lat:14,lon:114,radiusKm:800},{id:"korean-dmz",name:"Korean DMZ",lat:38,lon:127,radiusKm:300},{id:"japan-sea",name:"Sea of Japan",lat:40,lon:135,radiusKm:500},{id:"alaska-adiz",name:"Alaska ADIZ",lat:62,lon:-165,radiusKm:600},{id:"arctic-russia",name:"Arctic (Russian Side)",lat:72,lon:70,radiusKm:800},{id:"east-med",name:"Eastern Mediterranean",lat:34.5,lon:33,radiusKm:500},{id:"libya-coast",name:"Libya Coast",lat:32.5,lon:15,radiusKm:400},{id:"horn-africa",name:"Horn of Africa",lat:10,lon:45,radiusKm:600},{id:"sahel",name:"Sahel Region",lat:15,lon:5,radiusKm:800},{id:"venezuela",name:"Venezuela",lat:8,lon:-66,radiusKm:500}],On=[{operator:"usaf",country:"USA",homeRegions:["alaska-adiz"],alertThreshold:2},{operator:"usn",country:"USA",homeRegions:["alaska-adiz"],alertThreshold:2},{operator:"usmc",country:"USA",homeRegions:["alaska-adiz"],alertThreshold:2},{operator:"usa",country:"USA",homeRegions:["alaska-adiz"],alertThreshold:2},{operator:"vks",country:"Russia",homeRegions:["kaliningrad","arctic-russia","black-sea"],alertThreshold:2},{operator:"plaaf",country:"China",homeRegions:["taiwan-strait","south-china-sea"],alertThreshold:2},{operator:"plan",country:"China",homeRegions:["taiwan-strait","south-china-sea"],alertThreshold:2},{operator:"iaf",country:"Israel",homeRegions:["east-med","iran-border"],alertThreshold:2},{operator:"raf",country:"UK",homeRegions:["baltics","black-sea"],alertThreshold:3},{operator:"faf",country:"France",homeRegions:["sahel","east-med","libya-coast"],alertThreshold:3},{operator:"gaf",country:"Germany",homeRegions:["baltics"],alertThreshold:3}],lf=new Map,os=new Set,Fn=[{id:"middle-east",name:"Middle East / Persian Gulf",baseIds:["al_udeid","ali_al_salem_air_base","camp_arifjan","camp_buehring","kuwait_naval_base","naval_support_activity_bahrain","isa_air_base","masirah_aira_base","rafo_thumrait","al_dhafra_air_base","port_of_jebel_ali","fujairah_naval_base","prince_sultan_air_base","ain_assad_air_base","camp_victory","naval_support_facility_diego_garcia"],centerLat:27,centerLon:50},{id:"europe-east",name:"Eastern Europe",baseIds:["camp_bondsteel","aitos_logistics_center","bezmer","graf_ignatievo"],centerLat:45,centerLon:25},{id:"europe-west",name:"Western Europe",baseIds:["ramstein","spangdahlem","usag_stuttgart","raf_lakenheath","raf_mildenhall","aviano"],centerLat:50,centerLon:8},{id:"pacific-west",name:"Western Pacific",baseIds:["kadena_air_base","camp_fuji","fleet_activities_okinawa","yokota","misawsa","osan_air_base","kunsan_ab","us_army_garrison_humphreys","andersen_air_force_base"],centerLat:30,centerLon:130},{id:"africa-horn",name:"Horn of Africa",baseIds:["camp_lemonnier","contingency_location_garoua","niger_air_base_201"],centerLat:10,centerLon:40}],cs=2,uf=48,df=6,pf=[/^RCH/i,/^REACH/i,/^MOOSE/i,/^HERKY/i,/^EVAC/i,/^DUSTOFF/i],mf=150,Me=new Map,He=new Map;let ls=Date.now();const hf=3600*1e3,yf=72;function gf(t){for(const a of Fn)if(a.baseIds.includes(t))return a;return null}function _n(t,a,e,n){const s=(e-t)*Math.PI/180,r=(n-a)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(r/2)**2;return 6371*2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function po(t,a){const e=[];for(const n of Pa){const i=_n(t,a,n.lat,n.lon);i<=mf&&e.push({baseId:n.id,baseName:n.name,distance:i})}return e.sort((n,i)=>n.distance-i.distance)}function ff(t){if(t.aircraftType==="transport"||t.aircraftType==="tanker")return!0;const a=t.callsign.toUpperCase();return pf.some(e=>e.test(a))}function Sf(t){return ff(t)?"transport":t.aircraftType==="fighter"?"fighter":t.aircraftType==="reconnaissance"||t.aircraftType==="awacs"?"recon":"other"}function vf(t){const a=po(t.lat,t.lon);for(const{baseId:e}of a){const n=gf(e);if(n)return n}for(const e of Fn)if(_n(t.lat,t.lon,e.centerLat,e.centerLon)<1500)return e;return null}function wf(t){const a=Me.get(t)||[],e=Date.now()-uf*60*60*1e3,n=a.filter(o=>o.timestamp>=e);if(n.length<df)return{transport:3,fighter:2,recon:1};const i=n.reduce((o,c)=>o+c.transportCount,0)/n.length,s=n.reduce((o,c)=>o+c.fighterCount,0)/n.length,r=n.reduce((o,c)=>o+c.reconCount,0)/n.length;return{transport:Math.max(2,i),fighter:Math.max(1,s),recon:Math.max(1,r)}}function bf(){const t=Date.now();if(t-ls<hf)return;ls=t;const a=t-yf*60*60*1e3;for(const[e,n]of Me){const i=n.filter(s=>s.timestamp>=a);i.length===0?Me.delete(e):Me.set(e,i)}for(const[e,n]of He)t-n.lastUpdated.getTime()>7200*1e3&&He.delete(e)}function Kw(t){bf();const a=new Map;for(const i of t){const s=vf(i);if(!s)continue;const r=a.get(s.id)||[];r.push(i),a.set(s.id,r)}const e=Date.now(),n=[];for(const[i,s]of a){const r=Fn.find(v=>v.id===i);if(!r)continue;let o=0,c=0,l=0;const d=new Map,m=new Set;for(const v of s){const b=Sf(v);b==="transport"?o++:b==="fighter"?c++:b==="recon"&&l++;const C=v.aircraftModel||v.aircraftType||"unknown";d.set(C,(d.get(C)||0)+1);const A=po(v.lat,v.lon);for(const{baseName:k}of A.slice(0,3))m.add(k)}const y={theaterId:i,timestamp:e,transportCount:o,fighterCount:c,reconCount:l,totalMilitary:s.length,flightIds:s.map(v=>v.id)},f=Me.get(i)||[];f.push(y),f.length>200&&f.shift(),Me.set(i,f);const g=wf(i);if(o>=g.transport*cs&&o>=5){const v=`airlift-${i}`,b=o/g.transport,C=He.get(v);if(C)C.currentCount=o,C.surgeMultiple=b,C.aircraftTypes=d,C.nearbyBases=Array.from(m),C.lastUpdated=new Date;else{const A={id:v,theater:r,type:"airlift",currentCount:o,baselineCount:Math.round(g.transport),surgeMultiple:b,aircraftTypes:d,nearbyBases:Array.from(m),firstDetected:new Date,lastUpdated:new Date};He.set(v,A),n.push(A)}}if(c>=g.fighter*cs&&c>=4){const v=`fighter-${i}`,b=c/g.fighter;if(!He.has(v)){const C={id:v,theater:r,type:"fighter",currentCount:c,baselineCount:Math.round(g.fighter),surgeMultiple:b,aircraftTypes:d,nearbyBases:Array.from(m),firstDetected:new Date,lastUpdated:new Date};He.set(v,C),n.push(C)}}}return n}function Af(t,a){for(const e of cf)if(_n(t,a,e.lat,e.lon)<=e.radiusKm)return e;return null}function Cf(t,a){const e=On.find(n=>n.operator===t);return e?e.homeRegions.includes(a):!0}function kf(t){const a=On.find(e=>e.operator===t);return(a==null?void 0:a.alertThreshold)??3}function If(t){const a=On.find(e=>e.operator===t);return(a==null?void 0:a.country)??"Unknown"}function jw(t){const a=[],e=new Map;for(const n of t){const i=Af(n.lat,n.lon);if(!i||Cf(n.operator,i.id))continue;const s=`${n.operator}-${i.id}`,r=e.get(s);r?r.flights.push(n):e.set(s,{operator:n.operator,region:i,flights:[n]})}for(const[n,i]of e){const s=kf(i.operator);if(i.flights.length<s)continue;const r=`${n}-${Math.floor(Date.now()/(7200*1e3))}`;if(os.has(r))continue;os.add(r);const o={id:n,operator:i.operator,operatorCountry:If(i.operator),region:i.region,aircraftCount:i.flights.length,flights:i.flights,firstDetected:new Date};lf.set(n,o),a.push(o)}return a}const Tf={USA:"US",Russia:"RU",China:"CN",Israel:"IL",Iran:"IR",UK:"GB",France:"FR",Germany:"DE",Taiwan:"TW",Ukraine:"UA","Saudi Arabia":"SA"},Ef={"persian-gulf":["IR","SA"],"strait-hormuz":["IR"],"iran-border":["IR","IL"],baltics:["RU","UA"],"poland-border":["RU","UA"],"black-sea":["RU","UA"],"taiwan-strait":["TW","CN"],"south-china-sea":["CN","TW"],"east-med":["IL","IR"],"alaska-adiz":["RU"]};function qw(t){const a=new Map,e=[];for(const v of t.flights){const b=v.aircraftModel||v.aircraftType||"unknown";a.set(b,(a.get(b)||0)+1),e.push(v.callsign)}const n=Array.from(a.entries()).sort((v,b)=>b[1]-v[1]).slice(0,3).map(([v,b])=>`${b}x ${v}`).join(", "),r=[["vks","baltics"],["vks","poland-border"],["vks","alaska-adiz"],["plaaf","taiwan-strait"],["plan","taiwan-strait"],["usaf","iran-border"],["usn","persian-gulf"],["iaf","iran-border"]].some(([v,b])=>t.operator===v&&t.region.id===b)?"critical":t.aircraftCount>=5?"high":"medium",o=Math.min(.95,.7+t.aircraftCount*.05),c=[],l=Tf[t.operatorCountry];l&&c.push(l);const d=Ef[t.region.id]||[];for(const v of d)c.includes(v)||c.push(v);const m=We.getNewsCorrelationContext(c);let y=`${t.aircraftCount} ${t.operatorCountry} aircraft detected in ${t.region.name}. ${n}. Callsigns: ${e.slice(0,4).join(", ")}${e.length>4?"...":""}`;const f=[];for(const v of c){const b=We.getFocalPointForCountry(v);b&&b.newsMentions>0&&f.push(`${b.displayName}: ${b.newsMentions} news mentions (${b.urgency})`)}const g={operator:t.operator,operatorCountry:t.operatorCountry,regionId:t.region.id,regionName:t.region.name,lat:t.region.lat,lon:t.region.lon,aircraftCount:t.aircraftCount,aircraftTypes:Object.fromEntries(a),callsigns:e,relevantCountries:c,newsCorrelation:m,focalPointContext:f.length>0?f:null};return{id:`foreign-${t.id}-${t.firstDetected.getTime()}`,type:"military_surge",source:"Military Flight Tracking",title:`🚨 ${t.operatorCountry} Military in ${t.region.name}`,description:y,severity:r,confidence:o,category:"military",timestamp:t.firstDetected,location:{lat:t.region.lat,lon:t.region.lon,name:t.region.name},data:g,metadata:g}}function Yw(t){const a={airlift:"🛫 Military Airlift Surge",fighter:"✈️ Fighter Deployment Surge",reconnaissance:"🔭 Reconnaissance Surge"},e=Array.from(t.aircraftTypes.entries()).sort((r,o)=>o[1]-r[1]).slice(0,3).map(([r,o])=>`${o}x ${r}`).join(", "),n=t.surgeMultiple>=4?"critical":t.surgeMultiple>=3?"high":"medium",i=Math.min(.95,.6+(t.surgeMultiple-2)*.1),s={theaterId:t.theater.id,surgeType:t.type,currentCount:t.currentCount,baselineCount:t.baselineCount,surgeMultiple:t.surgeMultiple,aircraftTypes:Object.fromEntries(t.aircraftTypes),nearbyBases:t.nearbyBases};return{id:`surge-${t.id}-${t.firstDetected.getTime()}`,type:"military_surge",source:"Military Flight Tracking",title:`${a[t.type]} - ${t.theater.name}`,description:`${t.currentCount} ${t.type} aircraft detected (${t.surgeMultiple.toFixed(1)}x baseline). ${e}. Near: ${t.nearbyBases.slice(0,3).join(", ")}`,severity:n,confidence:i,category:"military",timestamp:t.firstDetected,location:{lat:t.theater.centerLat,lon:t.theater.centerLon,name:t.theater.name},data:s,metadata:s}}const mo=[{id:"iran-theater",name:"Iran Theater",shortName:"IRAN",targetNation:"Iran",regions:["persian-gulf","strait-hormuz","iran-border"],bounds:{north:42,south:20,east:65,west:30},thresholds:{elevated:8,critical:20},navalThresholds:{elevated:2,critical:5},strikeIndicators:{minTankers:2,minAwacs:1,minFighters:5}},{id:"taiwan-theater",name:"Taiwan Strait",shortName:"TAIWAN",targetNation:"Taiwan",regions:["taiwan-strait","south-china-sea"],bounds:{north:30,south:18,east:130,west:115},thresholds:{elevated:6,critical:15},navalThresholds:{elevated:4,critical:10},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:4}},{id:"baltic-theater",name:"Baltic Theater",shortName:"BALTIC",targetNation:null,regions:["baltics","poland-border","kaliningrad"],bounds:{north:65,south:52,east:32,west:10},thresholds:{elevated:5,critical:12},navalThresholds:{elevated:3,critical:8},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}},{id:"blacksea-theater",name:"Black Sea",shortName:"BLACK SEA",targetNation:null,regions:["black-sea"],bounds:{north:48,south:40,east:42,west:26},thresholds:{elevated:4,critical:10},navalThresholds:{elevated:3,critical:6},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}},{id:"korea-theater",name:"Korean Peninsula",shortName:"KOREA",targetNation:"North Korea",regions:["korean-dmz","sea-of-japan"],bounds:{north:43,south:33,east:132,west:124},thresholds:{elevated:5,critical:12},navalThresholds:{elevated:3,critical:8},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}},{id:"south-china-sea",name:"South China Sea",shortName:"SCS",targetNation:null,regions:["south-china-sea","spratly-islands"],bounds:{north:25,south:5,east:121,west:105},thresholds:{elevated:6,critical:15},navalThresholds:{elevated:4,critical:10},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:4}},{id:"east-med-theater",name:"Eastern Mediterranean",shortName:"E.MED",targetNation:null,regions:["eastern-med","levant"],bounds:{north:37,south:33,east:37,west:25},thresholds:{elevated:4,critical:10},navalThresholds:{elevated:3,critical:6},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}},{id:"israel-gaza-theater",name:"Israel/Gaza",shortName:"GAZA",targetNation:"Gaza",regions:["israel","gaza","west-bank"],bounds:{north:33,south:29,east:36,west:33},thresholds:{elevated:3,critical:8},navalThresholds:{elevated:2,critical:5},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}},{id:"yemen-redsea-theater",name:"Yemen/Red Sea",shortName:"RED SEA",targetNation:"Yemen",regions:["yemen","red-sea","bab-el-mandeb"],bounds:{north:22,south:11,east:54,west:32},thresholds:{elevated:4,critical:10},navalThresholds:{elevated:3,critical:8},strikeIndicators:{minTankers:1,minAwacs:1,minFighters:3}}];function Mf(t){const a=[];for(const e of mo){const n=t.filter(k=>k.lat>=e.bounds.south&&k.lat<=e.bounds.north&&k.lon>=e.bounds.west&&k.lon<=e.bounds.east),i={fighters:n.filter(k=>k.aircraftType==="fighter").length,tankers:n.filter(k=>k.aircraftType==="tanker").length,awacs:n.filter(k=>k.aircraftType==="awacs").length,reconnaissance:n.filter(k=>k.aircraftType==="reconnaissance").length,transport:n.filter(k=>k.aircraftType==="transport").length,bombers:n.filter(k=>k.aircraftType==="bomber").length,drones:n.filter(k=>k.aircraftType==="drone").length},s=Object.values(i).reduce((k,I)=>k+I,0),r={};for(const k of n)r[k.operator]=(r[k.operator]||0)+1;const o=s>=e.thresholds.critical?"critical":s>=e.thresholds.elevated?"elevated":"normal",c=i.tankers>=e.strikeIndicators.minTankers&&i.awacs>=e.strikeIndicators.minAwacs&&i.fighters>=e.strikeIndicators.minFighters,l=Me.get(e.id)||[],d=l.slice(-6),m=l.slice(-12,-6),y=d.length>0?d.reduce((k,I)=>k+I.totalMilitary,0)/d.length:s,f=m.length>0?m.reduce((k,I)=>k+I.totalMilitary,0)/m.length:s,g=f>0?Math.round((y-f)/f*100):0,v=g>10?"increasing":g<-10?"decreasing":"stable",b=[];i.fighters>0&&b.push(`${i.fighters} fighters`),i.tankers>0&&b.push(`${i.tankers} tankers`),i.awacs>0&&b.push(`${i.awacs} AWACS`),i.reconnaissance>0&&b.push(`${i.reconnaissance} recon`);const C=b.join(", ")||"No military aircraft",A=o==="critical"?`Critical military buildup - ${e.name}`:o==="elevated"?`Elevated military activity - ${e.name}`:`Normal activity - ${e.name}`;a.push({theaterId:e.id,theaterName:e.name,shortName:e.shortName,targetNation:e.targetNation,fighters:i.fighters,tankers:i.tankers,awacs:i.awacs,reconnaissance:i.reconnaissance,transport:i.transport,bombers:i.bombers,drones:i.drones,totalAircraft:s,destroyers:0,frigates:0,carriers:0,submarines:0,patrol:0,auxiliaryVessels:0,totalVessels:0,byOperator:r,postureLevel:o,strikeCapable:c,trend:v,changePercent:g,summary:C,headline:A,centerLat:(e.bounds.north+e.bounds.south)/2,centerLon:(e.bounds.east+e.bounds.west)/2,bounds:e.bounds})}return a}const Nf={Iran:"IR",Taiwan:"TW","North Korea":"KP",Gaza:"PS",Yemen:"YE"};function Na(t){for(const a of t){const e=mo.find(l=>l.id===a.theaterId);if(!e)continue;const n=a.totalAircraft>=e.thresholds.critical?2:a.totalAircraft>=e.thresholds.elevated?1:0,i=a.totalVessels>=e.navalThresholds.critical?2:a.totalVessels>=e.navalThresholds.elevated?1:0;let s=0;if(e.targetNation){const l=Nf[e.targetNation];if(l){const d=Vy(l);d!==null&&(s=d>=85?2:d>=70?1:0)}}const r=Math.max(n,i,s);a.postureLevel=r===2?"critical":r===1?"elevated":"normal";const o=[];a.totalAircraft>0&&o.push(`${a.totalAircraft} aircraft`),a.totalVessels>0&&o.push(`${a.totalVessels} vessels`);const c=o.join(" + ")||"No assets";a.headline=a.postureLevel==="critical"?`Critical military buildup - ${a.theaterName} (${c})`:a.postureLevel==="elevated"?`Elevated military activity - ${a.theaterName} (${c})`:`Normal activity - ${a.theaterName}`}}const Rf=new Or("",{fetch:fetch.bind(globalThis)});M({name:"WorldPop Countries"});async function Pf(t,a,e){try{const n=await Rf.getPopulationExposure({mode:"exposure",lat:t,lon:a,radius:e});return n.exposure?n.exposure:null}catch{return null}}function Uf(t){switch(t){case"conflict":case"battle":case"state-based":case"non-state":case"one-sided":return 50;case"earthquake":return 100;case"flood":return 100;case"fire":case"wildfire":return 30;default:return 50}}async function Jw(t){const e=[];for(let n=0;n<t.length;n+=10){const i=t.slice(n,n+10),s=await Promise.allSettled(i.map(async r=>{const o=Uf(r.type),c=await Pf(r.lat,r.lon,o);return c?{eventId:r.id,eventName:r.name,eventType:r.type,lat:r.lat,lon:r.lon,exposedPopulation:c.exposedPopulation,exposureRadiusKm:o}:null}));for(const r of s)r.status==="fulfilled"&&r.value&&e.push(r.value)}return e.sort((n,i)=>i.exposedPopulation-n.exposedPopulation)}function us(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:String(t)}const Lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function w(t){return t?String(t).replace(/[&<>"']/g,a=>Lf[a]||a):""}function Re(t){if(!t)return"";const a=String(t).trim();if(!a)return"";const e=n=>n==="http:"||n==="https:";try{const n=new URL(a);if(e(n.protocol))return ds(n.toString())}catch{}if(!/^(\/|\.\/|\.\.\/|\?|#)/.test(a))return"";try{const n=typeof window<"u"?window.location.origin:"https://example.com",i=new URL(a,n);return e(i.protocol)?ds(a):""}catch{return""}}function ds(t){return w(t)}class Df{constructor(a,e,n){h(this,"container");h(this,"chunkSize");h(this,"bufferChunks");h(this,"items",[]);h(this,"renderItem");h(this,"onRendered");h(this,"renderedChunks",new Set);h(this,"chunkElements",new Map);h(this,"scrollRAF",null);h(this,"handleScroll",()=>{this.scrollRAF===null&&(this.scrollRAF=requestAnimationFrame(()=>{this.scrollRAF=null,this.updateVisibleChunks()}))});this.container=a.container,this.chunkSize=a.chunkSize??10,this.bufferChunks=a.bufferChunks??1,this.renderItem=e,this.onRendered=n,this.container.classList.add("windowed-list"),this.container.addEventListener("scroll",this.handleScroll,{passive:!0})}setItems(a){this.items=a,this.renderedChunks.clear();for(const n of this.chunkElements.values())n.remove();if(this.chunkElements.clear(),this.container.innerHTML="",a.length===0)return;const e=Math.ceil(a.length/this.chunkSize);for(let n=0;n<e;n++){const i=document.createElement("div");i.className="windowed-chunk",i.dataset.chunk=String(n),this.container.appendChild(i),this.chunkElements.set(n,i)}this.updateVisibleChunks()}refresh(){var e;const a=this.getVisibleChunks();for(const n of a)this.renderChunk(n);(e=this.onRendered)==null||e.call(this)}getVisibleChunks(){const a=this.container.scrollTop,e=this.container.clientHeight,n=[];for(const[i,s]of this.chunkElements){const r=s.getBoundingClientRect(),o=this.container.getBoundingClientRect(),c=r.top-o.top+a,l=c+r.height,d=e*this.bufferChunks;l>=a-d&&c<=a+e+d&&n.push(i)}return n}updateVisibleChunks(){var n;const a=this.getVisibleChunks();let e=!1;for(const i of a)this.renderedChunks.has(i)||(this.renderChunk(i),e=!0);e&&((n=this.onRendered)==null||n.call(this))}renderChunk(a){const e=this.chunkElements.get(a);if(!e)return;const n=a*this.chunkSize,i=Math.min(n+this.chunkSize,this.items.length),r=this.items.slice(n,i).map((o,c)=>this.renderItem(o,n+c)).join("");e.innerHTML=r,e.classList.add("rendered"),this.renderedChunks.add(a)}destroy(){this.scrollRAF!==null&&(cancelAnimationFrame(this.scrollRAF),this.scrollRAF=null),this.container.removeEventListener("scroll",this.handleScroll),this.chunkElements.clear(),this.renderedChunks.clear(),this.items=[]}}const Of=[{id:"military",name:"Military Activity",query:'(military exercise OR troop deployment OR airstrike OR "naval exercise") sourcelang:eng',icon:"⚔️",description:"Military exercises, deployments, and operations"},{id:"cyber",name:"Cyber Threats",query:'(cyberattack OR ransomware OR hacking OR "data breach" OR APT) sourcelang:eng',icon:"🔓",description:"Cyber attacks, ransomware, and digital threats"},{id:"nuclear",name:"Nuclear",query:'(nuclear OR uranium enrichment OR IAEA OR "nuclear weapon" OR plutonium) sourcelang:eng',icon:"☢️",description:"Nuclear programs, IAEA inspections, proliferation"},{id:"sanctions",name:"Sanctions",query:'(sanctions OR embargo OR "trade war" OR tariff OR "economic pressure") sourcelang:eng',icon:"🚫",description:"Economic sanctions and trade restrictions"},{id:"intelligence",name:"Intelligence",query:"(espionage OR spy OR intelligence agency OR covert OR surveillance) sourcelang:eng",icon:"🕵️",description:"Espionage, intelligence operations, surveillance"},{id:"maritime",name:"Maritime Security",query:'(naval blockade OR piracy OR "strait of hormuz" OR "south china sea" OR warship) sourcelang:eng',icon:"🚢",description:"Naval operations, maritime chokepoints, sea lanes"}];function ps(){return Of.map(t=>({...t,name:u(`intel.topics.${t.id}.name`),description:u(`intel.topics.${t.id}.description`)}))}const Ff=new ua("",{fetch:fetch.bind(globalThis)}),_f=M({name:"GDELT Intelligence"}),Bf={articles:[],query:"",error:""},xf=300*1e3,ms=new Map;function Hf(t){return{title:t.title,url:t.url,source:t.source,date:t.date,image:t.image||void 0,language:t.language||void 0,tone:t.tone||void 0}}async function ho(t,a=10,e="24h"){const n=`${t}:${a}:${e}`,i=ms.get(n);if(i&&Date.now()-i.timestamp<xf)return i.articles;const s=await _f.execute(async()=>Ff.searchGdeltDocuments({query:t,maxRecords:a,timespan:e}),Bf);if(s.error)return console.warn(`[GDELT-Intel] RPC error: ${s.error}`),(i==null?void 0:i.articles)||[];const r=(s.articles||[]).map(Hf);return ms.set(n,{articles:r,timestamp:Date.now()}),r}async function Xw(t){const a=t.keywords.slice(0,5).join(" OR ");return ho(a,8,"48h")}async function $f(t){const a=await ho(t.query,10,"24h");return{topic:t,articles:a,fetchedAt:new Date}}function Gf(t){if(!t)return"";try{const a=t.slice(0,4),e=t.slice(4,6),n=t.slice(6,8),i=t.slice(9,11),s=t.slice(11,13),r=t.slice(13,15),o=new Date(`${a}-${e}-${n}T${i}:${s}:${r}Z`);if(isNaN(o.getTime()))return"";const l=Date.now()-o.getTime();return l<0?"just now":l<36e5?`${Math.floor(l/6e4)}m ago`:l<864e5?`${Math.floor(l/36e5)}h ago`:`${Math.floor(l/864e5)}d ago`}catch{return""}}function Vf(t){try{return new URL(t).hostname.replace("www.","")}catch{return""}}const zf=15,Wf=600*1e3;class Qw extends P{constructor(e,n){super({id:e,title:n,showCount:!0,trackActivity:!0});h(this,"clusteredMode",!0);h(this,"deviationEl",null);h(this,"relatedAssetContext",new Map);h(this,"onRelatedAssetClick");h(this,"onRelatedAssetsFocus");h(this,"onRelatedAssetsClear");h(this,"isFirstRender",!0);h(this,"windowedList",null);h(this,"useVirtualScroll",!0);h(this,"renderRequestId",0);h(this,"boundScrollHandler",null);h(this,"boundClickHandler",null);h(this,"summaryBtn",null);h(this,"summaryContainer",null);h(this,"currentHeadlines",[]);h(this,"isSummarizing",!1);this.createDeviationIndicator(),this.createSummarizeButton(),this.setupActivityTracking(),this.initWindowedList()}initWindowedList(){this.windowedList=new Df({container:this.content,chunkSize:8,bufferChunks:1},e=>this.renderClusterHtmlSafely(e.cluster,e.isNew,e.shouldHighlight,e.showNewTag),()=>this.bindRelatedAssetEvents())}setupActivityTracking(){te.register(this.panelId),te.onChange(this.panelId,e=>{this.setNewBadge(e,e>0)}),this.boundScrollHandler=()=>{te.markAsSeen(this.panelId)},this.content.addEventListener("scroll",this.boundScrollHandler),this.boundClickHandler=()=>{te.markAsSeen(this.panelId)},this.element.addEventListener("click",this.boundClickHandler)}setRelatedAssetHandlers(e){this.onRelatedAssetClick=e.onRelatedAssetClick,this.onRelatedAssetsFocus=e.onRelatedAssetsFocus,this.onRelatedAssetsClear=e.onRelatedAssetsClear}createDeviationIndicator(){const e=this.getElement().querySelector(".panel-header-left");e&&(this.deviationEl=document.createElement("span"),this.deviationEl.className="deviation-indicator",e.appendChild(this.deviationEl))}createSummarizeButton(){this.summaryContainer=document.createElement("div"),this.summaryContainer.className="panel-summary",this.summaryContainer.style.display="none",this.element.insertBefore(this.summaryContainer,this.content),this.summaryBtn=document.createElement("button"),this.summaryBtn.className="panel-summarize-btn",this.summaryBtn.innerHTML="✨",this.summaryBtn.title=u("components.newsPanel.summarize"),this.summaryBtn.addEventListener("click",()=>this.handleSummarize());const e=this.header.querySelector(".panel-count");e?this.header.insertBefore(this.summaryBtn,e):this.header.appendChild(this.summaryBtn)}async handleSummarize(){if(this.isSummarizing||!this.summaryContainer||!this.summaryBtn||this.currentHeadlines.length===0)return;const e=J(),n=`panel_summary_v3_${L}_${this.panelId}_${e}`,i=this.getCachedSummary(n);if(i){this.showSummary(i);return}this.isSummarizing=!0,this.summaryBtn.innerHTML='<span class="panel-summarize-spinner"></span>',this.summaryBtn.disabled=!0,this.summaryContainer.style.display="block",this.summaryContainer.innerHTML=`<div class="panel-summary-loading">${u("components.newsPanel.generatingSummary")}</div>`;try{const s=await wn(this.currentHeadlines.slice(0,8),void 0,void 0,e);s!=null&&s.summary?(this.setCachedSummary(n,s.summary),this.showSummary(s.summary)):(this.summaryContainer.innerHTML='<div class="panel-summary-error">Could not generate summary</div>',setTimeout(()=>this.hideSummary(),3e3))}catch{this.summaryContainer.innerHTML='<div class="panel-summary-error">Summary failed</div>',setTimeout(()=>this.hideSummary(),3e3)}finally{this.isSummarizing=!1,this.summaryBtn.innerHTML="✨",this.summaryBtn.disabled=!1}}async handleTranslate(e,n){var o;const i=J();if(i==="en")return;const s=(o=e.closest(".item"))==null?void 0:o.querySelector(".item-title");if(!s)return;const r=s.textContent||"";e.innerHTML="...",e.style.pointerEvents="none";try{const c=await Ol(n,i);c?(s.textContent=c,s.dataset.original=r,e.innerHTML="✓",e.title="Original: "+r,e.classList.add("translated")):e.innerHTML="文"}catch(c){console.error("Translation failed",c),e.innerHTML="文"}finally{e.style.pointerEvents="auto"}}showSummary(e){var n;this.summaryContainer&&(this.summaryContainer.style.display="block",this.summaryContainer.innerHTML=`
      <div class="panel-summary-content">
        <span class="panel-summary-text">${w(e)}</span>
        <button class="panel-summary-close" title="${u("components.newsPanel.close")}">×</button>
      </div>
    `,(n=this.summaryContainer.querySelector(".panel-summary-close"))==null||n.addEventListener("click",()=>this.hideSummary()))}hideSummary(){this.summaryContainer&&(this.summaryContainer.style.display="none",this.summaryContainer.innerHTML="")}getCachedSummary(e){try{const n=localStorage.getItem(e);if(!n)return null;const{summary:i,timestamp:s}=JSON.parse(n);return Date.now()-s>Wf?(localStorage.removeItem(e),null):i}catch{return null}}setCachedSummary(e,n){try{localStorage.setItem(e,JSON.stringify({summary:n,timestamp:Date.now()}))}catch{}}setDeviation(e,n,i){if(!this.deviationEl)return;if(i==="normal"){this.deviationEl.textContent="",this.deviationEl.className="deviation-indicator";return}const s=e>0?"↑":"↓",r=n>0?"+":"";this.deviationEl.textContent=`${s}${r}${n}%`,this.deviationEl.className=`deviation-indicator ${i}`,this.deviationEl.title=`z-score: ${e} (vs 7-day avg)`}renderNews(e){if(e.length===0){this.renderRequestId+=1,this.setDataBadge("unavailable"),this.showError(u("common.noNewsAvailable"));return}this.setDataBadge("live"),this.renderFlat(e),this.clusteredMode&&this.renderClustersAsync(e)}renderFilteredEmpty(e){this.renderRequestId+=1,this.setDataBadge("live"),this.setCount(0),this.relatedAssetContext.clear(),this.currentHeadlines=[],this.setContent(`<div class="panel-empty">${w(e)}</div>`)}async renderClustersAsync(e){const n=++this.renderRequestId;try{const i=await my.clusterNews(e);if(n!==this.renderRequestId)return;const s=await Sd(i);this.renderClusters(s)}catch(i){if(n!==this.renderRequestId)return;console.error("[NewsPanel] Failed to cluster news:",i),this.showError(u("common.failedClusterNews"))}}renderFlat(e){this.setCount(e.length);const n=e.map(i=>`
      <div class="item ${i.isAlert?"alert":""}" ${i.monitorColor?`style="border-inline-start-color: ${w(i.monitorColor)}"`:""}>
        <div class="item-source">
          ${w(i.source)}
          ${i.lang&&i.lang!==J()?`<span class="lang-badge">${i.lang.toUpperCase()}</span>`:""}
          ${i.isAlert?'<span class="alert-tag">ALERT</span>':""}
        </div>
        <a class="item-title" href="${Re(i.link)}" target="_blank" rel="noopener">${w(i.title)}</a>
        <div class="item-time">
          ${xa(i.pubDate)}
          ${J()!=="en"?`<button class="item-translate-btn" title="Translate" data-text="${w(i.title)}">文</button>`:""}
        </div>
      </div>
    `).join("");this.setContent(n)}renderClusters(e){const n=[...e].sort((c,l)=>{var y,f;const d=Ga[((y=c.threat)==null?void 0:y.level)??"info"],m=Ga[((f=l.threat)==null?void 0:f.level)??"info"];return m!==d?m-d:l.lastUpdated.getTime()-c.lastUpdated.getTime()}),i=n.reduce((c,l)=>c+l.sourceCount,0);this.setCount(i),this.relatedAssetContext.clear(),this.currentHeadlines=n.slice(0,10).map(c=>c.primaryTitle);const s=n.map(c=>c.id);let r;if(this.isFirstRender)te.updateItems(this.panelId,s),te.markAsSeen(this.panelId),r=new Set,this.isFirstRender=!1;else{const c=te.updateItems(this.panelId,s);r=new Set(c)}const o=n.map(c=>{const l=r.has(c.id),d=te.shouldHighlight(this.panelId,c.id),m=te.isNewItem(this.panelId,c.id)&&l;return{cluster:c,isNew:l,shouldHighlight:d,showNewTag:m}});if(this.useVirtualScroll&&n.length>zf&&this.windowedList)this.windowedList.setItems(o);else{const c=o.map(l=>this.renderClusterHtmlSafely(l.cluster,l.isNew,l.shouldHighlight,l.showNewTag)).join("");this.setContent(c),this.bindRelatedAssetEvents()}}renderClusterHtmlSafely(e,n,i,s){try{return this.renderClusterHtml(e,n,i,s)}catch(r){console.error("[NewsPanel] Failed to render cluster card:",r,e);const o=typeof(e==null?void 0:e.id)=="string"?e.id:"unknown-cluster";return`
        <div class="item clustered item-render-error" data-cluster-id="${w(o)}">
          <div class="item-source">${u("common.error")}</div>
          <div class="item-title">Failed to display this cluster.</div>
        </div>
      `}}renderClusterHtml(e,n,i,s){var Le;const r=e.sourceCount>1?`<span class="source-count">${u("components.newsPanel.sources",{count:String(e.sourceCount)})}</span>`:"",o=e.velocity,c=o&&o.level!=="normal"&&e.sourceCount>1?`<span class="velocity-badge ${o.level}">${o.trend==="rising"?"↑":""}+${o.sourcesPerHour}/hr</span>`:"",l=(o==null?void 0:o.sentiment)==="negative"?"⚠":(o==null?void 0:o.sentiment)==="positive"?"✓":"",d=l&&Math.abs((o==null?void 0:o.sentimentScore)||0)>2?`<span class="sentiment-badge ${o==null?void 0:o.sentiment}">${l}</span>`:"",m=s?`<span class="new-tag">${u("common.new")}</span>`:"",y=e.lang&&e.lang!==J()?`<span class="lang-badge">${e.lang.toUpperCase()}</span>`:"",f=Hn(e.primarySource),g=f.risk!=="low"?`<span class="propaganda-badge ${f.risk}" title="${w(f.note||`State-affiliated: ${f.stateAffiliated||"Unknown"}`)}">${f.risk==="high"?"⚠ State Media":"! Caution"}</span>`:"",v=Ht(e.primarySource),b=Mo(e.primarySource),C=v===1?"Wire":"",A=v<=2?`<span class="tier-badge tier-${v}" title="${b==="wire"?"Wire Service - Highest reliability":b==="gov"?"Official Government Source":"Verified News Outlet"}">${v===1?"★":"●"}${C?` ${C}`:""}</span>`:"",k=e.topSources.filter(j=>j.name!==e.primarySource),I=k.length>0?'<span class="also-reported">Also:</span>'+k.map(j=>{const Ye=Hn(j.name),vo=Ye.risk!=="low"?`<span class="propaganda-badge ${Ye.risk}" title="${w(Ye.note||`State-affiliated: ${Ye.stateAffiliated||"Unknown"}`)}">${Ye.risk==="high"?"⚠":"!"}</span>`:"";return`<span class="top-source tier-${j.tier}">${w(j.name)}${vo}</span>`}).join(""):"",N=dd(e);N&&N.assets.length>0&&this.relatedAssetContext.set(e.id,N);const G=N&&N.assets.length>0?`
        <div class="related-assets" data-cluster-id="${w(e.id)}">
          <div class="related-assets-header">
            ${u("components.newsPanel.relatedAssetsNear",{location:w(N.origin.label)})}
            <span class="related-assets-range">(${vr}km)</span>
          </div>
          <div class="related-assets-list">
            ${N.assets.map(j=>`
              <button class="related-asset" data-cluster-id="${w(e.id)}" data-asset-id="${w(j.id)}" data-asset-type="${w(j.type)}">
                <span class="related-asset-type">${w(this.getLocalizedAssetLabel(j.type))}</span>
                <span class="related-asset-name">${w(j.name)}</span>
                <span class="related-asset-distance">${Math.round(j.distanceKm)}km</span>
              </button>
            `).join("")}
          </div>
        </div>
      `:"",x=(Le=e.threat)==null?void 0:Le.category,K=x&&x!=="general"?x.charAt(0).toUpperCase()+x.slice(1):"",Pe={critical:"--threat-critical",high:"--threat-high",medium:"--threat-medium",low:"--threat-low",info:"--threat-info"},Ue=e.threat?E(Pe[e.threat.level]||"--text-dim"):"",yt=K?`<span class="category-tag" style="color:${Ue};border-color:${Ue}40;background:${Ue}20">${K}</span>`:"";return`
      <div class="${["item","clustered",e.isAlert?"alert":"",i?"item-new-highlight":"",n?"item-new":""].filter(Boolean).join(" ")}" ${e.monitorColor?`style="border-inline-start-color: ${w(e.monitorColor)}"`:""} data-cluster-id="${w(e.id)}" data-news-id="${w(e.primaryLink)}">
        <div class="item-source">
          ${A}
          ${w(e.primarySource)}
          ${g}
          ${y}
          ${m}
          ${r}
          ${c}
          ${d}
          ${e.isAlert?'<span class="alert-tag">ALERT</span>':""}
          ${yt}
        </div>
        <a class="item-title" href="${Re(e.primaryLink)}" target="_blank" rel="noopener">${w(e.primaryTitle)}</a>
        <div class="cluster-meta">
          <span class="top-sources">${I}</span>
          <span class="item-time">${xa(e.lastUpdated)}</span>
          ${J()!=="en"?`<button class="item-translate-btn" title="Translate" data-text="${w(e.primaryTitle)}">文</button>`:""}
        </div>
        ${G}
      </div>
    `}bindRelatedAssetEvents(){this.content.querySelectorAll(".related-assets").forEach(s=>{const r=s.dataset.clusterId;if(!r)return;const o=this.relatedAssetContext.get(r);o&&(s.addEventListener("mouseenter",()=>{var c;(c=this.onRelatedAssetsFocus)==null||c.call(this,o.assets,o.origin.label)}),s.addEventListener("mouseleave",()=>{var c;(c=this.onRelatedAssetsClear)==null||c.call(this)}))}),this.content.querySelectorAll(".related-asset").forEach(s=>{s.addEventListener("click",r=>{var y;r.stopPropagation();const o=s.dataset.clusterId,c=s.dataset.assetId,l=s.dataset.assetType;if(!o||!c||!l)return;const d=this.relatedAssetContext.get(o),m=d==null?void 0:d.assets.find(f=>f.id===c&&f.type===l);m&&((y=this.onRelatedAssetClick)==null||y.call(this,m))})}),this.content.querySelectorAll(".item-translate-btn").forEach(s=>{s.addEventListener("click",r=>{r.stopPropagation();const o=s.dataset.text;o&&this.handleTranslate(s,o)})})}getLocalizedAssetLabel(e){return u({pipeline:"modals.countryBrief.infra.pipeline",cable:"modals.countryBrief.infra.cable",datacenter:"modals.countryBrief.infra.datacenter",base:"modals.countryBrief.infra.base",nuclear:"modals.countryBrief.infra.nuclear"}[e])}destroy(){var e;(e=this.windowedList)==null||e.destroy(),this.windowedList=null,this.boundScrollHandler&&(this.content.removeEventListener("scroll",this.boundScrollHandler),this.boundScrollHandler=null),this.boundClickHandler&&(this.element.removeEventListener("click",this.boundClickHandler),this.boundClickHandler=null),te.unregister(this.panelId),super.destroy()}}function Bn(t,a,e=50,n=16){if(!t||t.length<2)return"";const i=Math.min(...t),r=Math.max(...t)-i||1,o=a!=null&&a>=0?"var(--green)":"var(--red)",c=t.map((l,d)=>{const m=d/(t.length-1)*e,y=n-(l-i)/r*(n-2)-1;return`${m.toFixed(1)},${y.toFixed(1)}`}).join(" ");return`<svg width="${e}" height="${n}" viewBox="0 0 ${e} ${n}" class="mini-sparkline"><polyline points="${c}" fill="none" stroke="${o}" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>`}class Zw extends P{constructor(){super({id:"markets",title:u("panels.markets")})}renderMarkets(a){if(a.length===0){this.showError(u("common.failedMarketData"));return}const e=a.map(n=>`
      <div class="market-item">
        <div class="market-info">
          <span class="market-name">${w(n.name)}</span>
          <span class="market-symbol">${w(n.display)}</span>
        </div>
        <div class="market-data">
          ${Bn(n.sparkline,n.change)}
          <span class="market-price">${Vs(n.price)}</span>
          <span class="market-change ${ca(n.change)}">${oa(n.change)}</span>
        </div>
      </div>
    `).join("");this.setContent(e)}}class eb extends P{constructor(){super({id:"heatmap",title:u("panels.heatmap")})}renderHeatmap(a){const e=a.filter(i=>i.change!==null);if(e.length===0){this.showError(u("common.failedSectorData"));return}const n='<div class="heatmap">'+e.map(i=>`
        <div class="heatmap-cell ${Fc(i.change)}">
          <div class="sector-name">${w(i.name)}</div>
          <div class="sector-change ${ca(i.change)}">${oa(i.change)}</div>
        </div>
      `).join("")+"</div>";this.setContent(n)}}class tb extends P{constructor(){super({id:"commodities",title:u("panels.commodities")})}renderCommodities(a){const e=a.filter(i=>i.price!==null);if(e.length===0){this.showError(u("common.failedCommodities"));return}const n='<div class="commodities-grid">'+e.map(i=>`
        <div class="commodity-item">
          <div class="commodity-name">${w(i.display)}</div>
          ${Bn(i.sparkline,i.change,60,18)}
          <div class="commodity-price">${Vs(i.price)}</div>
          <div class="commodity-change ${ca(i.change)}">${oa(i.change)}</div>
        </div>
      `).join("")+"</div>";this.setContent(n)}}class ab extends P{constructor(){super({id:"crypto",title:u("panels.crypto")})}renderCrypto(a){if(a.length===0){this.showError(u("common.failedCryptoData"));return}const e=a.map(n=>`
      <div class="market-item">
        <div class="market-info">
          <span class="market-name">${w(n.name)}</span>
          <span class="market-symbol">${w(n.symbol)}</span>
        </div>
        <div class="market-data">
          ${Bn(n.sparkline,n.change)}
          <span class="market-price">$${n.price.toLocaleString()}</span>
          <span class="market-change ${ca(n.change)}">${oa(n.change)}</span>
        </div>
      </div>
    `).join("");this.setContent(e)}}class nb extends P{constructor(){super({id:"polymarket",title:u("panels.polymarket"),infoTooltip:u("components.prediction.infoTooltip")})}formatVolume(a){return a?a>=1e6?`$${(a/1e6).toFixed(1)}M`:a>=1e3?`$${(a/1e3).toFixed(0)}K`:`$${a.toFixed(0)}`:""}renderPredictions(a){if(a.length===0){this.showError(u("common.failedPredictions"));return}const e=a.map(n=>{const i=Math.round(n.yesPrice),s=100-i,r=this.formatVolume(n.volume),o=Re(n.url||"");return`
      <div class="prediction-item">
        ${o?`<a href="${o}" target="_blank" rel="noopener" class="prediction-question prediction-link">${w(n.title)}</a>`:`<div class="prediction-question">${w(n.title)}</div>`}
        ${r?`<div class="prediction-volume">${u("components.predictions.vol")}: ${r}</div>`:""}
        <div class="prediction-bar">
          <div class="prediction-yes" style="width: ${i}%">
            <span class="prediction-label">${u("components.predictions.yes")} ${i}%</span>
          </div>
          <div class="prediction-no" style="width: ${s}%">
            <span class="prediction-label">${u("components.predictions.no")} ${s}%</span>
          </div>
        </div>
      </div>
    `}).join("");this.setContent(e)}}class ib extends P{constructor(e=[]){super({id:"monitors",title:u("panels.monitors")});h(this,"monitors",[]);h(this,"onMonitorsChange");this.monitors=e,this.renderInput()}renderInput(){lo(this.content);const e=S("input",{type:"text",className:"monitor-input",id:"monitorKeywords",placeholder:u("components.monitor.placeholder"),onKeypress:r=>{r.key==="Enter"&&this.addMonitor()}}),n=S("div",{className:"monitor-input-container"},e,S("button",{className:"monitor-add-btn",id:"addMonitorBtn",onClick:()=>this.addMonitor()},u("components.monitor.add"))),i=S("div",{id:"monitorsList"}),s=S("div",{id:"monitorsResults"});this.content.appendChild(n),this.content.appendChild(i),this.content.appendChild(s),this.renderMonitorsList()}addMonitor(){var s;const e=document.getElementById("monitorKeywords"),n=e.value.trim();if(!n)return;const i={id:_c(),keywords:n.split(",").map(r=>r.trim().toLowerCase()),color:xn[this.monitors.length%xn.length]??E("--status-live")};this.monitors.push(i),e.value="",this.renderMonitorsList(),(s=this.onMonitorsChange)==null||s.call(this,this.monitors)}removeMonitor(e){var n;this.monitors=this.monitors.filter(i=>i.id!==e),this.renderMonitorsList(),(n=this.onMonitorsChange)==null||n.call(this,this.monitors)}renderMonitorsList(){const e=document.getElementById("monitorsList");e&&U(e,...this.monitors.map(n=>S("span",{className:"monitor-tag"},S("span",{className:"monitor-tag-color",style:{background:n.color}}),n.keywords.join(", "),S("span",{className:"monitor-tag-remove",onClick:()=>this.removeMonitor(n.id)},"×"))))}renderResults(e){const n=document.getElementById("monitorsResults");if(!n)return;if(this.monitors.length===0){U(n,S("div",{style:"color: var(--text-dim); font-size: 10px; margin-top: 12px;"},u("components.monitor.addKeywords")));return}const i=[];e.forEach(c=>{this.monitors.forEach(l=>{const d=`${c.title} ${c.description||""}`.toLowerCase();l.keywords.some(y=>{const f=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`\\b${f}\\b`,"i").test(d)})&&i.push({...c,monitorColor:l.color})})});const s=new Set,r=i.filter(c=>s.has(c.link)?!1:(s.add(c.link),!0));if(r.length===0){U(n,S("div",{style:"color: var(--text-dim); font-size: 10px; margin-top: 12px;"},u("components.monitor.noMatches",{count:String(e.length)})));return}const o=r.length>10?u("components.monitor.showingMatches",{count:"10",total:String(r.length)}):`${r.length} ${r.length===1?u("components.monitor.match"):u("components.monitor.matches")}`;U(n,S("div",{style:"color: var(--text-dim); font-size: 10px; margin: 12px 0 8px;"},o),...r.slice(0,10).map(c=>S("div",{className:"item",style:`border-left: 2px solid ${c.monitorColor||""}; padding-left: 8px; margin-left: -8px;`},S("div",{className:"item-source"},c.source),S("a",{className:"item-title",href:Re(c.link),target:"_blank",rel:"noopener"},c.title),S("div",{className:"item-time"},xa(c.pubDate)))))}onChanged(e){this.onMonitorsChange=e}getMonitors(){return[...this.monitors]}setMonitors(e){this.monitors=e,this.renderMonitorsList()}}const Kf=new Set(["Tech","Ai","Startups","Vcblogs","RegionalStartups","Unicorns","Accelerators","Security","Policy","Layoffs","Finance","Hardware","Cloud","Dev","Tech Events","Crypto","Markets","Events","Producthunt","Funding","Polymarket","Cyber Threats"]),jf=new Set(["RSS Proxy","Finnhub","CoinGecko","Tech Events API","Service Status","Polymarket","Cyber Threats API"]),qf=new Set(["Politics","Middleeast","Tech","Ai","Finance","Gov","Intel","Layoffs","Thinktanks","Energy","Polymarket","Weather","NetBlocks","Shipping","Military","Cyber Threats"]),Yf=new Set(["RSS2JSON","Finnhub","CoinGecko","Polymarket","USGS","FRED","AISStream","GDELT Doc","EIA","USASpending","PizzINT","FIRMS","Cyber Threats API"]);class sb extends P{constructor(){super({id:"status",title:u("panels.status")});h(this,"isOpen",!1);h(this,"feeds",new Map);h(this,"apis",new Map);h(this,"allowedFeeds");h(this,"allowedApis");this.init()}init(){this.allowedFeeds=L==="tech"?Kf:qf,this.allowedApis=L==="tech"?jf:Yf;const e=S("div",{className:"status-panel hidden"},S("div",{className:"status-panel-header"},S("span",null,u("panels.status")),S("button",{className:"status-panel-close",onClick:()=>{this.isOpen=!1,e.classList.add("hidden")}},"×")),S("div",{className:"status-panel-content"},S("div",{className:"status-section"},S("div",{className:"status-section-title"},u("components.status.dataFeeds")),S("div",{className:"feeds-list"})),S("div",{className:"status-section"},S("div",{className:"status-section-title"},u("components.status.apiStatus")),S("div",{className:"apis-list"})),S("div",{className:"status-section"},S("div",{className:"status-section-title"},u("components.status.storage")),S("div",{className:"storage-info"}))),S("div",{className:"status-panel-footer"},S("span",{className:"last-check"},u("components.status.updatedJustNow"))));this.element=S("div",{className:"status-panel-container"},S("button",{className:"status-panel-toggle",title:u("components.status.systemStatus"),onClick:()=>{this.isOpen=!this.isOpen,e.classList.toggle("hidden",!this.isOpen),this.isOpen&&this.updateDisplay()}},S("span",{className:"status-icon"},"◉")),e),this.initDefaultStatuses()}initDefaultStatuses(){this.allowedFeeds.forEach(e=>{this.feeds.set(e,{name:e,lastUpdate:null,status:"disabled",itemCount:0})}),this.allowedApis.forEach(e=>{this.apis.set(e,{name:e,status:"disabled"})})}updateFeed(e,n){if(!this.allowedFeeds.has(e))return;const i=this.feeds.get(e)||{name:e,lastUpdate:null,status:"ok",itemCount:0};this.feeds.set(e,{...i,...n,lastUpdate:new Date}),this.updateStatusIcon(),this.isOpen&&this.updateDisplay()}updateApi(e,n){if(!this.allowedApis.has(e))return;const i=this.apis.get(e)||{name:e,status:"ok"};this.apis.set(e,{...i,...n}),this.updateStatusIcon(),this.isOpen&&this.updateDisplay()}setFeedDisabled(e){const n=this.feeds.get(e);n&&(this.feeds.set(e,{...n,status:"disabled",itemCount:0,lastUpdate:null}),this.updateStatusIcon(),this.isOpen&&this.updateDisplay())}setApiDisabled(e){const n=this.apis.get(e);n&&(this.apis.set(e,{...n,status:"disabled"}),this.updateStatusIcon(),this.isOpen&&this.updateDisplay())}updateStatusIcon(){const e=this.element.querySelector(".status-icon"),n=[...this.feeds.values()].filter(o=>o.status!=="disabled"),i=[...this.apis.values()].filter(o=>o.status!=="disabled"),s=n.some(o=>o.status==="error")||i.some(o=>o.status==="error"),r=n.some(o=>o.status==="warning")||i.some(o=>o.status==="warning");e.className="status-icon",s?(e.classList.add("error"),e.textContent="◉"):r?(e.classList.add("warning"),e.textContent="◉"):(e.classList.add("ok"),e.textContent="◉")}updateDisplay(){const e=this.element.querySelector(".feeds-list"),n=this.element.querySelector(".apis-list"),i=this.element.querySelector(".storage-info"),s=this.element.querySelector(".last-check");U(e,...[...this.feeds.values()].map(r=>S("div",{className:"status-row"},S("span",{className:`status-dot ${r.status}`}),S("span",{className:"status-name"},r.name),S("span",{className:"status-detail"},`${r.itemCount} items`),S("span",{className:"status-time"},r.lastUpdate?this.formatTime(r.lastUpdate):"Never")))),U(n,...[...this.apis.values()].map(r=>S("div",{className:"status-row"},S("span",{className:`status-dot ${r.status}`}),S("span",{className:"status-name"},r.name),r.latency?S("span",{className:"status-detail"},`${r.latency}ms`):!1))),this.updateStorageInfo(i),s.textContent=u("components.status.updatedAt",{time:this.formatTime(new Date)})}async updateStorageInfo(e){try{if("storage"in navigator&&"estimate"in navigator.storage){const n=await navigator.storage.estimate(),i=n.usage?(n.usage/1024/1024).toFixed(2):"0",s=n.quota?(n.quota/1024/1024).toFixed(0):"N/A";U(e,S("div",{className:"status-row"},S("span",{className:"status-name"},"IndexedDB"),S("span",{className:"status-detail"},`${i} MB / ${s} MB`)))}else U(e,S("div",{className:"status-row"},u("components.status.storageUnavailable")))}catch{U(e,S("div",{className:"status-row"},u("components.status.storageUnavailable")))}}formatTime(e){const i=Date.now()-e.getTime();return i<6e4?"just now":i<36e5?`${Math.floor(i/6e4)}m ago`:e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}getElement(){return this.element}}class rb extends P{constructor(){super({id:"economic",title:u("panels.economic")});h(this,"fredData",[]);h(this,"oilData",null);h(this,"spendingData",null);h(this,"lastUpdate",null);h(this,"activeTab","indicators")}update(e){this.fredData=e,this.lastUpdate=new Date,this.render()}updateOil(e){this.oilData=e,this.render()}updateSpending(e){this.spendingData=e,this.render()}setLoading(e){e&&this.showLoading()}render(){const e=this.oilData&&(this.oilData.wtiPrice||this.oilData.brentPrice),n=this.spendingData&&this.spendingData.awards.length>0,i=`
      <div class="economic-tabs">
        <button class="economic-tab ${this.activeTab==="indicators"?"active":""}" data-tab="indicators">
          📊 ${u("components.economic.indicators")}
        </button>
        ${e?`
          <button class="economic-tab ${this.activeTab==="oil"?"active":""}" data-tab="oil">
            🛢️ ${u("components.economic.oil")}
          </button>
        `:""}
        ${n?`
          <button class="economic-tab ${this.activeTab==="spending"?"active":""}" data-tab="spending">
            🏛️ ${u("components.economic.gov")}
          </button>
        `:""}
      </div>
    `;let s="";switch(this.activeTab){case"indicators":s=this.renderIndicators();break;case"oil":s=this.renderOil();break;case"spending":s=this.renderSpending();break}const r=this.lastUpdate?this.lastUpdate.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";this.setContent(`
      ${i}
      <div class="economic-content">
        ${s}
      </div>
      <div class="economic-footer">
        <span class="economic-source">${this.getSourceLabel()} • ${r}</span>
      </div>
    `),this.content.querySelectorAll(".economic-tab").forEach(o=>{o.addEventListener("click",c=>{const l=c.target.dataset.tab;l&&(this.activeTab=l,this.render())})})}getSourceLabel(){switch(this.activeTab){case"indicators":return"FRED";case"oil":return"EIA";case"spending":return"USASpending.gov"}}renderIndicators(){return this.fredData.length===0?`<div class="economic-empty">${u("components.economic.noIndicatorData")}</div>`:`
      <div class="economic-indicators">
        ${this.fredData.map(e=>{const n=Vd(e.change),i=zd(e.change,e.unit),s=e.change!==null?e.change>0?"▲":e.change<0?"▼":"–":"";return`
            <div class="economic-indicator" data-series="${w(e.id)}">
              <div class="indicator-header">
                <span class="indicator-name">${w(e.name)}</span>
                <span class="indicator-id">${w(e.id)}</span>
              </div>
              <div class="indicator-value">
                <span class="value">${w(String(e.value!==null?e.value:"N/A"))}${w(e.unit)}</span>
                <span class="change ${w(n)}">${w(s)} ${w(i)}</span>
              </div>
              <div class="indicator-date">${w(e.date)}</div>
            </div>
          `}).join("")}
      </div>
    `}renderOil(){if(!this.oilData)return`<div class="economic-empty">${u("components.economic.noOilDataRetry")}</div>`;const e=[this.oilData.wtiPrice,this.oilData.brentPrice,this.oilData.usProduction,this.oilData.usInventory].filter(Boolean);return e.length===0?`<div class="economic-empty">${u("components.economic.noOilMetrics")}</div>`:`
      <div class="economic-indicators oil-metrics">
        ${e.map(n=>{if(!n)return"";const i=Kd(n.trend),s=jd(n.trend,n.name.includes("Production"));return`
            <div class="economic-indicator oil-metric">
              <div class="indicator-header">
                <span class="indicator-name">${w(n.name)}</span>
              </div>
              <div class="indicator-value">
                <span class="value">${w(Wd(n.current,n.unit))} ${w(n.unit)}</span>
                <span class="change" style="color: ${w(s)}">
                  ${w(i)} ${w(n.changePct>0?"+":"")}${w(String(n.changePct))}%
                </span>
              </div>
              <div class="indicator-date">${u("components.economic.vsPreviousWeek")}</div>
            </div>
          `}).join("")}
      </div>
    `}renderSpending(){if(!this.spendingData||this.spendingData.awards.length===0)return`<div class="economic-empty">${u("components.economic.noSpending")}</div>`;const{awards:e,totalAmount:n,periodStart:i,periodEnd:s}=this.spendingData;return`
      <div class="spending-summary">
        <div class="spending-total">
          ${w(ts(n))} ${u("components.economic.in")} ${w(String(e.length))} ${u("components.economic.awards")}
          <span class="spending-period">${w(i)} – ${w(s)}</span>
        </div>
      </div>
      <div class="spending-list">
        ${e.slice(0,8).map(r=>`
          <div class="spending-award">
            <div class="award-header">
              <span class="award-icon">${w(Hg(r.awardType))}</span>
              <span class="award-amount">${w(ts(r.amount))}</span>
            </div>
            <div class="award-recipient">${w(r.recipientName)}</div>
            <div class="award-agency">${w(r.agency)}</div>
            ${r.description?`<div class="award-desc">${w(r.description.slice(0,100))}${r.description.length>100?"...":""}</div>`:""}
          </div>
        `).join("")}
      </div>
    `}}class ob extends P{constructor(){super({id:"gdelt-intel",title:u("panels.gdeltIntel"),showCount:!0,trackActivity:!0,infoTooltip:u("components.gdeltIntel.infoTooltip")});h(this,"activeTopic",ps()[0]);h(this,"topicData",new Map);h(this,"tabsEl",null);this.createTabs(),this.loadActiveTopic()}createTabs(){this.tabsEl=S("div",{className:"gdelt-intel-tabs"},...ps().map(e=>S("button",{className:`gdelt-intel-tab ${e.id===this.activeTopic.id?"active":""}`,dataset:{topicId:e.id},title:e.description,onClick:()=>this.selectTopic(e)},S("span",{className:"tab-icon"},e.icon),S("span",{className:"tab-label"},e.name)))),this.element.insertBefore(this.tabsEl,this.content)}selectTopic(e){var i;if(e.id===this.activeTopic.id)return;this.activeTopic=e,(i=this.tabsEl)==null||i.querySelectorAll(".gdelt-intel-tab").forEach(s=>{s.classList.toggle("active",s.dataset.topicId===e.id)});const n=this.topicData.get(e.id);n&&Date.now()-n.fetchedAt.getTime()<300*1e3?this.renderArticles(n.articles):this.loadActiveTopic()}async loadActiveTopic(){this.showLoading();try{const e=await $f(this.activeTopic);this.topicData.set(this.activeTopic.id,e),this.renderArticles(e.articles),this.setCount(e.articles.length)}catch(e){console.error("[GdeltIntelPanel] Load error:",e),this.showError(u("common.failedIntelFeed"))}}renderArticles(e){if(e.length===0){U(this.content,S("div",{className:"empty-state"},u("components.gdelt.empty")));return}U(this.content,S("div",{className:"gdelt-intel-articles"},...e.map(n=>this.buildArticle(n))))}buildArticle(e){const n=e.source||Vf(e.url),i=Gf(e.date),s=e.tone?e.tone<-2?"tone-negative":e.tone>2?"tone-positive":"":"";return S("a",{href:Re(e.url),target:"_blank",rel:"noopener",className:`gdelt-intel-article ${s}`.trim()},S("div",{className:"article-header"},S("span",{className:"article-source"},n),S("span",{className:"article-time"},i)),S("div",{className:"article-title"},e.title))}async refresh(){await this.loadActiveTopic()}async refreshAll(){this.topicData.clear(),await this.loadActiveTopic()}}const hs=new Map,Jf=300*1e3;async function Xf(t){const a=hs.get(t);if(a&&Date.now()-a.timestamp<Jf)return a.videoId;try{const e=R()?ct():"",n=await fetch(`${e}/api/youtube/live?channel=${encodeURIComponent(t)}`);if(!n.ok)throw new Error("API error");const s=(await n.json()).videoId||null;return hs.set(t,{videoId:s,timestamp:Date.now()}),s}catch(e){return console.warn(`[LiveNews] Failed to fetch live ID for ${t}:`,e),null}}const Qf=[{id:"bloomberg",name:"Bloomberg",handle:"@Bloomberg",fallbackVideoId:"iEpJwprxDdk"},{id:"sky",name:"SkyNews",handle:"@SkyNews",fallbackVideoId:"YDvsBbKfLPA"},{id:"euronews",name:"Euronews",handle:"@euabortnews",fallbackVideoId:"pykpO5kQJ98"},{id:"dw",name:"DW",handle:"@DWNews",fallbackVideoId:"LuKwFajn37U"},{id:"cnbc",name:"CNBC",handle:"@CNBC",fallbackVideoId:"9NyxcX3rhQs"},{id:"france24",name:"France24",handle:"@FRANCE24English",fallbackVideoId:"Ap-UM1O9RBU"},{id:"alarabiya",name:"AlArabiya",handle:"@AlArabiya",fallbackVideoId:"n7eQejkXbnM",useFallbackOnly:!0},{id:"aljazeera",name:"AlJazeera",handle:"@AlJazeeraEnglish",fallbackVideoId:"gCNeDWCI0vo",useFallbackOnly:!0}],ys=Qf,ie=class ie extends P{constructor(){super({id:"live-news",title:u("panels.liveNews")});h(this,"activeChannel",ys[0]);h(this,"channelSwitcher",null);h(this,"isMuted",!0);h(this,"isPlaying",!0);h(this,"wasPlayingBeforeIdle",!0);h(this,"muteBtn",null);h(this,"liveBtn",null);h(this,"idleTimeout",null);h(this,"IDLE_PAUSE_MS",300*1e3);h(this,"boundVisibilityHandler");h(this,"boundIdleResetHandler");h(this,"player",null);h(this,"playerContainer",null);h(this,"playerElement",null);h(this,"playerElementId");h(this,"isPlayerReady",!1);h(this,"currentVideoId",null);h(this,"youtubeOrigin");h(this,"forceFallbackVideoForNextInit",!1);h(this,"useDesktopEmbedProxy",!1);h(this,"desktopEmbedIframe",null);h(this,"desktopEmbedRenderToken",0);h(this,"boundMessageHandler");this.youtubeOrigin=ie.resolveYouTubeOrigin(),this.playerElementId=`live-news-player-${Date.now()}`,this.element.classList.add("panel-wide"),this.createLiveButton(),this.createMuteButton(),this.createChannelSwitcher(),this.setupBridgeMessageListener(),this.renderPlayer(),this.setupIdleDetection()}get embedOrigin(){try{return new URL(ct()).origin}catch{return"https://worldmonitor.app"}}setupBridgeMessageListener(){this.boundMessageHandler=e=>{var s;if(e.source!==((s=this.desktopEmbedIframe)==null?void 0:s.contentWindow))return;const n=this.embedOrigin;if(e.origin!==n&&e.origin!=="http://127.0.0.1:46123")return;const i=e.data;if(!(!i||typeof i!="object"||!i.type)){if(i.type==="yt-ready")this.isPlayerReady=!0,this.syncDesktopEmbedState();else if(i.type==="yt-error"){const r=Number(i.code??0);r===153&&this.activeChannel.fallbackVideoId&&this.activeChannel.videoId!==this.activeChannel.fallbackVideoId?(this.activeChannel.videoId=this.activeChannel.fallbackVideoId,this.renderDesktopEmbed(!0)):this.showEmbedError(this.activeChannel,r)}}},window.addEventListener("message",this.boundMessageHandler)}static resolveYouTubeOrigin(){const e="https://worldmonitor.app";try{const{protocol:n,origin:i,host:s}=window.location;if(n==="http:"||n==="https:")return s==="tauri.localhost"||s.endsWith(".tauri.localhost")?e:i;if(n==="tauri:"||n==="asset:")return e}catch{}return e}setupIdleDetection(){this.boundVisibilityHandler=()=>{document.hidden?this.idleTimeout&&clearTimeout(this.idleTimeout):(this.resumeFromIdle(),this.boundIdleResetHandler())},document.addEventListener("visibilitychange",this.boundVisibilityHandler),this.boundIdleResetHandler=()=>{this.idleTimeout&&clearTimeout(this.idleTimeout),this.resumeFromIdle(),this.idleTimeout=setTimeout(()=>this.pauseForIdle(),this.IDLE_PAUSE_MS)},["mousedown","keydown","scroll","touchstart","mousemove"].forEach(e=>{document.addEventListener(e,this.boundIdleResetHandler,{passive:!0})}),this.boundIdleResetHandler()}pauseForIdle(){this.isPlaying&&(this.wasPlayingBeforeIdle=!0,this.isPlaying=!1,this.updateLiveIndicator()),this.destroyPlayer()}destroyPlayer(){this.player&&(this.player.destroy(),this.player=null),this.desktopEmbedIframe=null,this.desktopEmbedRenderToken+=1,this.isPlayerReady=!1,this.currentVideoId=null,this.playerContainer&&(this.playerContainer.innerHTML="",this.useDesktopEmbedProxy?this.playerElement=null:(this.playerElement=document.createElement("div"),this.playerElement.id=this.playerElementId,this.playerContainer.appendChild(this.playerElement)))}resumeFromIdle(){this.wasPlayingBeforeIdle&&!this.isPlaying&&(this.isPlaying=!0,this.updateLiveIndicator(),this.initializePlayer())}createLiveButton(){this.liveBtn=document.createElement("button"),this.liveBtn.className="live-indicator-btn",this.liveBtn.title="Toggle playback",this.updateLiveIndicator(),this.liveBtn.addEventListener("click",n=>{n.stopPropagation(),this.togglePlayback()});const e=this.element.querySelector(".panel-header");e==null||e.appendChild(this.liveBtn)}updateLiveIndicator(){this.liveBtn&&(this.liveBtn.innerHTML=this.isPlaying?'<span class="live-dot"></span>Live':'<span class="live-dot paused"></span>Paused',this.liveBtn.classList.toggle("paused",!this.isPlaying))}togglePlayback(){this.isPlaying=!this.isPlaying,this.wasPlayingBeforeIdle=this.isPlaying,this.updateLiveIndicator(),this.isPlaying&&!this.player&&!this.desktopEmbedIframe?(this.ensurePlayerContainer(),this.initializePlayer()):this.syncPlayerState()}createMuteButton(){this.muteBtn=document.createElement("button"),this.muteBtn.className="live-mute-btn",this.muteBtn.title="Toggle sound",this.updateMuteIcon(),this.muteBtn.addEventListener("click",n=>{n.stopPropagation(),this.toggleMute()});const e=this.element.querySelector(".panel-header");e==null||e.appendChild(this.muteBtn)}updateMuteIcon(){this.muteBtn&&(this.muteBtn.innerHTML=this.isMuted?'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 5L6 9H2v6h4l5 4V5z"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>':'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>',this.muteBtn.classList.toggle("unmuted",!this.isMuted))}toggleMute(){this.isMuted=!this.isMuted,this.updateMuteIcon(),this.syncPlayerState()}createChannelSwitcher(){this.channelSwitcher=document.createElement("div"),this.channelSwitcher.className="live-news-switcher",ys.forEach(e=>{const n=document.createElement("button");n.className=`live-channel-btn ${e.id===this.activeChannel.id?"active":""}`,n.dataset.channelId=e.id,n.textContent=e.name,n.addEventListener("click",()=>this.switchChannel(e)),this.channelSwitcher.appendChild(n)}),this.element.insertBefore(this.channelSwitcher,this.content)}async resolveChannelVideo(e,n=!1){const s=e.useFallbackOnly||n?null:await Xf(e.handle);e.videoId=s||e.fallbackVideoId,e.isLive=!!s}async switchChannel(e){var n,i;if(e.id!==this.activeChannel.id){if(this.activeChannel=e,(n=this.channelSwitcher)==null||n.querySelectorAll(".live-channel-btn").forEach(s=>{const r=s;r.classList.toggle("active",r.dataset.channelId===e.id),r.dataset.channelId===e.id&&r.classList.add("loading")}),await this.resolveChannelVideo(e),(i=this.channelSwitcher)==null||i.querySelectorAll(".live-channel-btn").forEach(s=>{const r=s;r.classList.remove("loading"),r.dataset.channelId===e.id&&!e.videoId&&r.classList.add("offline")}),!e.videoId||!/^[\w-]{10,12}$/.test(e.videoId)){this.showOfflineMessage(e);return}if(this.useDesktopEmbedProxy){this.renderDesktopEmbed(!0);return}if(!this.player){this.ensurePlayerContainer(),this.initializePlayer();return}this.syncPlayerState()}}showOfflineMessage(e){this.content.innerHTML=`
      <div class="live-offline">
        <div class="offline-icon">📺</div>
        <div class="offline-text">${u("components.liveNews.notLive",{name:e.name})}</div>
        <button class="offline-retry" onclick="this.closest('.panel').querySelector('.live-channel-btn.active')?.click()">${u("common.retry")}</button>
      </div>
    `}showEmbedError(e,n){const i=e.videoId?`https://www.youtube.com/watch?v=${encodeURIComponent(e.videoId)}`:`https://www.youtube.com/${e.handle}`;this.content.innerHTML=`
      <div class="live-offline">
        <div class="offline-icon">!</div>
        <div class="offline-text">${u("components.liveNews.cannotEmbed",{name:e.name,code:String(n)})}</div>
        <a class="offline-retry" href="${i}" target="_blank" rel="noopener noreferrer">${u("components.liveNews.openOnYouTube")}</a>
      </div>
    `}renderPlayer(){this.ensurePlayerContainer(),this.initializePlayer()}ensurePlayerContainer(){this.content.innerHTML="",this.playerContainer=document.createElement("div"),this.playerContainer.className="live-news-player",this.useDesktopEmbedProxy?this.playerElement=null:(this.playerElement=document.createElement("div"),this.playerElement.id=this.playerElementId,this.playerContainer.appendChild(this.playerElement)),this.content.appendChild(this.playerContainer)}buildDesktopEmbedPath(e,n){const i=new URLSearchParams({videoId:e,autoplay:this.isPlaying?"1":"0",mute:this.isMuted?"1":"0"});return n&&i.set("origin",n),`/api/youtube/embed?${i.toString()}`}postToEmbed(e){var n;(n=this.desktopEmbedIframe)!=null&&n.contentWindow&&this.desktopEmbedIframe.contentWindow.postMessage(e,this.embedOrigin)}syncDesktopEmbedState(){this.postToEmbed({type:this.isPlaying?"play":"pause"}),this.postToEmbed({type:this.isMuted?"mute":"unmute"})}renderDesktopEmbed(e=!1){this.useDesktopEmbedProxy&&this.renderDesktopEmbedAsync(e)}async renderDesktopEmbedAsync(e=!1){const n=this.activeChannel.videoId;if(!n){this.showOfflineMessage(this.activeChannel);return}if(!e&&this.currentVideoId===n&&this.desktopEmbedIframe){this.syncDesktopEmbedState();return}const i=++this.desktopEmbedRenderToken;if(this.currentVideoId=n,this.isPlayerReady=!0,(!this.playerContainer||!this.playerContainer.parentElement)&&this.ensurePlayerContainer(),!this.playerContainer)return;this.playerContainer.innerHTML="";const r=`${ct()}${this.buildDesktopEmbedPath(n)}`;if(i!==this.desktopEmbedRenderToken)return;const o=document.createElement("iframe");o.className="live-news-embed-frame",o.src=r,o.title=`${this.activeChannel.name} live feed`,o.style.width="100%",o.style.height="100%",o.style.border="0",o.allow="autoplay; encrypted-media; picture-in-picture; fullscreen",o.allowFullscreen=!0,o.referrerPolicy="strict-origin-when-cross-origin",o.setAttribute("sandbox","allow-scripts allow-same-origin allow-presentation"),o.setAttribute("loading","eager"),this.playerContainer.appendChild(o),this.desktopEmbedIframe=o}static loadYouTubeApi(){return ie.apiPromise||(ie.apiPromise=new Promise(e=>{var r,o;if((r=window.YT)!=null&&r.Player){e();return}if(document.querySelector('script[data-youtube-iframe-api="true"]')){if((o=window.YT)!=null&&o.Player){e();return}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c==null||c(),e()};return}const i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{i==null||i(),e()};const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,s.dataset.youtubeIframeApi="true",s.onerror=()=>{console.warn("[LiveNews] YouTube IFrame API failed to load (ad blocker or network issue)"),ie.apiPromise=null,s.remove(),e()},document.head.appendChild(s)})),ie.apiPromise}async initializePlayer(){var n;if(!this.useDesktopEmbedProxy&&this.player)return;const e=this.activeChannel.useFallbackOnly||this.forceFallbackVideoForNextInit;if(this.forceFallbackVideoForNextInit=!1,await this.resolveChannelVideo(this.activeChannel,e),!this.activeChannel.videoId||!/^[\w-]{10,12}$/.test(this.activeChannel.videoId)){this.showOfflineMessage(this.activeChannel);return}if(this.useDesktopEmbedProxy){this.renderDesktopEmbed(!0);return}await ie.loadYouTubeApi(),!(this.player||!this.playerElement||!((n=window.YT)!=null&&n.Player))&&(this.player=new window.YT.Player(this.playerElement,{host:"https://www.youtube-nocookie.com",videoId:this.activeChannel.videoId,playerVars:{autoplay:this.isPlaying?1:0,mute:this.isMuted?1:0,rel:0,playsinline:1,enablejsapi:1,...this.youtubeOrigin?{origin:this.youtubeOrigin,widget_referrer:this.youtubeOrigin}:{}},events:{onReady:()=>{var s,r;this.isPlayerReady=!0,this.currentVideoId=this.activeChannel.videoId||null;const i=(r=(s=this.player)==null?void 0:s.getIframe)==null?void 0:r.call(s);i&&(i.referrerPolicy="strict-origin-when-cross-origin"),this.syncPlayerState()},onError:i=>{const s=Number((i==null?void 0:i.data)??0);if(s===153&&this.activeChannel.fallbackVideoId&&this.activeChannel.videoId!==this.activeChannel.fallbackVideoId){this.destroyPlayer(),this.forceFallbackVideoForNextInit=!0,this.ensurePlayerContainer(),this.initializePlayer();return}if(s===153&&R()){this.useDesktopEmbedProxy=!0,this.destroyPlayer(),this.ensurePlayerContainer(),this.renderDesktopEmbed(!0);return}this.destroyPlayer(),this.showEmbedError(this.activeChannel,s)}}}))}syncPlayerState(){var i,s,r,o,c,l,d,m;if(this.useDesktopEmbedProxy){const y=this.activeChannel.videoId;y&&this.currentVideoId!==y?this.renderDesktopEmbed(!0):this.syncDesktopEmbedState();return}if(!this.player||!this.isPlayerReady)return;const e=this.activeChannel.videoId;if(!e)return;const n=this.currentVideoId!==e;if(n){if(this.currentVideoId=e,!this.playerElement||!document.getElementById(this.playerElementId)){this.ensurePlayerContainer(),this.initializePlayer();return}this.isPlaying?this.player.loadVideoById(e):this.player.cueVideoById(e)}this.isMuted?(s=(i=this.player).mute)==null||s.call(i):(o=(r=this.player).unMute)==null||o.call(r),this.isPlaying?n?(this.player.pauseVideo(),setTimeout(()=>{var y,f,g,v;this.player&&this.isPlaying&&((f=(y=this.player).mute)==null||f.call(y),(v=(g=this.player).playVideo)==null||v.call(g),this.isMuted||setTimeout(()=>{var b,C;(C=(b=this.player)==null?void 0:b.unMute)==null||C.call(b)},500))},800)):(l=(c=this.player).playVideo)==null||l.call(c):(m=(d=this.player).pauseVideo)==null||m.call(d)}refresh(){this.syncPlayerState()}destroy(){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),document.removeEventListener("visibilitychange",this.boundVisibilityHandler),window.removeEventListener("message",this.boundMessageHandler),["mousedown","keydown","scroll","touchstart","mousemove"].forEach(e=>{document.removeEventListener(e,this.boundIdleResetHandler)}),this.player&&(this.player.destroy(),this.player=null),this.desktopEmbedIframe=null,this.isPlayerReady=!1,this.playerContainer=null,this.playerElement=null,super.destroy()}};h(ie,"apiPromise",null);let gs=ie;const Et=[{id:"jerusalem",city:"Jerusalem",country:"Israel",region:"middle-east",channelHandle:"@TheWesternWall",fallbackVideoId:"UyduhBUpO7Q"},{id:"tehran",city:"Tehran",country:"Iran",region:"middle-east",channelHandle:"@IranHDCams",fallbackVideoId:"-zGuR1qVKrU"},{id:"tel-aviv",city:"Tel Aviv",country:"Israel",region:"middle-east",channelHandle:"@IsraelLiveCam",fallbackVideoId:"-VLcYT5QBrY"},{id:"mecca",city:"Mecca",country:"Saudi Arabia",region:"middle-east",channelHandle:"@MakkahLive",fallbackVideoId:"DEcpmPUbkDQ"},{id:"kyiv",city:"Kyiv",country:"Ukraine",region:"europe",channelHandle:"@DWNews",fallbackVideoId:"-Q7FuPINDjA"},{id:"odessa",city:"Odessa",country:"Ukraine",region:"europe",channelHandle:"@UkraineLiveCam",fallbackVideoId:"e2gC37ILQmk"},{id:"paris",city:"Paris",country:"France",region:"europe",channelHandle:"@PalaisIena",fallbackVideoId:"OzYp4NRZlwQ"},{id:"st-petersburg",city:"St. Petersburg",country:"Russia",region:"europe",channelHandle:"@SPBLiveCam",fallbackVideoId:"CjtIYbmVfck"},{id:"london",city:"London",country:"UK",region:"europe",channelHandle:"@EarthCam",fallbackVideoId:"Lxqcg1qt0XU"},{id:"washington",city:"Washington DC",country:"USA",region:"americas",channelHandle:"@AxisCommunications",fallbackVideoId:"1wV9lLe14aU"},{id:"new-york",city:"New York",country:"USA",region:"americas",channelHandle:"@EarthCam",fallbackVideoId:"4qyZLflp-sI"},{id:"los-angeles",city:"Los Angeles",country:"USA",region:"americas",channelHandle:"@VeniceVHotel",fallbackVideoId:"EO_1LWqsCNE"},{id:"miami",city:"Miami",country:"USA",region:"americas",channelHandle:"@FloridaLiveCams",fallbackVideoId:"5YCajRjvWCg"},{id:"taipei",city:"Taipei",country:"Taiwan",region:"asia",channelHandle:"@JackyWuTaipei",fallbackVideoId:"z_fY1pj1VBw"},{id:"shanghai",city:"Shanghai",country:"China",region:"asia",channelHandle:"@SkylineWebcams",fallbackVideoId:"76EwqI5XZIc"},{id:"tokyo",city:"Tokyo",country:"Japan",region:"asia",channelHandle:"@TokyoLiveCam4K",fallbackVideoId:"4pu9sF5Qssw"},{id:"seoul",city:"Seoul",country:"South Korea",region:"asia",channelHandle:"@UNvillage_live",fallbackVideoId:"-JhoMGoAfFc"},{id:"sydney",city:"Sydney",country:"Australia",region:"asia",channelHandle:"@WebcamSydney",fallbackVideoId:"7pcL-0Wo77U"}],Zf=4,ta=class ta extends P{constructor(){super({id:"live-webcams",title:u("panels.liveWebcams")});h(this,"viewMode","grid");h(this,"regionFilter","all");h(this,"activeFeed",Et[0]);h(this,"toolbar",null);h(this,"iframes",[]);h(this,"observer",null);h(this,"isVisible",!1);h(this,"idleTimeout",null);h(this,"boundIdleResetHandler");h(this,"boundVisibilityHandler");h(this,"IDLE_PAUSE_MS",300*1e3);h(this,"isIdle",!1);this.element.classList.add("panel-wide"),this.createToolbar(),this.setupIntersectionObserver(),this.setupIdleDetection(),this.render()}get filteredFeeds(){return this.regionFilter==="all"?Et:Et.filter(e=>e.region===this.regionFilter)}get gridFeeds(){return this.regionFilter==="all"?ta.ALL_GRID_IDS.map(e=>Et.find(n=>n.id===e)).filter(Boolean):this.filteredFeeds.slice(0,Zf)}createToolbar(){this.toolbar=document.createElement("div"),this.toolbar.className="webcam-toolbar";const e=document.createElement("div");e.className="webcam-toolbar-group",[{key:"all",label:u("components.webcams.regions.all")},{key:"middle-east",label:u("components.webcams.regions.mideast")},{key:"europe",label:u("components.webcams.regions.europe")},{key:"americas",label:u("components.webcams.regions.americas")},{key:"asia",label:u("components.webcams.regions.asia")}].forEach(({key:o,label:c})=>{const l=document.createElement("button");l.className=`webcam-region-btn${o===this.regionFilter?" active":""}`,l.dataset.region=o,l.textContent=c,l.addEventListener("click",()=>this.setRegionFilter(o)),e.appendChild(l)});const i=document.createElement("div");i.className="webcam-toolbar-group";const s=document.createElement("button");s.className=`webcam-view-btn${this.viewMode==="grid"?" active":""}`,s.dataset.mode="grid",s.innerHTML='<svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="none"><rect x="3" y="3" width="8" height="8" rx="1"/><rect x="13" y="3" width="8" height="8" rx="1"/><rect x="3" y="13" width="8" height="8" rx="1"/><rect x="13" y="13" width="8" height="8" rx="1"/></svg>',s.title="Grid view",s.addEventListener("click",()=>this.setViewMode("grid"));const r=document.createElement("button");r.className=`webcam-view-btn${this.viewMode==="single"?" active":""}`,r.dataset.mode="single",r.innerHTML='<svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="none"><rect x="3" y="3" width="18" height="14" rx="2"/><rect x="3" y="19" width="18" height="2" rx="1"/></svg>',r.title="Single view",r.addEventListener("click",()=>this.setViewMode("single")),i.appendChild(s),i.appendChild(r),this.toolbar.appendChild(e),this.toolbar.appendChild(i),this.element.insertBefore(this.toolbar,this.content)}setRegionFilter(e){var i;if(e===this.regionFilter)return;Pl(e),this.regionFilter=e,(i=this.toolbar)==null||i.querySelectorAll(".webcam-region-btn").forEach(s=>{s.classList.toggle("active",s.dataset.region===e)});const n=this.filteredFeeds;n.length>0&&!n.includes(this.activeFeed)&&(this.activeFeed=n[0]),this.render()}setViewMode(e){var n;e!==this.viewMode&&(this.viewMode=e,(n=this.toolbar)==null||n.querySelectorAll(".webcam-view-btn").forEach(i=>{i.classList.toggle("active",i.dataset.mode===e)}),this.render())}buildEmbedUrl(e){if(R()){const n=ct(),i=new URLSearchParams({videoId:e,autoplay:"1",mute:"1"});return`${n}/api/youtube/embed?${i.toString()}`}return`https://www.youtube-nocookie.com/embed/${e}?autoplay=1&mute=1&controls=0&modestbranding=1&playsinline=1&rel=0`}createIframe(e){const n=document.createElement("iframe");return n.className="webcam-iframe",n.src=this.buildEmbedUrl(e.fallbackVideoId),n.title=`${e.city} live webcam`,n.allow="autoplay; encrypted-media; picture-in-picture",n.allowFullscreen=!0,n.referrerPolicy="strict-origin-when-cross-origin",n.setAttribute("loading","lazy"),n.setAttribute("sandbox","allow-scripts allow-same-origin allow-presentation"),n}render(){if(this.destroyIframes(),!this.isVisible||this.isIdle){this.content.innerHTML='<div class="webcam-placeholder">Webcams paused</div>';return}this.viewMode==="grid"?this.renderGrid():this.renderSingle()}renderGrid(){this.content.innerHTML="",this.content.className="panel-content webcam-content";const e=document.createElement("div");e.className="webcam-grid",this.gridFeeds.forEach(n=>{const i=document.createElement("div");i.className="webcam-cell",i.addEventListener("click",()=>{Jn(n.id,n.city,"grid"),this.activeFeed=n,this.setViewMode("single")});const s=document.createElement("div");s.className="webcam-cell-label",s.innerHTML=`<span class="webcam-live-dot"></span><span class="webcam-city">${w(n.city.toUpperCase())}</span>`;const r=this.createIframe(n);i.appendChild(r),i.appendChild(s),e.appendChild(i),this.iframes.push(r)}),this.content.appendChild(e)}renderSingle(){this.content.innerHTML="",this.content.className="panel-content webcam-content";const e=document.createElement("div");e.className="webcam-single";const n=this.createIframe(this.activeFeed);e.appendChild(n),this.iframes.push(n);const i=document.createElement("div");i.className="webcam-switcher";const s=document.createElement("button");s.className="webcam-feed-btn webcam-back-btn",s.innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="none"><rect x="3" y="3" width="8" height="8" rx="1"/><rect x="13" y="3" width="8" height="8" rx="1"/><rect x="3" y="13" width="8" height="8" rx="1"/><rect x="13" y="13" width="8" height="8" rx="1"/></svg> Grid',s.addEventListener("click",()=>this.setViewMode("grid")),i.appendChild(s),this.filteredFeeds.forEach(r=>{const o=document.createElement("button");o.className=`webcam-feed-btn${r.id===this.activeFeed.id?" active":""}`,o.textContent=r.city,o.addEventListener("click",()=>{Jn(r.id,r.city,"single"),this.activeFeed=r,this.render()}),i.appendChild(o)}),this.content.appendChild(e),this.content.appendChild(i)}destroyIframes(){this.iframes.forEach(e=>{e.src="about:blank",e.remove()}),this.iframes=[]}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{const n=this.isVisible;this.isVisible=e.some(i=>i.isIntersecting),this.isVisible&&!n&&!this.isIdle?this.render():!this.isVisible&&n&&this.destroyIframes()},{threshold:.1}),this.observer.observe(this.element)}setupIdleDetection(){this.boundVisibilityHandler=()=>{document.hidden?this.idleTimeout&&clearTimeout(this.idleTimeout):(this.isIdle&&(this.isIdle=!1,this.isVisible&&this.render()),this.boundIdleResetHandler())},document.addEventListener("visibilitychange",this.boundVisibilityHandler),this.boundIdleResetHandler=()=>{this.idleTimeout&&clearTimeout(this.idleTimeout),this.isIdle&&(this.isIdle=!1,this.isVisible&&this.render()),this.idleTimeout=setTimeout(()=>{this.isIdle=!0,this.destroyIframes(),this.content.innerHTML='<div class="webcam-placeholder">Webcams paused — move mouse to resume</div>'},this.IDLE_PAUSE_MS)},["mousedown","keydown","scroll","touchstart","mousemove"].forEach(e=>{document.addEventListener(e,this.boundIdleResetHandler,{passive:!0})}),this.boundIdleResetHandler()}refresh(){this.isVisible&&!this.isIdle&&this.render()}destroy(){var e;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),document.removeEventListener("visibilitychange",this.boundVisibilityHandler),["mousedown","keydown","scroll","touchstart","mousemove"].forEach(n=>{document.removeEventListener(n,this.boundIdleResetHandler)}),(e=this.observer)==null||e.disconnect(),this.destroyIframes(),super.destroy()}};h(ta,"ALL_GRID_IDS",["jerusalem","tehran","kyiv","washington"]);let fs=ta;const aa=class aa extends P{constructor(){super({id:"cii",title:u("panels.cii"),infoTooltip:u("components.cii.infoTooltip")});h(this,"scores",[]);h(this,"focalPointsReady",!1);h(this,"onShareStory");this.showLoading(u("common.loading"))}setShareStoryHandler(e){this.onShareStory=e}getLevelColor(e){switch(e){case"critical":return E("--semantic-critical");case"high":return E("--semantic-high");case"elevated":return E("--semantic-elevated");case"normal":return E("--semantic-normal");case"low":return E("--semantic-low")}}getLevelEmoji(e){switch(e){case"critical":return"🔴";case"high":return"🟠";case"elevated":return"🟡";case"normal":return"🟢";case"low":return"⚪"}}buildTrendArrow(e,n){return e==="rising"?S("span",{className:"trend-up"},`↑${n>0?n:""}`):e==="falling"?S("span",{className:"trend-down"},`↓${Math.abs(n)}`):S("span",{className:"trend-stable"},"→")}buildCountry(e){const n=this.getLevelColor(e.level),i=this.getLevelEmoji(e.level),s=S("button",{className:"cii-share-btn",dataset:{code:e.code,name:e.name},title:u("common.shareStory")});return s.appendChild(ef(aa.SHARE_SVG)),S("div",{className:"cii-country",dataset:{code:e.code}},S("div",{className:"cii-header"},S("span",{className:"cii-emoji"},i),S("span",{className:"cii-name"},e.name),S("span",{className:"cii-score"},String(e.score)),this.buildTrendArrow(e.trend,e.change24h),s),S("div",{className:"cii-bar-container"},S("div",{className:"cii-bar",style:`width: ${e.score}%; background: ${n};`})),S("div",{className:"cii-components"},S("span",{title:u("common.unrest")},`U:${e.components.unrest}`),S("span",{title:u("common.conflict")},`C:${e.components.conflict}`),S("span",{title:u("common.security")},`S:${e.components.security}`),S("span",{title:u("common.information")},`I:${e.components.information}`)))}bindShareButtons(){this.onShareStory&&this.content.querySelectorAll(".cii-share-btn").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();const i=n.currentTarget,s=i.dataset.code||"",r=i.dataset.name||"";s&&r&&this.onShareStory(s,r)})})}async refresh(e=!1){if(!(!this.focalPointsReady&&!e)){e&&(this.focalPointsReady=!0,console.log("[CIIPanel] Focal points ready, calculating scores...")),this.showLoading();try{const n=Un(),i=n.filter(o=>o.score>0).length;this.scores=n,console.log(`[CIIPanel] Calculated ${i} countries with focal point intelligence`);const s=this.scores.filter(o=>o.score>0);if(this.setCount(s.length),s.length===0){U(this.content,S("div",{className:"empty-state"},u("components.cii.noSignals")));return}const r=S("div",{className:"cii-list"},...s.map(o=>this.buildCountry(o)));U(this.content,r),this.bindShareButtons()}catch(n){console.error("[CIIPanel] Refresh error:",n),this.showError(u("common.failedCII"))}}}getScores(){return this.scores}};h(aa,"SHARE_SVG",'<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v7a2 2 0 002 2h12a2 2 0 002-2v-7"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg>');let Ss=aa;class cb extends P{constructor(){super({id:"cascade",title:u("panels.cascade"),showCount:!0,trackActivity:!0,infoTooltip:u("components.cascade.infoTooltip")});h(this,"graph",null);h(this,"selectedNode",null);h(this,"cascadeResult",null);h(this,"filter","cable");h(this,"onSelectCallback",null);this.init()}async init(){this.showLoading();try{this.graph=Ln();const e=Ji();this.setCount(e.nodes),this.render()}catch(e){console.error("[CascadePanel] Init error:",e),this.showError(u("common.failedDependencyGraph"))}}getImpactColor(e){switch(e){case"critical":return E("--semantic-critical");case"high":return E("--semantic-high");case"medium":return E("--semantic-elevated");case"low":return E("--semantic-normal")}}getImpactEmoji(e){switch(e){case"critical":return"🔴";case"high":return"🟠";case"medium":return"🟡";case"low":return"🟢"}}getNodeTypeEmoji(e){switch(e){case"cable":return"🔌";case"pipeline":return"🛢️";case"port":return"⚓";case"chokepoint":return"🚢";case"country":return"🏳️";default:return"📍"}}getFilterLabel(e){return{cable:u("components.cascade.filters.cables"),pipeline:u("components.cascade.filters.pipelines"),port:u("components.cascade.filters.ports"),chokepoint:u("components.cascade.filters.chokepoints")}[e]}getFilteredNodes(){if(!this.graph)return[];const e=[];for(const n of this.graph.nodes.values())(this.filter==="all"||n.type===this.filter)&&n.type!=="country"&&e.push(n);return e.sort((n,i)=>n.name.localeCompare(i.name))}renderSelector(){const e=this.getFilteredNodes(),n=["cable","pipeline","port","chokepoint"].map(r=>`<button class="cascade-filter-btn ${this.filter===r?"active":""}" data-filter="${r}">
        ${this.getNodeTypeEmoji(r)} ${this.getFilterLabel(r)}
      </button>`).join(""),i=e.map(r=>`<option value="${w(r.id)}" ${this.selectedNode===r.id?"selected":""}>
        ${w(r.name)}
      </option>`).join(""),s=u(`components.cascade.filterType.${this.filter}`);return`
      <div class="cascade-selector">
        <div class="cascade-filters">${n}</div>
        <select class="cascade-select" ${e.length===0?"disabled":""}>
          <option value="">${u("components.cascade.selectPrompt",{type:s})}</option>
          ${i}
        </select>
        <button class="cascade-analyze-btn" ${this.selectedNode?"":"disabled"}>
          ${u("components.cascade.analyzeImpact")}
        </button>
      </div>
    `}renderCascadeResult(){if(!this.cascadeResult)return"";const{source:e,countriesAffected:n,redundancies:i}=this.cascadeResult,s=n.length>0?n.map(o=>`
          <div class="cascade-country" style="border-left: 3px solid ${this.getImpactColor(o.impactLevel)}">
            <span class="cascade-emoji">${this.getImpactEmoji(o.impactLevel)}</span>
            <span class="cascade-country-name">${w(o.countryName)}</span>
            <span class="cascade-impact">${u(`components.cascade.impactLevels.${o.impactLevel}`)}</span>
            ${o.affectedCapacity>0?`<span class="cascade-capacity">${u("components.cascade.capacityPercent",{percent:String(Math.round(o.affectedCapacity*100))})}</span>`:""}
          </div>
        `).join(""):`<div class="empty-state">${u("components.cascade.noCountryImpacts")}</div>`,r=i&&i.length>0?`
        <div class="cascade-section">
          <div class="cascade-section-title">${u("components.cascade.alternativeRoutes")}</div>
          ${i.map(o=>`
            <div class="cascade-redundancy">
              <span class="cascade-redundancy-name">${w(o.name)}</span>
              <span class="cascade-redundancy-capacity">${Math.round(o.capacityShare*100)}%</span>
            </div>
          `).join("")}
        </div>
      `:"";return`
      <div class="cascade-result">
        <div class="cascade-source">
          <span class="cascade-emoji">${this.getNodeTypeEmoji(e.type)}</span>
          <span class="cascade-source-name">${w(e.name)}</span>
          <span class="cascade-source-type">${u(`components.cascade.filterType.${e.type}`)}</span>
        </div>
        <div class="cascade-section">
          <div class="cascade-section-title">${u("components.cascade.countriesAffected",{count:String(n.length)})}</div>
          <div class="cascade-countries">${s}</div>
        </div>
        ${r}
      </div>
    `}render(){if(!this.graph){this.showLoading();return}const e=Ji(),n=`
      <div class="cascade-stats">
        <span>🔌 ${e.cables}</span>
        <span>🛢️ ${e.pipelines}</span>
        <span>⚓ ${e.ports}</span>
        <span>🌊 ${e.chokepoints}</span>
        <span>🏳️ ${e.countries}</span>
        <span>📊 ${e.edges} ${u("components.cascade.links")}</span>
      </div>
    `;this.content.innerHTML=`
      <div class="cascade-panel">
        ${n}
        ${this.renderSelector()}
        ${this.cascadeResult?this.renderCascadeResult():`<div class="cascade-hint">${u("components.cascade.selectInfrastructureHint")}</div>`}
      </div>
    `,this.attachEventListeners()}attachEventListeners(){this.content.querySelectorAll(".cascade-filter-btn").forEach(s=>{s.addEventListener("click",()=>{this.filter=s.getAttribute("data-filter"),this.selectedNode=null,this.cascadeResult=null,this.render()})});const n=this.content.querySelector(".cascade-select");n&&n.addEventListener("change",()=>{this.selectedNode=n.value||null,this.cascadeResult=null,this.onSelectCallback&&this.onSelectCallback(this.selectedNode),this.render()});const i=this.content.querySelector(".cascade-analyze-btn");i&&i.addEventListener("click",()=>this.runAnalysis())}runAnalysis(){this.selectedNode&&(this.cascadeResult=rg(this.selectedNode),this.render(),this.onSelectCallback&&this.onSelectCallback(this.selectedNode))}selectNode(e){this.selectedNode=e;const n=e.split(":")[0];["cable","pipeline","port","chokepoint"].includes(n)&&(this.filter=n),this.runAnalysis()}onSelect(e){this.onSelectCallback=e}getSelectedNode(){return this.selectedNode}getCascadeResult(){return this.cascadeResult}refresh(){zy(),this.graph=null,this.cascadeResult=null,this.init()}}const eS=new ua("",{fetch:fetch.bind(globalThis)}),yo={US:"United States",RU:"Russia",CN:"China",UA:"Ukraine",IR:"Iran",IL:"Israel",TW:"Taiwan",KP:"North Korea",SA:"Saudi Arabia",TR:"Turkey",PL:"Poland",DE:"Germany",FR:"France",GB:"United Kingdom",IN:"India",PK:"Pakistan",SY:"Syria",YE:"Yemen",MM:"Myanmar",VE:"Venezuela"},go={TREND_DIRECTION_RISING:"rising",TREND_DIRECTION_STABLE:"stable",TREND_DIRECTION_FALLING:"falling"},tS={SEVERITY_LEVEL_HIGH:"high",SEVERITY_LEVEL_MEDIUM:"medium",SEVERITY_LEVEL_LOW:"low"};function fo(t){return t>=70?"critical":t>=55?"high":t>=40?"elevated":t>=25?"normal":"low"}function aS(t){var a,e,n,i;return{code:t.region,name:yo[t.region]||t.region,score:t.combinedScore,level:fo(t.combinedScore),trend:go[t.trend]||"stable",change24h:t.dynamicScore,components:{unrest:((a=t.components)==null?void 0:a.ciiContribution)??0,conflict:((e=t.components)==null?void 0:e.geoConvergence)??0,security:((n=t.components)==null?void 0:n.militaryActivity)??0,information:((i=t.components)==null?void 0:i.newsActivity)??0},lastUpdated:t.computedAt?new Date(t.computedAt).toISOString():new Date().toISOString()}}function nS(t,a){const e=t[0],n=new Map(a.map(i=>[i.region,i]));return{score:(e==null?void 0:e.score)??0,level:tS[(e==null?void 0:e.level)??""]||"low",trend:go[(e==null?void 0:e.trend)??""]||"stable",lastUpdated:new Date().toISOString(),contributors:((e==null?void 0:e.factors)??[]).map(i=>{const s=n.get(i);return{country:yo[i]||i,code:i,score:(s==null?void 0:s.combinedScore)??0,level:s?fo(s.combinedScore):"low"}})}}function iS(t){return{cii:t.ciiScores.map(aS),strategicRisk:nS(t.strategicRisks,t.ciiScores),protestCount:0,computedAt:new Date().toISOString(),cached:!0}}const So="risk-scores:latest";let at=null,nt=null,vs=0;const sS=300*1e3;function un(){return new DOMException("The operation was aborted.","AbortError")}function ws(t,a){return a?a.aborted?Promise.reject(un()):new Promise((e,n)=>{const i=()=>{a.removeEventListener("abort",i),n(un())};a.addEventListener("abort",i,{once:!0}),t.then(s=>{a.removeEventListener("abort",i),e(s)},s=>{a.removeEventListener("abort",i),n(s)})}):t}async function rS(){const t=await ia(So);return(t==null?void 0:t.data)??null}async function oS(t){if(t!=null&&t.aborted)throw un();const a=Date.now();return at&&a-vs<sS?at:(nt||(nt=(async()=>{try{const e=await eS.getRiskScores({region:""}),n=iS(e);return at=n,vs=a,Uy(!0),sa(So,n),console.log("[CachedRiskScores] Loaded via sebuf RPC"),at}catch(e){if(e instanceof DOMException&&e.name==="AbortError")throw e;return console.error("[CachedRiskScores] Fetch error:",e),at??await rS()}finally{nt=null}})()),ws(nt,t))}class lb extends P{constructor(){super({id:"strategic-risk",title:u("panels.strategicRisk"),showCount:!1,trackActivity:!0,infoTooltip:u("components.strategicRisk.infoTooltip")});h(this,"overview",null);h(this,"alerts",[]);h(this,"convergenceAlerts",[]);h(this,"freshnessSummary",null);h(this,"refreshInterval",null);h(this,"unsubscribeFreshness",null);h(this,"onLocationClick");h(this,"usedCachedScores",!1);this.init()}async init(){this.showLoading();try{let e=null;this.unsubscribeFreshness=V.subscribe(()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.refresh()},500)}),await this.refresh(),this.startAutoRefresh()}catch(e){console.error("[StrategicRiskPanel] Init error:",e),this.showError(u("common.failedRiskOverview"))}}startAutoRefresh(){this.refreshInterval=setInterval(()=>this.refresh(),300*1e3)}async refresh(){this.freshnessSummary=V.getSummary(),this.convergenceAlerts=Ay(),this.overview=kg(this.convergenceAlerts),this.alerts=Mg(24);const{inLearning:e}=qi();if(this.usedCachedScores=!1,e){const n=await oS(this.signal);n&&n.strategicRisk&&(this.usedCachedScores=!0,console.log("[StrategicRiskPanel] Using cached scores from backend"))}!this.freshnessSummary||this.freshnessSummary.activeSources===0?this.setDataBadge("unavailable"):this.usedCachedScores?this.setDataBadge("cached"):this.setDataBadge("live"),this.render()}getScoreColor(e){return e>=70?E("--semantic-critical"):e>=50?E("--semantic-high"):e>=30?E("--semantic-elevated"):E("--semantic-normal")}getScoreLevel(e){return e>=70?u("components.strategicRisk.levels.critical"):e>=50?u("components.strategicRisk.levels.elevated"):e>=30?u("components.strategicRisk.levels.moderate"):u("components.strategicRisk.levels.low")}getTrendEmoji(e){switch(e){case"escalating":return"📈";case"de-escalating":return"📉";default:return"➡️"}}getTrendColor(e){switch(e){case"escalating":return E("--semantic-critical");case"de-escalating":return E("--semantic-normal");default:return E("--text-dim")}}getPriorityColor(e){switch(e){case"critical":return E("--semantic-critical");case"high":return E("--semantic-high");case"medium":return E("--semantic-elevated");case"low":return E("--semantic-normal")}}getPriorityEmoji(e){switch(e){case"critical":return"🔴";case"high":return"🟠";case"medium":return"🟡";case"low":return"🟢"}}getTypeEmoji(e){switch(e){case"convergence":return"🎯";case"cii_spike":return"📊";case"cascade":return"🔗";case"composite":return"⚠️";default:return"📍"}}renderInsufficientData(){const e=V.getAllSources(),n=e.filter(i=>i.requiredForRisk);return`
      <div class="strategic-risk-panel">
        <div class="risk-no-data">
          <div class="risk-no-data-icon">⚠️</div>
          <div class="risk-no-data-title">${u("components.strategicRisk.insufficientData")}</div>
          <div class="risk-no-data-desc">
            ${u("components.strategicRisk.unableToAssess")}<br>${u("components.strategicRisk.enableDataSources")}
          </div>
        </div>

        <div class="risk-section">
          <div class="risk-section-title">${u("components.strategicRisk.requiredDataSources")}</div>
          <div class="risk-sources">
            ${n.map(i=>this.renderSourceRow(i)).join("")}
          </div>
        </div>

        <div class="risk-section">
          <div class="risk-section-title">${u("components.strategicRisk.optionalSources")}</div>
          <div class="risk-sources">
            ${e.filter(i=>!i.requiredForRisk).slice(0,4).map(i=>this.renderSourceRow(i)).join("")}
          </div>
        </div>

        <div class="risk-actions">
          <button class="risk-action-btn risk-action-primary" data-action="enable-core">
            ${u("components.strategicRisk.enableCoreFeeds")}
          </button>
        </div>

        <div class="risk-footer">
          <span class="risk-updated">${u("components.strategicRisk.waitingForData")}</span>
          <button class="risk-refresh-btn">${u("components.strategicRisk.refresh")}</button>
        </div>
      </div>
    `}renderFullData(){if(!this.overview||!this.freshnessSummary)return"";const e=this.overview.compositeScore,n=this.getScoreColor(e),i=this.getScoreLevel(e),s=Math.round(e/100*270),{inLearning:r,remainingMinutes:o,progress:c}=qi();return`
      <div class="strategic-risk-panel">
        ${r&&!this.usedCachedScores?`<div class="risk-status-banner risk-status-learning">
          <span class="risk-status-icon">📊</span>
          <span class="risk-status-text">${u("components.strategicRisk.learningMode",{minutes:String(o)})}</span>
          <div class="learning-progress-mini">
            <div class="learning-bar" style="width: ${c}%"></div>
          </div>
        </div>`:""}

        <div class="risk-gauge">
          <div class="risk-score-container">
            <div class="risk-score-ring" style="--score-color: ${n}; --score-deg: ${s}deg;">
              <div class="risk-score-inner">
                <div class="risk-score" style="color: ${n}">${e}</div>
                <div class="risk-level" style="color: ${n}">${i}</div>
              </div>
            </div>
          </div>
          <div class="risk-trend-container">
            <span class="risk-trend-label">${u("components.strategicRisk.trend")}</span>
            <div class="risk-trend" style="color: ${this.getTrendColor(this.overview.trend)}">
              ${this.getTrendEmoji(this.overview.trend)} ${this.overview.trend==="escalating"?u("components.strategicRisk.trends.escalating"):this.overview.trend==="de-escalating"?u("components.strategicRisk.trends.deEscalating"):u("components.strategicRisk.trends.stable")}
            </div>
          </div>
        </div>

        ${this.renderMetrics()}
        ${this.renderTopRisks()}
        ${this.renderRecentAlerts()}

        <div class="risk-footer">
          <span class="risk-updated">${u("components.strategicRisk.updated",{time:this.overview.timestamp.toLocaleTimeString()})}</span>
          <button class="risk-refresh-btn">${u("components.strategicRisk.refresh")}</button>
        </div>
      </div>
    `}renderSourceRow(e){const n=V.getPanelIdForSource(e.id),i=V.getTimeSince(e.id);return`
      <div class="risk-source-row">
        <span class="risk-source-status" style="color: ${Tr(e.status)}">
          ${Er(e.status)}
        </span>
        <span class="risk-source-name">${w(e.name)}</span>
        <span class="risk-source-time">${e.status==="no_data"?u("components.strategicRisk.noData"):i}</span>
        ${n&&(e.status==="no_data"||e.status==="disabled")?`
          <button class="risk-source-enable" data-panel="${n}">${u("components.strategicRisk.enable")}</button>
        `:""}
      </div>
    `}renderMetrics(){if(!this.overview)return"";const e=Ng();return`
      <div class="risk-metrics">
        <div class="risk-metric">
          <span class="risk-metric-value">${this.overview.convergenceAlerts}</span>
          <span class="risk-metric-label">${u("components.strategicRisk.convergenceMetric")}</span>
        </div>
        <div class="risk-metric">
          <span class="risk-metric-value">${this.overview.avgCIIDeviation.toFixed(1)}</span>
          <span class="risk-metric-label">${u("components.strategicRisk.ciiDeviation")}</span>
        </div>
        <div class="risk-metric">
          <span class="risk-metric-value">${this.overview.infrastructureIncidents}</span>
          <span class="risk-metric-label">${u("components.strategicRisk.infraEvents")}</span>
        </div>
        <div class="risk-metric">
          <span class="risk-metric-value">${e.critical+e.high}</span>
          <span class="risk-metric-label">${u("components.strategicRisk.highAlerts")}</span>
        </div>
      </div>
    `}renderTopRisks(){if(!this.overview||this.overview.topRisks.length===0)return`<div class="risk-empty">${u("components.strategicRisk.noRisks")}</div>`;const e=this.overview.topConvergenceZones[0];return`
      <div class="risk-section">
        <div class="risk-section-title">${u("components.strategicRisk.topRisks")}</div>
        <div class="risk-list">
          ${this.overview.topRisks.map((n,i)=>i===0&&n.startsWith("Convergence:")&&e?`
                <div class="risk-item risk-item-clickable" data-lat="${e.lat}" data-lon="${e.lon}">
                  <span class="risk-rank">${i+1}.</span>
                  <span class="risk-text">${w(n)}</span>
                  <span class="risk-location-icon">↗</span>
                </div>
              `:`
              <div class="risk-item">
                <span class="risk-rank">${i+1}.</span>
                <span class="risk-text">${w(n)}</span>
              </div>
            `).join("")}
        </div>
      </div>
    `}renderRecentAlerts(){if(this.alerts.length===0)return"";const e=this.alerts.slice(0,5);return`
      <div class="risk-section">
        <div class="risk-section-title">${u("components.strategicRisk.recentAlerts",{count:String(this.alerts.length)})}</div>
        <div class="risk-alerts">
          ${e.map(n=>{const i=n.location&&n.location.lat&&n.location.lon,s=i?"risk-alert-clickable":"",r=i?`data-lat="${n.location.lat}" data-lon="${n.location.lon}"`:"";return`
              <div class="risk-alert ${s}" style="border-left: 3px solid ${this.getPriorityColor(n.priority)}" ${r}>
                <div class="risk-alert-header">
                  <span class="risk-alert-type">${this.getTypeEmoji(n.type)}</span>
                  <span class="risk-alert-priority">${this.getPriorityEmoji(n.priority)}</span>
                  <span class="risk-alert-title">${w(n.title)}</span>
                  ${i?'<span class="risk-location-icon">↗</span>':""}
                </div>
                <div class="risk-alert-summary">${w(n.summary)}</div>
                <div class="risk-alert-time">${this.formatTime(n.timestamp)}</div>
              </div>
            `}).join("")}
        </div>
      </div>
    `}formatTime(e){const i=new Date().getTime()-e.getTime(),s=Math.floor(i/6e4),r=Math.floor(s/60);return s<1?u("components.strategicRisk.time.justNow"):s<60?u("components.strategicRisk.time.minutesAgo",{count:String(s)}):r<24?u("components.strategicRisk.time.hoursAgo",{count:String(r)}):e.toLocaleDateString()}render(){if(this.freshnessSummary=V.getSummary(),!this.overview){this.showLoading();return}let e;const n=performance.now();this.freshnessSummary.overallStatus==="insufficient"&&n>6e4?e=this.renderInsufficientData():e=this.renderFullData(),this.content.innerHTML=e,this.attachEventListeners()}attachEventListeners(){const e=this.content.querySelector(".risk-refresh-btn");e&&e.addEventListener("click",()=>this.refresh()),this.content.querySelectorAll(".risk-source-enable").forEach(o=>{o.addEventListener("click",c=>{const l=c.target.dataset.panel;l&&this.emitEnablePanel(l)})}),this.content.querySelectorAll(".risk-action-btn").forEach(o=>{o.addEventListener("click",c=>{const l=c.target.dataset.action;l==="enable-core"?this.emitEnablePanels(["protests","intel","live-news"]):l==="enable-all"&&this.emitEnablePanels(["protests","intel","live-news","military","shipping"])})}),this.content.querySelectorAll(".risk-item-clickable").forEach(o=>{o.addEventListener("click",()=>{const c=parseFloat(o.dataset.lat||"0"),l=parseFloat(o.dataset.lon||"0");this.onLocationClick&&!isNaN(c)&&!isNaN(l)&&this.onLocationClick(c,l)})}),this.content.querySelectorAll(".risk-alert-clickable").forEach(o=>{o.addEventListener("click",()=>{const c=parseFloat(o.dataset.lat||"0"),l=parseFloat(o.dataset.lon||"0");this.onLocationClick&&!isNaN(c)&&!isNaN(l)&&this.onLocationClick(c,l)})})}emitEnablePanel(e){window.dispatchEvent(new CustomEvent("enable-panel",{detail:{panelId:e}}))}emitEnablePanels(e){e.forEach(n=>this.emitEnablePanel(n))}destroy(){this.refreshInterval&&clearInterval(this.refreshInterval),this.unsubscribeFreshness&&this.unsubscribeFreshness(),super.destroy()}getOverview(){return this.overview}getAlerts(){return this.alerts}setLocationClickHandler(e){this.onLocationClick=e}}class ub extends P{constructor(){super({id:"strategic-posture",title:u("panels.strategicPosture"),showCount:!1,trackActivity:!0,infoTooltip:u("components.strategicPosture.infoTooltip")});h(this,"postures",[]);h(this,"refreshInterval",null);h(this,"vesselTimeouts",[]);h(this,"loadingElapsedInterval",null);h(this,"loadingStartTime",0);h(this,"onLocationClick");h(this,"lastTimestamp","");h(this,"isStale",!1);this.init()}init(){this.showLoading(),this.fetchAndRender(),this.startAutoRefresh(),this.vesselTimeouts.push(setTimeout(()=>this.reaugmentVessels(),30*1e3)),this.vesselTimeouts.push(setTimeout(()=>this.reaugmentVessels(),60*1e3)),this.vesselTimeouts.push(setTimeout(()=>this.reaugmentVessels(),90*1e3)),this.vesselTimeouts.push(setTimeout(()=>this.reaugmentVessels(),120*1e3))}startAutoRefresh(){this.refreshInterval=setInterval(()=>this.fetchAndRender(),300*1e3)}async reaugmentVessels(){this.postures.length!==0&&(console.log("[StrategicPosturePanel] Re-augmenting with vessels..."),await this.augmentWithVessels(),this.render())}showLoading(){this.loadingStartTime=Date.now(),this.setContent(`
      <div class="posture-panel">
        <div class="posture-loading">
          <div class="posture-loading-radar">
            <div class="posture-radar-sweep"></div>
            <div class="posture-radar-dot"></div>
          </div>
          <div class="posture-loading-title">${u("components.strategicPosture.scanningTheaters")}</div>
          <div class="posture-loading-stages">
            <div class="posture-stage active">
              <span class="posture-stage-dot"></span>
              <span>${u("components.strategicPosture.positions")}</span>
            </div>
            <div class="posture-stage pending">
              <span class="posture-stage-dot"></span>
              <span>${u("components.strategicPosture.navalVesselsLoading")}</span>
            </div>
            <div class="posture-stage pending">
              <span class="posture-stage-dot"></span>
              <span>${u("components.strategicPosture.theaterAnalysis")}</span>
            </div>
          </div>
          <div class="posture-loading-tip">${u("components.strategicPosture.connectingStreams")}</div>
          <div class="posture-loading-elapsed">${u("components.strategicPosture.elapsed",{elapsed:"0"})}</div>
          <div class="posture-loading-note">${u("components.strategicPosture.initialLoadNote")}</div>
        </div>
      </div>
    `),this.startLoadingTimer()}startLoadingTimer(){this.loadingElapsedInterval&&clearInterval(this.loadingElapsedInterval),this.loadingElapsedInterval=setInterval(()=>{const e=Math.floor((Date.now()-this.loadingStartTime)/1e3),n=this.content.querySelector(".posture-loading-elapsed");n&&(n.textContent=u("components.strategicPosture.elapsed",{elapsed:String(e)}))},1e3)}stopLoadingTimer(){this.loadingElapsedInterval&&(clearInterval(this.loadingElapsedInterval),this.loadingElapsedInterval=null)}showLoadingStage(e){const n=this.content.querySelectorAll(".posture-stage");n.length!==0&&n.forEach((i,s)=>{i.classList.remove("active","complete"),e==="aircraft"&&s===0?i.classList.add("active"):e==="vessels"?s===0?i.classList.add("complete"):s===1&&i.classList.add("active"):e==="analysis"&&(s<=1?i.classList.add("complete"):s===2&&i.classList.add("active"))})}async fetchAndRender(){try{this.showLoadingStage("aircraft");const e=await Yg(this.signal);if(!e||e.postures.length===0){this.showNoData();return}this.postures=e.postures.map(n=>({...n,byOperator:{...n.byOperator}})),this.lastTimestamp=e.timestamp,this.isStale=e.stale||!1,this.showLoadingStage("vessels"),await this.augmentWithVessels(),this.showLoadingStage("analysis"),this.updateBadges(),this.render(),this.isStale&&setTimeout(()=>this.fetchAndRender(),3e3)}catch(e){if(this.isAbortError(e))return;console.error("[StrategicPosturePanel] Fetch error:",e),this.showFetchError()}}async augmentWithVessels(){try{const{vessels:e}=await qh();if(console.log(`[StrategicPosturePanel] Got ${e.length} total military vessels`),e.length===0){this.restoreVesselCounts(),Na(this.postures);return}for(const n of this.postures){if(!n.bounds)continue;const i=e.filter(s=>s.lat>=n.bounds.south&&s.lat<=n.bounds.north&&s.lon>=n.bounds.west&&s.lon<=n.bounds.east);n.destroyers=i.filter(s=>s.vesselType==="destroyer").length,n.frigates=i.filter(s=>s.vesselType==="frigate").length,n.carriers=i.filter(s=>s.vesselType==="carrier").length,n.submarines=i.filter(s=>s.vesselType==="submarine").length,n.patrol=i.filter(s=>s.vesselType==="patrol").length,n.auxiliaryVessels=i.filter(s=>s.vesselType==="auxiliary"||s.vesselType==="special"||s.vesselType==="amphibious"||s.vesselType==="icebreaker"||s.vesselType==="research"||s.vesselType==="unknown").length,n.totalVessels=i.length,i.length>0&&console.log(`[StrategicPosturePanel] ${n.shortName}: ${i.length} vessels`,i.map(s=>s.vesselType));for(const s of i){const r=s.operator||"unknown";n.byOperator[r]=(n.byOperator[r]||0)+1}}this.cacheVesselCounts(),Na(this.postures),console.log("[StrategicPosturePanel] Augmented with",e.length,"vessels, posture levels recalculated")}catch(e){console.warn("[StrategicPosturePanel] Failed to fetch vessels:",e),this.restoreVesselCounts(),Na(this.postures)}}cacheVesselCounts(){try{const e={};for(const n of this.postures)n.totalVessels>0&&(e[n.theaterId]={destroyers:n.destroyers||0,frigates:n.frigates||0,carriers:n.carriers||0,submarines:n.submarines||0,patrol:n.patrol||0,auxiliaryVessels:n.auxiliaryVessels||0,totalVessels:n.totalVessels||0});localStorage.setItem("wm:vesselPosture",JSON.stringify({counts:e,ts:Date.now()}))}catch{}}restoreVesselCounts(){try{const e=localStorage.getItem("wm:vesselPosture");if(!e)return;const{counts:n,ts:i}=JSON.parse(e);if(Date.now()-i>1800*1e3)return;for(const s of this.postures){const r=n[s.theaterId];r&&(s.destroyers=r.destroyers,s.frigates=r.frigates,s.carriers=r.carriers,s.submarines=r.submarines,s.patrol=r.patrol,s.auxiliaryVessels=r.auxiliaryVessels,s.totalVessels=r.totalVessels)}console.log("[StrategicPosturePanel] Restored cached vessel counts")}catch{}}updatePostures(e){if(!e||e.postures.length===0){this.showNoData();return}this.postures=e.postures.map(n=>({...n,byOperator:{...n.byOperator}})),this.lastTimestamp=e.timestamp,this.isStale=e.stale||!1,this.augmentWithVessels().then(()=>{this.updateBadges(),this.render()})}updateBadges(){const e=this.postures.some(i=>i.postureLevel==="critical"),n=this.postures.some(i=>i.postureLevel==="elevated");e?this.setNewBadge(1,!0):n?this.setNewBadge(1,!1):this.clearNewBadge()}refresh(){this.fetchAndRender()}showNoData(){var e;this.stopLoadingTimer(),this.setContent(`
      <div class="posture-panel">
        <div class="posture-no-data">
          <div class="posture-no-data-icon pulse">📡</div>
          <div class="posture-no-data-title">${u("components.strategicPosture.acquiringData")}</div>
          <div class="posture-no-data-desc">
            ${u("components.strategicPosture.acquiringDesc")}
          </div>
          <div class="posture-data-sources">
            <div class="posture-source">
              <span class="posture-source-icon connecting">✈️</span>
              <span>${u("components.strategicPosture.openSkyAdsb")}</span>
            </div>
            <div class="posture-source">
              <span class="posture-source-icon waiting">🚢</span>
              <span>${u("components.strategicPosture.aisVesselStream")}</span>
            </div>
          </div>
          <button class="posture-retry-btn">↻ ${u("components.strategicPosture.retryNow")}</button>
        </div>
      </div>
    `),(e=this.content.querySelector(".posture-retry-btn"))==null||e.addEventListener("click",()=>this.refresh())}showFetchError(){var e;this.stopLoadingTimer(),this.setContent(`
      <div class="posture-panel">
        <div class="posture-no-data">
          <div class="posture-no-data-icon">⚠️</div>
          <div class="posture-no-data-title">${u("components.strategicPosture.feedRateLimited")}</div>
          <div class="posture-no-data-desc">
            ${u("components.strategicPosture.rateLimitedDesc")}
          </div>
          <div class="posture-error-hint">
            <strong>${u("components.strategicPosture.rateLimitedTip")}</strong>
          </div>
          <button class="posture-retry-btn">↻ ${u("components.strategicPosture.tryAgain")}</button>
        </div>
      </div>
    `),(e=this.content.querySelector(".posture-retry-btn"))==null||e.addEventListener("click",()=>this.refresh())}getPostureBadge(e){switch(e){case"critical":return`<span class="posture-badge posture-critical">${u("components.strategicPosture.badges.critical")}</span>`;case"elevated":return`<span class="posture-badge posture-elevated">${u("components.strategicPosture.badges.elevated")}</span>`;default:return`<span class="posture-badge posture-normal">${u("components.strategicPosture.badges.normal")}</span>`}}getTrendIcon(e,n){switch(e){case"increasing":return`<span class="posture-trend trend-up">↗ +${n}%</span>`;case"decreasing":return`<span class="posture-trend trend-down">↘ ${n}%</span>`;default:return`<span class="posture-trend trend-stable">→ ${u("components.strategicPosture.trendStable")}</span>`}}theaterDisplayName(e){const n=`components.strategicPosture.theaters.${e.theaterId}`,i=u(n);return i!==n?i:e.theaterName}renderTheater(e){const n=e.postureLevel!=="normal",i=this.theaterDisplayName(e);if(!n){const l=[];return e.totalAircraft>0&&l.push(`<span class="posture-chip air">✈️ ${e.totalAircraft}</span>`),e.totalVessels>0&&l.push(`<span class="posture-chip naval">⚓ ${e.totalVessels}</span>`),`
        <div class="posture-theater posture-compact" data-lat="${e.centerLat}" data-lon="${e.centerLon}" title="${u("components.strategicPosture.clickToView",{name:w(i)})}">
          <span class="posture-name">${w(e.shortName)}</span>
          <div class="posture-chips">${l.join("")}</div>
          ${this.getPostureBadge(e.postureLevel)}
        </div>
      `}const s=[];e.fighters>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.fighters")}">✈️ ${e.fighters}</span>`),e.tankers>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.tankers")}">⛽ ${e.tankers}</span>`),e.awacs>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.awacs")}">📡 ${e.awacs}</span>`),e.reconnaissance>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.recon")}">🔍 ${e.reconnaissance}</span>`),e.transport>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.transport")}">📦 ${e.transport}</span>`),e.bombers>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.bombers")}">💣 ${e.bombers}</span>`),e.drones>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.drones")}">🛸 ${e.drones}</span>`),s.length===0&&e.totalAircraft>0&&s.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.aircraft")}">✈️ ${e.totalAircraft}</span>`);const r=[];e.carriers>0&&r.push(`<span class="posture-stat carrier" title="${u("components.strategicPosture.units.carriers")}">🚢 ${e.carriers}</span>`),e.destroyers>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.destroyers")}">⚓ ${e.destroyers}</span>`),e.frigates>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.frigates")}">🛥️ ${e.frigates}</span>`),e.submarines>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.submarines")}">🦈 ${e.submarines}</span>`),e.patrol>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.patrol")}">🚤 ${e.patrol}</span>`),e.auxiliaryVessels>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.auxiliary")}">⚓ ${e.auxiliaryVessels}</span>`),r.length===0&&e.totalVessels>0&&r.push(`<span class="posture-stat" title="${u("components.strategicPosture.units.navalVessels")}">⚓ ${e.totalVessels}</span>`);const o=s.length>0,c=r.length>0;return`
      <div class="posture-theater posture-expanded ${e.postureLevel}" data-lat="${e.centerLat}" data-lon="${e.centerLon}" title="${u("components.strategicPosture.clickToViewMap")}">
        <div class="posture-theater-header">
          <span class="posture-name">${w(i)}</span>
          ${this.getPostureBadge(e.postureLevel)}
        </div>

        <div class="posture-forces">
          ${o?`<div class="posture-force-row"><span class="posture-domain">${u("components.strategicPosture.domains.air")}</span><div class="posture-stats">${s.join("")}</div></div>`:""}
          ${c?`<div class="posture-force-row"><span class="posture-domain">${u("components.strategicPosture.domains.sea")}</span><div class="posture-stats">${r.join("")}</div></div>`:""}
        </div>

        <div class="posture-footer">
          ${e.strikeCapable?`<span class="posture-strike">⚡ ${u("components.strategicPosture.strike")}</span>`:""}
          ${this.getTrendIcon(e.trend,e.changePercent)}
          ${e.targetNation?`<span class="posture-focus">→ ${w(e.targetNation)}</span>`:""}
        </div>
      </div>
    `}render(){this.stopLoadingTimer();const e=[...this.postures].sort((r,o)=>{const c={critical:0,elevated:1,normal:2};return(c[r.postureLevel]??2)-(c[o.postureLevel]??2)}),n=this.lastTimestamp?new Date(this.lastTimestamp).toLocaleTimeString():new Date().toLocaleTimeString(),s=`
      <div class="posture-panel">
        ${this.isStale?`<div class="posture-stale-warning">⚠️ ${u("components.strategicPosture.staleWarning")}</div>`:""}
        ${e.map(r=>this.renderTheater(r)).join("")}

        <div class="posture-footer">
          <span class="posture-updated">${this.isStale?"⚠️ ":""}${u("components.strategicPosture.updated")} ${n}</span>
          <button class="posture-refresh-btn" title="${u("components.strategicPosture.refresh")}">↻</button>
        </div>
      </div>
    `;this.setContent(s),this.attachEventListeners()}attachEventListeners(){var n;(n=this.content.querySelector(".posture-refresh-btn"))==null||n.addEventListener("click",()=>{this.refresh()}),this.content.querySelectorAll(".posture-theater").forEach(i=>{i.addEventListener("click",()=>{var o;const s=parseFloat(i.dataset.lat||"0"),r=parseFloat(i.dataset.lon||"0");console.log("[StrategicPosturePanel] Theater clicked:",{lat:s,lon:r,dataLat:i.dataset.lat,dataLon:i.dataset.lon,element:(o=i.textContent)==null?void 0:o.slice(0,30),hasHandler:!!this.onLocationClick}),this.onLocationClick&&!isNaN(s)&&!isNaN(r)?(console.log("[StrategicPosturePanel] Calling onLocationClick with:",s,r),this.onLocationClick(s,r)):console.warn("[StrategicPosturePanel] No handler or invalid coords!",{hasHandler:!!this.onLocationClick,lat:s,lon:r})})})}setLocationClickHandler(e){console.log("[StrategicPosturePanel] setLocationClickHandler called, handler:",typeof e),this.onLocationClick=e,console.log("[StrategicPosturePanel] Handler stored, onLocationClick now:",typeof this.onLocationClick)}getPostures(){return this.postures}destroy(){this.refreshInterval&&clearInterval(this.refreshInterval),this.stopLoadingTimer(),this.vesselTimeouts.forEach(e=>clearTimeout(e)),this.vesselTimeouts=[],super.destroy()}}const cS=new Fr("",{fetch:fetch.bind(globalThis)});class db extends P{constructor(e){super({id:e,title:u("panels.events"),showCount:!0});h(this,"viewMode","upcoming");h(this,"events",[]);h(this,"loading",!0);h(this,"error",null);this.element.classList.add("panel-tall"),this.fetchEvents()}async fetchEvents(){this.loading=!0,this.error=null,this.render();try{const e=await cS.listTechEvents({type:"",mappable:!1,days:180,limit:100});if(!e.success)throw new Error(e.error||"Unknown error");this.events=e.events,this.setCount(e.conferenceCount)}catch(e){if(this.isAbortError(e))return;this.error=e instanceof Error?e.message:"Failed to fetch events",console.error("[TechEvents] Fetch error:",e)}finally{this.loading=!1,this.render()}}render(){if(this.loading){U(this.content,S("div",{className:"tech-events-loading"},S("div",{className:"loading-spinner"}),S("span",null,u("components.techEvents.loading"))));return}if(this.error){U(this.content,S("div",{className:"tech-events-error"},S("span",{className:"error-icon"},"⚠️"),S("span",{className:"error-text"},this.error),S("button",{className:"retry-btn",onClick:()=>this.refresh()},u("common.retry"))));return}const e=this.getFilteredEvents(),n=this.events.filter(r=>r.type==="conference"&&new Date(r.startDate)>=new Date),i=n.filter(r=>r.coords&&!r.coords.virtual).length,s=[["upcoming",u("components.techEvents.upcoming")],["conferences",u("components.techEvents.conferences")],["earnings",u("components.techEvents.earnings")],["all",u("components.techEvents.all")]];U(this.content,S("div",{className:"tech-events-panel"},S("div",{className:"tech-events-tabs"},...s.map(([r,o])=>S("button",{className:`tab ${this.viewMode===r?"active":""}`,dataset:{view:r},onClick:()=>{this.viewMode=r,this.render()}},o))),S("div",{className:"tech-events-stats"},S("span",{className:"stat"},`📅 ${u("components.techEvents.conferencesCount",{count:String(n.length)})}`),S("span",{className:"stat"},`📍 ${u("components.techEvents.onMap",{count:String(i)})}`),S("a",{href:"https://www.techmeme.com/events",target:"_blank",rel:"noopener",className:"source-link"},u("components.techEvents.techmemeEvents"))),S("div",{className:"tech-events-list"},...e.length>0?e.map(r=>this.buildEvent(r)):[S("div",{className:"empty-state"},u("components.techEvents.noEvents"))])))}getFilteredEvents(){const e=new Date,n=new Date(e.getTime()+720*60*60*1e3);switch(this.viewMode){case"upcoming":return this.events.filter(i=>{const s=new Date(i.startDate);return s>=e&&s<=n}).slice(0,20);case"conferences":return this.events.filter(i=>i.type==="conference"&&new Date(i.startDate)>=e).slice(0,30);case"earnings":return this.events.filter(i=>i.type==="earnings"&&new Date(i.startDate)>=e).slice(0,30);case"all":return this.events.filter(i=>new Date(i.startDate)>=e).slice(0,50);default:return[]}}buildEvent(e){const n=new Date(e.startDate),i=new Date(e.endDate),s=new Date,r=n.toDateString()===s.toDateString(),o=!r&&n<=new Date(s.getTime()+2880*60*1e3),c=n<=new Date(s.getTime()+10080*60*1e3),l=n.toLocaleDateString("en-US",{month:"short",day:"numeric"}),d=i>n&&i.toDateString()!==n.toDateString()?` - ${i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"",m={conference:"🎤",earnings:"📊",ipo:"🔔",other:"📌"},f=["tech-event",{conference:"type-conference",earnings:"type-earnings",ipo:"type-ipo",other:"type-other"}[e.type],r?"is-today":"",o?"is-soon":"",c?"is-this-week":""].filter(Boolean).join(" "),g=Re(e.url||"");return S("div",{className:f},S("div",{className:"event-date"},S("span",{className:"event-month"},n.toLocaleDateString("en-US",{month:"short"}).toUpperCase()),S("span",{className:"event-day"},String(n.getDate())),r?S("span",{className:"today-badge"},u("components.techEvents.today")):!1,o?S("span",{className:"soon-badge"},u("components.techEvents.soon")):!1),S("div",{className:"event-content"},S("div",{className:"event-header"},S("span",{className:"event-icon"},m[e.type]??"📌"),S("span",{className:"event-title"},e.title),g?S("a",{href:g,target:"_blank",rel:"noopener",className:"event-url",title:u("components.techEvents.moreInfo")},"↗"):!1),S("div",{className:"event-meta"},S("span",{className:"event-dates"},`${l}${d}`),e.location?S("span",{className:"event-location"},e.location):!1,e.coords&&!e.coords.virtual?S("button",{className:"event-map-link",title:u("components.techEvents.showOnMap"),onClick:v=>{v.preventDefault(),this.panToLocation(e.coords.lat,e.coords.lng)}},"📍"):!1)))}panToLocation(e,n){window.dispatchEvent(new CustomEvent("tech-event-location",{detail:{lat:e,lng:n,zoom:10}}))}refresh(){this.fetchEvents()}getConferencesForMap(){return this.events.filter(e=>e.type==="conference"&&e.coords&&!e.coords.virtual&&new Date(e.startDate)>=new Date)}}const bs=["aiOllama","aiGroq","aiOpenRouter","economicFred","internetOutages","acledConflicts","abuseChThreatIntel","alienvaultOtxThreatIntel","abuseIpdbThreatIntel","aisRelay","openskyRelay","wingbitsEnrichment","energyEia"],lS=[{id:"live-news",panel:"LiveNewsPanel",serviceFiles:["src/services/live-news.ts"],apiRoutes:["/api/youtube/live"],apiHandlers:["api/youtube/live.js"],locality:"fully-local",fallback:"Channel fallback video IDs are used when live detection fails.",priority:1},{id:"monitor",panel:"MonitorPanel",serviceFiles:[],apiRoutes:[],apiHandlers:[],locality:"fully-local",fallback:"Keyword monitoring runs fully client-side on loaded news corpus.",priority:1},{id:"strategic-risk",panel:"StrategicRiskPanel",serviceFiles:["src/services/cached-risk-scores.ts"],apiRoutes:["/api/risk-scores"],apiHandlers:["api/risk-scores.js"],locality:"api-key",fallback:"Panel stays available with local aggregate scoring when cached backend scores are unavailable.",priority:1},{id:"map-layers-core",panel:"Map layers (conflicts/outages/cyber/ais/flights)",serviceFiles:["src/services/conflict/index.ts","src/services/infrastructure/index.ts","src/services/cyber/index.ts","src/services/maritime/index.ts","src/services/military-flights.ts"],apiRoutes:["/api/conflict/v1/list-acled-events","/api/infrastructure/v1/list-internet-outages","/api/cyber/v1/list-cyber-threats","/api/maritime/v1/get-vessel-snapshot","/api/military/v1/list-military-flights"],apiHandlers:["server/worldmonitor/conflict/v1/handler.ts","server/worldmonitor/infrastructure/v1/handler.ts","server/worldmonitor/cyber/v1/handler.ts","server/worldmonitor/maritime/v1/handler.ts","server/worldmonitor/military/v1/handler.ts"],locality:"api-key",fallback:"Unavailable feeds are disabled while map rendering remains active for local/static layers.",priority:1},{id:"summaries",panel:"Summaries",serviceFiles:["src/services/summarization.ts"],apiRoutes:["/api/news/v1/summarize-article"],apiHandlers:["server/worldmonitor/news/v1/handler.ts"],locality:"api-key",fallback:"Browser summarizer executes when hosted LLM providers are unavailable.",priority:2},{id:"market-panel",panel:"MarketPanel",serviceFiles:["src/services/market/index.ts","src/services/prediction/index.ts"],apiRoutes:["/api/market/v1/list-crypto-quotes","/api/market/v1/list-stablecoin-markets","/api/market/v1/list-etf-flows"],apiHandlers:["server/worldmonitor/market/v1/handler.ts"],locality:"fully-local",fallback:"Multi-source market fetchers degrade to remaining providers and cached values.",priority:2},{id:"wingbits-enrichment",panel:"Map layers (flight enrichment)",serviceFiles:["src/services/wingbits.ts"],apiRoutes:["/api/military/v1/get-aircraft-details","/api/military/v1/get-aircraft-details-batch","/api/military/v1/get-wingbits-status"],apiHandlers:["server/worldmonitor/military/v1/handler.ts"],locality:"api-key",fallback:"Flight tracks continue with heuristic classification when Wingbits credentials are unavailable.",priority:3},{id:"opensky-relay-cloud",panel:"Map layers (military flights relay)",serviceFiles:["src/services/military-flights.ts"],apiRoutes:["/api/military/v1/list-military-flights"],apiHandlers:["server/worldmonitor/military/v1/handler.ts"],locality:"cloud-fallback",fallback:"If relay is unreachable, service falls back to Vercel proxy path and then no-data mode.",priority:3}];function uS(){return lS.filter(t=>t.locality!=="fully-local")}function dS(t){const a=B("aisRelay")||B("openskyRelay");return[{id:"startup",label:"Desktop startup + sidecar API health",ready:t},{id:"map",label:"Map rendering (local layers + static geo assets)",ready:!0},{id:"core-intel",label:"Core intelligence panels (Live News, Monitor, Strategic Risk)",ready:!0},{id:"summaries",label:"Summaries (provider-backed or browser fallback)",ready:B("aiOllama")||B("aiGroq")||B("aiOpenRouter")},{id:"market",label:"Market panel live data paths",ready:!0},{id:"live-tracking",label:"At least one live-tracking mode (AIS or OpenSky)",ready:a}]}function pS(){return{available:bs.filter(a=>B(a)).length,total:bs.length}}function mS(t){return{all:u("components.serviceStatus.categories.all"),cloud:u("components.serviceStatus.categories.cloud"),dev:u("components.serviceStatus.categories.dev"),comm:u("components.serviceStatus.categories.comm"),ai:u("components.serviceStatus.categories.ai"),saas:u("components.serviceStatus.categories.saas")}[t]}class pb extends P{constructor(){super({id:"service-status",title:u("panels.serviceStatus"),showCount:!1});h(this,"services",[]);h(this,"loading",!0);h(this,"error",null);h(this,"filter","all");h(this,"refreshInterval",null);h(this,"localBackend",null);this.fetchStatus(),this.refreshInterval=setInterval(()=>this.fetchStatus(),6e4)}destroy(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null),super.destroy()}async fetchStatus(){try{const e=await op();if(!e.success)throw new Error("Failed to load status");this.services=e.services,this.error=null}catch(e){if(this.isAbortError(e))return;this.error=e instanceof Error?e.message:"Failed to fetch",console.error("[ServiceStatus] Fetch error:",e)}finally{this.loading=!1,this.render()}}setFilter(e){this.filter=e,this.render()}getFilteredServices(){return this.filter==="all"?this.services:this.services.filter(e=>e.category===this.filter)}render(){if(this.loading){U(this.content,S("div",{className:"service-status-loading"},S("div",{className:"loading-spinner"}),S("span",null,u("components.serviceStatus.checkingServices"))));return}if(this.error){U(this.content,S("div",{className:"service-status-error"},S("span",{className:"error-text"},this.error),S("button",{className:"retry-btn",onClick:()=>{this.loading=!0,this.render(),this.fetchStatus()}},u("common.retry"))));return}const e=this.getFilteredServices(),n=e.filter(i=>i.status!=="operational");U(this.content,this.buildBackendStatus(),this.buildDesktopReadiness(),this.buildSummary(e),this.buildFilters(),S("div",{className:"service-status-list"},...this.buildServiceItems(e)),n.length===0?S("div",{className:"all-operational"},u("components.serviceStatus.allOperational")):!1)}buildBackendStatus(){var i;if(!R())return!1;if(!((i=this.localBackend)!=null&&i.enabled))return S("div",{className:"service-status-backend warning"},u("components.serviceStatus.backendUnavailable"));const e=this.localBackend.port??46123,n=this.localBackend.remoteBase??"https://worldmonitor.app";return S("div",{className:"service-status-backend"},"Local backend active on ",S("strong",null,`127.0.0.1:${e}`)," · cloud fallback: ",S("strong",null,n))}buildSummary(e){const n=e.filter(r=>r.status==="operational").length,i=e.filter(r=>r.status==="degraded").length,s=e.filter(r=>r.status==="outage").length;return S("div",{className:"service-status-summary"},S("div",{className:"summary-item operational"},S("span",{className:"summary-count"},String(n)),S("span",{className:"summary-label"},u("components.serviceStatus.ok"))),S("div",{className:"summary-item degraded"},S("span",{className:"summary-count"},String(i)),S("span",{className:"summary-label"},u("components.serviceStatus.degraded"))),S("div",{className:"summary-item outage"},S("span",{className:"summary-count"},String(s)),S("span",{className:"summary-label"},u("components.serviceStatus.outage"))))}buildDesktopReadiness(){var s;if(!R())return!1;const e=dS(!!((s=this.localBackend)!=null&&s.enabled)),n=pS(),i=uS();return S("div",{className:"service-status-desktop-readiness"},S("div",{className:"service-status-desktop-title"},u("components.serviceStatus.desktopReadiness")),S("div",{className:"service-status-desktop-subtitle"},u("components.serviceStatus.acceptanceChecks",{ready:String(e.filter(r=>r.ready).length),total:String(e.length),available:String(n.available),featureTotal:String(n.total)})),S("ul",{className:"service-status-desktop-list"},...e.map(r=>S("li",null,`${r.ready?"✅":"⚠️"} ${r.label}`))),S("details",{className:"service-status-non-parity"},S("summary",null,u("components.serviceStatus.nonParityFallbacks",{count:String(i.length)})),S("ul",null,...i.map(r=>S("li",null,S("strong",null,r.panel),`: ${r.fallback}`)))))}buildFilters(){return S("div",{className:"service-status-filters"},...["all","cloud","dev","comm","ai","saas"].map(n=>S("button",{className:`status-filter-btn ${this.filter===n?"active":""}`,dataset:{filter:n},onClick:()=>this.setFilter(n)},mS(n))))}buildServiceItems(e){return e.map(n=>S("div",{className:`service-status-item ${n.status}`},S("span",{className:"status-icon"},this.getStatusIcon(n.status)),S("span",{className:"status-name"},n.name),S("span",{className:`status-badge ${n.status}`},n.status.toUpperCase())))}getStatusIcon(e){switch(e){case"operational":return"●";case"degraded":return"◐";case"outage":return"○";default:return"?"}}}const hS={GROQ_API_KEY:"https://console.groq.com/keys",OPENROUTER_API_KEY:"https://openrouter.ai/settings/keys",FRED_API_KEY:"https://fred.stlouisfed.org/docs/api/api_key.html",EIA_API_KEY:"https://www.eia.gov/opendata/register.php",CLOUDFLARE_API_TOKEN:"https://dash.cloudflare.com/profile/api-tokens",ACLED_ACCESS_TOKEN:"https://developer.acleddata.com/",URLHAUS_AUTH_KEY:"https://auth.abuse.ch/",OTX_API_KEY:"https://otx.alienvault.com/",ABUSEIPDB_API_KEY:"https://www.abuseipdb.com/login",WINGBITS_API_KEY:"https://wingbits.com/register",AISSTREAM_API_KEY:"https://aisstream.io/authenticate",OPENSKY_CLIENT_ID:"https://opensky-network.org/login?view=registration",OPENSKY_CLIENT_SECRET:"https://opensky-network.org/login?view=registration",FINNHUB_API_KEY:"https://finnhub.io/register",NASA_FIRMS_API_KEY:"https://firms.modaps.eosdis.nasa.gov/api/area/",UC_DP_KEY:"https://ucdp.uu.se/downloads/",OLLAMA_API_URL:"https://ollama.com/download",OLLAMA_MODEL:"https://ollama.com/library"},it=new Set(["OLLAMA_API_URL","OLLAMA_MODEL","WS_RELAY_URL","VITE_OPENSKY_RELAY_URL"]),Oe="__WM_MASKED__";class dn extends P{constructor(e={}){super({id:"runtime-config",title:u("modals.runtimeConfig.title"),showCount:!1});h(this,"unsubscribe",null);h(this,"mode");h(this,"buffered");h(this,"featureFilter");h(this,"pendingSecrets",new Map);h(this,"validatedKeys",new Map);h(this,"validationMessages",new Map);this.mode=e.mode??(R()?"alert":"full"),this.buffered=e.buffered??!1,this.featureFilter=e.featureFilter,this.unsubscribe=Ks(()=>this.render()),this.render()}async commitPendingSecrets(){for(const[e,n]of this.pendingSecrets)await Ut(e,n);this.pendingSecrets.clear(),this.validatedKeys.clear(),this.validationMessages.clear()}async commitVerifiedSecrets(){for(const[e,n]of this.pendingSecrets)this.validatedKeys.get(e)!==!1&&(await Ut(e,n),this.pendingSecrets.delete(e),this.validatedKeys.delete(e),this.validationMessages.delete(e))}hasPendingChanges(){return this.pendingSecrets.size>0}getFilteredFeatures(){return this.featureFilter?ue.filter(e=>this.featureFilter.includes(e.id)):ue}getMissingRequiredSecrets(){const e=[];for(const n of this.getFilteredFeatures()){if(!Gt(n.id))continue;const i=st(n);if(i.some(r=>this.pendingSecrets.has(r)))for(const r of i)!Be(r).valid&&!this.pendingSecrets.has(r)&&e.push(r)}return e}getValidationErrors(){const e=[];for(const[n,i]of this.pendingSecrets){const s=de(n,i);s.valid||e.push(`${n}: ${s.hint||"Invalid format"}`)}return e}async verifyPendingSecrets(){this.captureUnsavedInputs();const e=[],n=Object.fromEntries(this.pendingSecrets.entries()),i=[];for(const[s,r]of this.pendingSecrets){const o=de(s,r);o.valid?i.push([s,r]):(this.validatedKeys.set(s,!1),this.validationMessages.set(s,o.hint||"Invalid format"),e.push(`${s}: ${o.hint||"Invalid format"}`))}if(i.length>0){const s=await Promise.race([Promise.all(i.map(async([r,o])=>{const c=await Js(r,o,n);return{key:r,result:c}})),new Promise(r=>setTimeout(()=>r(i.map(([o])=>({key:o,result:{valid:!0,message:"Saved (verification timed out)"}}))),15e3))]);for(const{key:r,result:o}of s)this.validatedKeys.set(r,o.valid),o.valid?this.validationMessages.delete(r):(this.validationMessages.set(r,o.message||"Verification failed"),e.push(`${r}: ${o.message||"Verification failed"}`))}return this.pendingSecrets.size>0&&this.render(),e}destroy(){var e;(e=this.unsubscribe)==null||e.call(this),this.unsubscribe=null}captureUnsavedInputs(){if(!this.buffered)return;this.content.querySelectorAll("input[data-secret]").forEach(s=>{var l;const r=s.dataset.secret;if(!r)return;const o=s.value.trim();if(!o||o===Oe)return;if(it.has(r)&&!this.pendingSecrets.has(r)){const d=((l=Ce().secrets[r])==null?void 0:l.value)||"";if(o===d)return}this.pendingSecrets.set(r,o);const c=de(r,o);c.valid||(this.validatedKeys.set(r,!1),this.validationMessages.set(r,c.hint||"Invalid format"))});const e=this.content.querySelector("select[data-model-select]"),n=this.content.querySelector("input[data-model-manual]"),i=(n&&!n.classList.contains("hidden-input")?n.value.trim():e==null?void 0:e.value)||"";i&&!this.pendingSecrets.has("OLLAMA_MODEL")&&(this.pendingSecrets.set("OLLAMA_MODEL",i),this.validatedKeys.set("OLLAMA_MODEL",!0))}render(){this.captureUnsavedInputs();const e=Ce(),n=R(),i=this.getFilteredFeatures();if(n&&this.mode==="alert"){const s=ue.length,r=ue.filter(m=>B(m.id)).length,o=Math.max(0,s-r),c=Object.keys(e.secrets).length;if(o===0&&c>=s){this.hide();return}const l=c>0?o>0?u("modals.runtimeConfig.alertTitle.some"):u("modals.runtimeConfig.alertTitle.configured"):u("modals.runtimeConfig.alertTitle.needsKeys"),d=o>0?"warn":"ok";this.show(),this.content.innerHTML=`
        <section class="runtime-alert runtime-alert-${d}">
          <h3>${l}</h3>
          <p>
            ${r}/${s} ${u("modals.runtimeConfig.summary.available")}${c>0?` · ${c} ${u("modals.runtimeConfig.summary.secrets")}`:""}.
          </p>
          <p class="runtime-alert-skip">${u("modals.runtimeConfig.skipSetup")}</p>
          <button type="button" class="runtime-open-settings-btn" data-open-settings>
            ${u("modals.runtimeConfig.openSettings")}
          </button>
        </section>
      `,this.attachListeners();return}this.content.innerHTML=`
      <div class="runtime-config-summary">
        ${u(n?"modals.runtimeConfig.summary.desktop":"modals.runtimeConfig.summary.web")} · ${i.filter(s=>B(s.id)).length}/${i.length} ${u("modals.runtimeConfig.summary.available")}
      </div>
      <div class="runtime-config-list">
        ${i.map(s=>this.renderFeature(s)).join("")}
      </div>
    `,this.attachListeners()}renderFeature(e){const n=Gt(e.id),i=B(e.id),s=st(e),r=!i&&s.every(y=>Be(y).valid||this.pendingSecrets.has(y)&&this.validatedKeys.get(y)!==!1),o=i?"ok":r?"staged":"warn",c=u(i?"modals.runtimeConfig.status.ready":r?"modals.runtimeConfig.status.staged":"modals.runtimeConfig.status.needsKeys"),l=s.map(y=>this.renderSecretRow(y)).join(""),d=R(),m=i||r?"":`<p class="runtime-feature-fallback fallback">${w(e.fallback)}</p>`;return`
      <section class="runtime-feature ${i?"available":r?"staged":"degraded"}">
        <header class="runtime-feature-header">
          <label>
            <input type="checkbox" data-toggle="${e.id}" ${n?"checked":""} ${d?"":"disabled"}>
            <span>${w(e.name)}</span>
          </label>
          <span class="runtime-pill ${o}">${c}</span>
        </header>
        <div class="runtime-secrets">${l}</div>
        ${m}
      </section>
    `}renderSecretRow(e){var C,A;const n=Be(e),i=this.pendingSecrets.has(e),s=i?this.validatedKeys.get(e):void 0,r=i?u(s===!1?"modals.runtimeConfig.status.invalid":"modals.runtimeConfig.status.staged"):n.present?n.valid?u("modals.runtimeConfig.status.valid"):u("modals.runtimeConfig.status.looksInvalid"):u("modals.runtimeConfig.status.missing"),o=i?s===!1?"warn":"staged":n.valid?"ok":"warn",c=hS[e],l=`modals.runtimeConfig.help.${e}`,d=u(l),m=d!==l?d:"",y=c?` <a href="#" data-signup-url="${c}" class="runtime-secret-link" title="Get API key">&#x2197;</a>`:"",f=this.validatedKeys.get(e),g=i?f===!1?"invalid":"valid-staged":"",v=f===!0?"visible":"",b=i&&f===!1?this.validationMessages.get(e)||de(e,this.pendingSecrets.get(e)||"").hint||"Invalid value":null;if(e==="OLLAMA_MODEL"){const k=i?this.pendingSecrets.get(e)||"":((C=Ce().secrets[e])==null?void 0:C.value)||"";return`
        <div class="runtime-secret-row">
          <div class="runtime-secret-key"><code>${w(e)}</code></div>
          <span class="runtime-secret-status ${o}">${w(r)}</span>
          <span class="runtime-secret-check ${v}">&#x2713;</span>
          ${m?`<div class="runtime-secret-meta">${w(m)}</div>`:""}
          <select data-model-select class="${g}" ${R()?"":"disabled"}>
            ${k?`<option value="${w(k)}" selected>${w(k)}</option>`:'<option value="" selected disabled>Loading models...</option>'}
          </select>
          <input type="text" data-model-manual class="${g} hidden-input" placeholder="Or type model name" autocomplete="off" ${R()?"":"disabled"} ${k?`value="${w(k)}"`:""}>
          ${b?`<span class="runtime-secret-hint">${w(b)}</span>`:""}
        </div>
      `}return`
      <div class="runtime-secret-row">
        <div class="runtime-secret-key"><code>${w(e)}</code>${y}</div>
        <span class="runtime-secret-status ${o}">${w(r)}</span>
        <span class="runtime-secret-check ${v}">&#x2713;</span>
        ${m?`<div class="runtime-secret-meta">${w(m)}</div>`:""}
        <input type="${it.has(e)?"text":"password"}" data-secret="${e}" placeholder="${u(i?"modals.runtimeConfig.placeholder.staged":"modals.runtimeConfig.placeholder.setSecret")}" autocomplete="off" ${R()?"":"disabled"} class="${g}" ${i?`value="${it.has(e)?w(this.pendingSecrets.get(e)||""):Oe}"`:it.has(e)&&n.present?`value="${w(((A=Ce().secrets[e])==null?void 0:A.value)||"")}"`:""}>
        ${b?`<span class="runtime-secret-hint">${w(b)}</span>`:""}
      </div>
    `}attachListeners(){var n;if(this.content.querySelectorAll("a[data-signup-url]").forEach(i=>{i.addEventListener("click",s=>{s.preventDefault();const r=i.dataset.signupUrl;r&&(R()?Z("open_url",{url:r}).catch(()=>window.open(r,"_blank")):window.open(r,"_blank"))})}),!R())return;if(this.mode==="alert"){(n=this.content.querySelector("[data-open-settings]"))==null||n.addEventListener("click",()=>{Z("open_settings_window_command").catch(i=>{console.warn("[runtime-config] Failed to open settings window",i)})});return}const e=this.content.querySelector("select[data-model-select]");e&&(e.addEventListener("change",()=>{const i=e.value;i&&this.buffered&&(this.pendingSecrets.set("OLLAMA_MODEL",i),this.validatedKeys.set("OLLAMA_MODEL",!0),e.classList.remove("invalid"),e.classList.add("valid-staged"),this.updateFeatureCardStatus("OLLAMA_MODEL"))}),this.fetchOllamaModels(e)),this.content.querySelectorAll("input[data-toggle]").forEach(i=>{i.addEventListener("change",()=>{const s=i.dataset.toggle;s&&(Rl(s,i.checked),js(s,i.checked))})}),this.content.querySelectorAll("input[data-secret]").forEach(i=>{i.addEventListener("input",()=>{var c,l;const s=i.dataset.secret;if(!s)return;this.buffered&&this.pendingSecrets.has(s)&&i.value.startsWith(Oe)&&(i.value=i.value.slice(Oe.length)),this.validatedKeys.delete(s),this.validationMessages.delete(s);const r=(c=i.closest(".runtime-secret-row"))==null?void 0:c.querySelector(".runtime-secret-check");r==null||r.classList.remove("visible"),i.classList.remove("valid-staged","invalid");const o=(l=i.closest(".runtime-secret-row"))==null?void 0:l.querySelector(".runtime-secret-hint");o&&o.remove()}),i.addEventListener("blur",()=>{const s=i.dataset.secret;if(!s)return;const r=i.value.trim();if(!r){this.buffered&&this.pendingSecrets.has(s)&&(this.pendingSecrets.delete(s),this.validatedKeys.delete(s),this.validationMessages.delete(s),this.render());return}if(r!==Oe)if(this.buffered){this.pendingSecrets.set(s,r);const o=de(s,r);o.valid?(this.validatedKeys.delete(s),this.validationMessages.delete(s)):(this.validatedKeys.set(s,!1),this.validationMessages.set(s,o.hint||"Invalid format")),it.has(s)?i.value=r:(i.type="password",i.value=Oe),i.placeholder=u("modals.runtimeConfig.placeholder.staged");const c=i.closest(".runtime-secret-row"),l=c==null?void 0:c.querySelector(".runtime-secret-check");if(i.classList.remove("valid-staged","invalid"),o.valid)l==null||l.classList.remove("visible"),i.classList.add("valid-staged");else{l==null||l.classList.remove("visible"),i.classList.add("invalid");const d=c==null?void 0:c.querySelector(".runtime-secret-hint");if(d&&d.remove(),o.hint){const m=document.createElement("span");m.className="runtime-secret-hint",m.textContent=o.hint,c==null||c.appendChild(m)}}this.updateFeatureCardStatus(s)}else Ut(s,r),i.value=""})})}updateFeatureCardStatus(e){const n=ue.find(d=>st(d).includes(e));if(!n)return;const i=Array.from(this.content.querySelectorAll(".runtime-feature")).find(d=>!!d.querySelector(`input[data-toggle="${n.id}"]`));if(!i)return;const s=B(n.id),r=st(n),o=!s&&r.every(d=>Be(d).valid||this.pendingSecrets.has(d)&&this.validatedKeys.get(d)!==!1);i.className=`runtime-feature ${s?"available":o?"staged":"degraded"}`;const c=i.querySelector(".runtime-pill");c&&(c.className=`runtime-pill ${s?"ok":o?"staged":"warn"}`,c.textContent=u(s?"modals.runtimeConfig.status.ready":o?"modals.runtimeConfig.status.staged":"modals.runtimeConfig.status.needsKeys"));const l=i.querySelector(".runtime-feature-fallback");(s||o)&&(l==null||l.remove())}static makeTimeout(e){if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(e);const n=new AbortController;return setTimeout(()=>n.abort(),e),n.signal}showManualModelInput(e){var i;const n=(i=e.parentElement)==null?void 0:i.querySelector("input[data-model-manual]");n&&(e.style.display="none",n.classList.remove("hidden-input"),n.addEventListener("blur",()=>{const s=n.value.trim();s&&this.buffered&&(this.pendingSecrets.set("OLLAMA_MODEL",s),this.validatedKeys.set("OLLAMA_MODEL",!0),n.classList.remove("invalid"),n.classList.add("valid-staged"),this.updateFeatureCardStatus("OLLAMA_MODEL"))}))}async fetchOllamaModels(e){var r,o,c,l;const n=Ce(),i=this.pendingSecrets.get("OLLAMA_API_URL")||((r=n.secrets.OLLAMA_API_URL)==null?void 0:r.value)||"";if(!i){e.innerHTML='<option value="" disabled selected>Set Ollama URL first</option>';return}const s=this.pendingSecrets.get("OLLAMA_MODEL")||((o=n.secrets.OLLAMA_MODEL)==null?void 0:o.value)||"";try{let d=[];try{const m=await fetch(new URL("/api/tags",i).toString(),{signal:dn.makeTimeout(5e3)});m.ok&&(d=(((c=(await m.json()).models)==null?void 0:c.map(f=>f.name))||[]).filter(f=>!f.includes("embed")))}catch{}if(d.length===0)try{const m=await fetch(new URL("/v1/models",i).toString(),{signal:dn.makeTimeout(5e3)});m.ok&&(d=(((l=(await m.json()).data)==null?void 0:l.map(f=>f.id))||[]).filter(f=>!f.includes("embed")))}catch{}if(d.length===0){this.showManualModelInput(e);return}if(e.innerHTML=d.map(m=>`<option value="${w(m)}" ${m===s?"selected":""}>${w(m)}</option>`).join(""),!s&&d.length>0){const m=d[0];e.value=m,this.buffered&&(this.pendingSecrets.set("OLLAMA_MODEL",m),this.validatedKeys.set("OLLAMA_MODEL",!0),e.classList.add("valid-staged"),this.updateFeatureCardStatus("OLLAMA_MODEL"))}}catch{this.showManualModelInput(e)}}}const yS=["killed","dead","death","shot","blood","massacre","slaughter","fatalities","casualties","wounded","injured","murdered","execution","crackdown","violent","clashes","gunfire","shooting"],gS=["war","armada","invasion","airstrike","strike","missile","troops","deployed","offensive","artillery","bomb","combat","fleet","warship","carrier","navy","airforce","deployment","mobilization","attack"],fS=["protest","protests","uprising","revolt","revolution","riot","riots","demonstration","unrest","dissent","rebellion","insurgent","overthrow","coup","martial law","curfew","shutdown","blackout"],As=["iran","tehran","russia","moscow","china","beijing","taiwan","ukraine","kyiv","north korea","pyongyang","israel","gaza","west bank","syria","damascus","yemen","hezbollah","hamas","kremlin","pentagon","nato","wagner"],SS=["ceo","earnings","stock","startup","data center","datacenter","revenue","quarterly","profit","investor","ipo","funding","valuation"];class vS{constructor(){h(this,"lastReport",null);h(this,"recentEmbeddings",new Map);h(this,"analysisCount",0)}async analyzeHeadlines(a){const e=performance.now();this.analysisCount++,console.group(`%c🔬 Parallel Analysis #${this.analysisCount}`,"color: #6b8afd; font-weight: bold; font-size: 14px"),console.log(`%cAnalyzing ${a.length} headlines...`,"color: #888");const n=[],i=a.map(f=>f.primaryTitle);let s=null,r=null,o=null;if(O.isAvailable){const[f,g,v]=await Promise.all([O.classifySentiment(i).catch(()=>null),O.extractEntities(i).catch(()=>null),this.getEmbeddings(i).catch(()=>null)]);s=f,r=g,o=v,console.log("%c✓ ML models loaded","color: #4ade80"),r&&console.log(`%c  → NER extracted ${r.flat().length} entities`,"color: #888"),o&&console.log(`%c  → Embeddings computed for ${o.length} headlines`,"color: #888")}else console.log("%c⚠ ML not available, using keyword-only analysis","color: #f59e0b");for(let f=0;f<a.length;f++){const g=a[f],v=g.primaryTitle,b=v.toLowerCase(),C=[];C.push(this.scoreByKeywords(b,g));const A=s==null?void 0:s[f];A&&C.push(this.scoreBySentiment(A));const k=r==null?void 0:r[f];k&&C.push(this.scoreByEntities(k));const I=o==null?void 0:o[f];I&&C.push(await this.scoreByNovelty(v,I)),C.push(this.scoreByVelocity(g)),C.push(this.scoreBySourceDiversity(g));const{finalScore:N,confidence:G,disagreement:x}=this.aggregateScores(C),K=x>.3||N>.5&&this.isLowKeywordScore(C),Pe=K?x>.3?"High disagreement between perspectives":"ML scores high but keyword score low - potential missed story":void 0;n.push({id:g.id,title:v,sourceCount:g.sourceCount,perspectives:C,finalScore:N,confidence:G,disagreement:x,flagged:K,flagReason:Pe})}n.sort((f,g)=>g.finalScore-f.finalScore);const c=n.filter(f=>f.confidence>.6).slice(0,10),l=n.filter(f=>f.disagreement>.25).sort((f,g)=>g.disagreement-f.disagreement).slice(0,5),d=n.filter(f=>{var b;const g=((b=f.perspectives.find(C=>C.name==="keywords"))==null?void 0:b.score)??0;return f.perspectives.filter(C=>C.name!=="keywords").reduce((C,A)=>C+A.score,0)/Math.max(1,f.perspectives.length-1)>.5&&g<.3}).slice(0,5),m=this.calculateCorrelations(n),y={timestamp:Date.now(),totalHeadlines:a.length,analyzed:n,topByConsensus:c,topByDisagreement:l,missedByKeywords:d,perspectiveCorrelations:m};return this.lastReport=y,this.logReport(y,performance.now()-e),console.groupEnd(),y}scoreByKeywords(a,e){let n=0;const i=[],s=yS.filter(d=>a.includes(d));s.length>0&&(n+=.4+s.length*.1,i.push(`violence(${s.join(",")})`));const r=gS.filter(d=>a.includes(d));r.length>0&&(n+=.3+r.length*.08,i.push(`military(${r.join(",")})`));const o=fS.filter(d=>a.includes(d));o.length>0&&(n+=.25+o.length*.07,i.push(`unrest(${o.join(",")})`));const c=As.filter(d=>a.includes(d));c.length>0&&(n+=.2+c.length*.05,i.push(`flashpoint(${c.join(",")})`)),(s.length>0||o.length>0)&&c.length>0&&(n*=1.3,i.push("combo-bonus"));const l=SS.filter(d=>a.includes(d));return l.length>0&&(n*=.4,i.push(`demoted(${l.join(",")})`)),n=Math.min(1,n),{name:"keywords",score:n,confidence:.8,reasoning:i.length>0?i.join(" + "):"no keywords matched"}}scoreBySentiment(a){const n=a.label==="negative"?a.score*.8:(1-a.score)*.3;return{name:"sentiment",score:Math.min(1,n),confidence:a.score,reasoning:`${a.label} (${(a.score*100).toFixed(0)}%) - negative news more important`}}scoreByEntities(a){const e=a.filter(l=>l.type.includes("LOC")),n=a.filter(l=>l.type.includes("PER")),i=a.filter(l=>l.type.includes("ORG")),s=e.filter(l=>As.some(d=>l.text.toLowerCase().includes(d)));let r=0;const o=[];s.length>0?(r+=.4,o.push(`geo-locations(${s.map(l=>l.text).join(",")})`)):e.length>0&&(r+=.15,o.push(`locations(${e.length})`)),n.length>0&&(r+=.1+n.length*.05,o.push(`people(${n.map(l=>l.text).join(",")})`)),i.length>0&&(r+=.1+i.length*.05,o.push(`orgs(${i.map(l=>l.text).join(",")})`));const c=a.length;return c>3&&(r+=.15,o.push(`high-density(${c})`)),{name:"entities",score:Math.min(1,r),confidence:a.length>0?.7:.3,reasoning:o.length>0?o.join(" + "):"no significant entities"}}async scoreByNovelty(a,e){let n=0,i="";for(const[o,c]of this.recentEmbeddings){if(o===a)continue;const l=this.cosineSimilarity(e,c);l>n&&(n=l,i=o.slice(0,50))}if(this.recentEmbeddings.set(a,e),this.recentEmbeddings.size>100){const o=this.recentEmbeddings.keys().next().value;o&&this.recentEmbeddings.delete(o)}const s=1-n,r=s>.5?.3:0;return{name:"novelty",score:Math.min(1,s*.7+r),confidence:.6,reasoning:n>.7?`similar to: "${i}..." (${(n*100).toFixed(0)}%)`:`novel content (${(s*100).toFixed(0)}% unique)`}}scoreByVelocity(a){const e=a.velocity;let n=0,i="";return!e||e.level==="normal"?(n=.2,i="normal velocity"):e.level==="elevated"?(n=.5,i=`elevated: +${e.sourcesPerHour}/hr`):e.level==="spike"?(n=.7,i=`spike: +${e.sourcesPerHour}/hr`):e.level==="viral"&&(n=.9,i=`viral: +${e.sourcesPerHour}/hr`),(e==null?void 0:e.trend)==="rising"&&(n+=.1,i+=" ↑"),{name:"velocity",score:Math.min(1,n),confidence:.8,reasoning:i}}scoreBySourceDiversity(a){const e=a.sourceCount;let n=0,i="";return e>=5?(n=.9,i=`${e} sources - highly confirmed`):e>=3?(n=.7,i=`${e} sources - confirmed`):e>=2?(n=.5,i=`${e} sources - multi-source`):(n=.2,i="single source"),{name:"sources",score:n,confidence:.9,reasoning:i}}aggregateScores(a){if(a.length===0)return{finalScore:0,confidence:0,disagreement:0};const e={keywords:.25,sentiment:.15,entities:.2,novelty:.1,velocity:.15,sources:.15};let n=0,i=0,s=0;for(const y of a){const f=e[y.name]??.1;n+=y.score*f*y.confidence,i+=f,s+=y.confidence}const r=i>0?n/i:0,o=s/a.length,c=a.map(y=>y.score),l=c.reduce((y,f)=>y+f,0)/c.length,d=c.reduce((y,f)=>y+Math.pow(f-l,2),0)/c.length,m=Math.sqrt(d);return{finalScore:r,confidence:o*(1-m*.5),disagreement:m}}isLowKeywordScore(a){var n;return(((n=a.find(i=>i.name==="keywords"))==null?void 0:n.score)??0)<.3}calculateCorrelations(a){const e=["keywords","sentiment","entities","novelty","velocity","sources"],n={};for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++){const r=e[i],o=e[s],c=a.map(m=>{var y;return((y=m.perspectives.find(f=>f.name===r))==null?void 0:y.score)??0}),l=a.map(m=>{var y;return((y=m.perspectives.find(f=>f.name===o))==null?void 0:y.score)??0}),d=this.pearsonCorrelation(c,l);n[`${r}-${o}`]=d}return n}pearsonCorrelation(a,e){const n=a.length;if(n===0)return 0;const i=a.reduce((d,m)=>d+m,0)/n,s=e.reduce((d,m)=>d+m,0)/n;let r=0,o=0,c=0;for(let d=0;d<n;d++){const m=a[d]??0,y=e[d]??0,f=m-i,g=y-s;r+=f*g,o+=f*f,c+=g*g}const l=Math.sqrt(o*c);return l===0?0:r/l}cosineSimilarity(a,e){let n=0,i=0,s=0;for(let o=0;o<a.length;o++){const c=a[o]??0,l=e[o]??0;n+=c*l,i+=c*c,s+=l*l}const r=Math.sqrt(i)*Math.sqrt(s);return r===0?0:n/r}async getEmbeddings(a){return O.embedTexts(a)}logReport(a,e){console.log(`%c⏱ Analysis completed in ${e.toFixed(0)}ms`,"color: #888"),console.log(`
%c📊 TOP BY CONSENSUS (high confidence)`,"color: #4ade80; font-weight: bold"),console.table(a.topByConsensus.slice(0,5).map(i=>{var s;return{score:i.finalScore.toFixed(2),conf:i.confidence.toFixed(2),title:i.title.slice(0,60)+(i.title.length>60?"...":""),topPerspective:(s=i.perspectives.sort((r,o)=>o.score-r.score)[0])==null?void 0:s.name}})),a.topByDisagreement.length>0&&(console.log(`
%c⚠️ HIGH DISAGREEMENT (perspectives conflict)`,"color: #f59e0b; font-weight: bold"),console.table(a.topByDisagreement.map(i=>({disagreement:i.disagreement.toFixed(2),title:i.title.slice(0,50)+"...",perspectives:i.perspectives.map(s=>`${s.name}:${s.score.toFixed(1)}`).join(" | ")})))),a.missedByKeywords.length>0&&(console.log(`
%c🎯 POTENTIALLY MISSED (ML says important, keywords say no)`,"color: #ef4444; font-weight: bold"),a.missedByKeywords.forEach(i=>{var o;const s=((o=i.perspectives.find(c=>c.name==="keywords"))==null?void 0:o.score)??0,r=i.perspectives.filter(c=>c.name!=="keywords");console.log(`  %c"${i.title.slice(0,70)}..."`,"color: #fff"),console.log(`    keywords: ${(s*100).toFixed(0)}% | ML avg: ${(r.reduce((c,l)=>c+l.score,0)/r.length*100).toFixed(0)}%`),r.forEach(c=>{console.log(`      ${c.name}: ${(c.score*100).toFixed(0)}% - ${c.reasoning}`)})})),console.log(`
%c📈 Perspective Correlations`,"color: #6b8afd"),Object.entries(a.perspectiveCorrelations).sort((i,s)=>Math.abs(s[1])-Math.abs(i[1])).slice(0,5).forEach(([i,s])=>{const r=s>.5?"#4ade80":s<-.2?"#ef4444":"#888";console.log(`  %c${i}: ${s.toFixed(2)}`,`color: ${r}`)})}getLastReport(){return this.lastReport}getSuggestedImprovements(){if(!this.lastReport)return[];const a=[];this.lastReport.missedByKeywords.length>2&&a.push("Consider adding more keywords to capture ML-detected important stories"),this.lastReport.analyzed.reduce((s,r)=>s+r.disagreement,0)/this.lastReport.analyzed.length>.25&&a.push("High average disagreement - perspectives may need rebalancing");const{perspectiveCorrelations:n}=this.lastReport;return(n["keywords-sentiment"]??0)<.3&&a.push("Low keyword-sentiment correlation - keyword list may be missing emotional content"),a}}const Cs=new vS,H=class H extends P{constructor(){super({id:"insights",title:u("panels.insights"),showCount:!1,infoTooltip:u("components.insights.infoTooltip")});h(this,"isHidden",!1);h(this,"lastBriefUpdate",0);h(this,"cachedBrief",null);h(this,"lastMissedStories",[]);h(this,"lastConvergenceZones",[]);h(this,"lastFocalPoints",[]);h(this,"lastMilitaryFlights",[]);gn()&&(this.hide(),this.isHidden=!0)}setMilitaryFlights(e){this.lastMilitaryFlights=e}getTheaterPostureContext(){if(this.lastMilitaryFlights.length===0)return"";const n=Mf(this.lastMilitaryFlights).filter(s=>s.postureLevel==="critical"||s.postureLevel==="elevated"||s.strikeCapable);return n.length===0?"":`

CRITICAL MILITARY POSTURE:
${n.map(s=>{const r=[];return r.push(`${s.theaterName}: ${s.totalAircraft} aircraft`),r.push(`(${s.postureLevel.toUpperCase()})`),s.strikeCapable&&r.push("STRIKE CAPABLE"),r.push(`- ${s.summary}`),s.targetNation&&r.push(`Focus: ${s.targetNation}`),r.join(" ")}).join(`
`)}`}async loadBriefFromCache(){var n;if(this.cachedBrief)return!1;const e=await ia(H.BRIEF_CACHE_KEY);return(n=e==null?void 0:e.data)!=null&&n.summary?(this.cachedBrief=e.data.summary,this.lastBriefUpdate=e.updatedAt,!0):!1}getImportanceScore(e){var v;let n=0;const i=e.primaryTitle.toLowerCase();n+=e.sourceCount*10;const s=H.VIOLENCE_KEYWORDS.filter(b=>i.includes(b));s.length>0&&(n+=100+s.length*25);const r=H.MILITARY_KEYWORDS.filter(b=>i.includes(b));r.length>0&&(n+=80+r.length*20);const o=H.UNREST_KEYWORDS.filter(b=>i.includes(b));o.length>0&&(n+=70+o.length*18);const c=H.FLASHPOINT_KEYWORDS.filter(b=>i.includes(b));c.length>0&&(n+=60+c.length*15),(s.length>0||o.length>0)&&c.length>0&&(n*=1.5);const l=H.CRISIS_KEYWORDS.filter(b=>i.includes(b));l.length>0&&(n+=30+l.length*10),H.DEMOTE_KEYWORDS.filter(b=>i.includes(b)).length>0&&(n*=.3),n*={viral:3,spike:2.5,elevated:1.5,normal:1}[((v=e.velocity)==null?void 0:v.level)??"normal"]??1,e.isAlert&&(n+=50);const f=(Date.now()-e.firstSeen.getTime())/36e5,g=Math.max(.5,1-f/12);return n*=g,n}selectTopStories(e,n){const r=e.map(d=>({cluster:d,score:this.getImportanceScore(d)})).filter(({cluster:d,score:m})=>d.sourceCount>=2||d.isAlert||d.velocity&&d.velocity.level!=="normal"||m>100).sort((d,m)=>m.score-d.score),o=[],c=new Map,l=3;for(const{cluster:d}of r){const m=d.primarySource,y=c.get(m)||0;if(y<l&&(o.push(d),c.set(m,y+1)),o.length>=n)break}return o}setProgress(e,n,i){const s=Math.round(e/n*100);this.setContent(`
      <div class="insights-progress">
        <div class="insights-progress-bar">
          <div class="insights-progress-fill" style="width: ${s}%"></div>
        </div>
        <div class="insights-progress-info">
          <span class="insights-progress-step">${u("components.insights.step",{step:String(e),total:String(n)})}</span>
          <span class="insights-progress-message">${i}</span>
        </div>
      </div>
    `)}async updateInsights(e){if(this.isHidden)return;if(e.length===0){this.setDataBadge("unavailable"),this.setContent(`<div class="insights-empty">${u("components.insights.waitingForData")}</div>`);return}const n=4;try{this.setProgress(1,n,u("components.insights.rankingStories"));const i=this.selectTopStories(e,8),s=Cs.analyzeHeadlines(e).then(g=>{this.lastMissedStories=g.missedByKeywords;const v=Cs.getSuggestedImprovements();v.length>0&&(console.log("%c💡 Improvement Suggestions:","color: #f59e0b; font-weight: bold"),v.forEach(b=>console.log(`  • ${b}`)))}).catch(g=>{console.warn("[ParallelAnalysis] Error:",g)});let r,o;if(L==="full"?(r=co.getSummary(),this.lastConvergenceZones=r.convergenceZones,r.totalSignals>0&&Zg(),o=We.analyze(e,r),this.lastFocalPoints=o.focalPoints,o.focalPoints.length>0&&(We.logSummary(),Hy(e),window.dispatchEvent(new CustomEvent("focal-points-ready")))):(r={timestamp:new Date,totalSignals:0,byType:{},convergenceZones:[],topCountries:[],aiContext:""},o={focalPoints:[],aiContext:"",timestamp:new Date,topCountries:[],topCompanies:[]},this.lastConvergenceZones=[],this.lastFocalPoints=[]),i.length===0){this.setContent(`<div class="insights-empty">${u("components.insights.noStories")}</div>`);return}const c=i.map(g=>g.primaryTitle);this.setProgress(2,n,u("components.insights.analyzingSentiment"));let l=null;O.isAvailable&&(l=await O.classifySentiment(c).catch(()=>null));const d=await this.loadBriefFromCache();let m=this.cachedBrief;const y=Date.now();let f=d;if(!m||y-this.lastBriefUpdate>H.BRIEF_COOLDOWN_MS){this.setProgress(3,n,u("components.insights.generatingBrief"));const g=L==="full"?this.getTheaterPostureContext():"",v=L==="full"?(o.aiContext||r.aiContext)+g:"",b=await wn(c,(C,A,k)=>{this.setProgress(3,n,`Generating brief: ${k}`)},v);b&&(m=b.summary,this.cachedBrief=m,this.lastBriefUpdate=y,f=!1,sa(H.BRIEF_CACHE_KEY,{summary:m}),console.log(`[InsightsPanel] Brief generated${b.cached?" (cached)":""}${v?" (with geo context)":""}`))}else f=!0,this.setProgress(3,n,"Using cached brief...");this.setDataBadge(m?f?"cached":"live":"unavailable"),this.setProgress(4,n,"Multi-perspective analysis..."),await s,this.renderInsights(i,l,m)}catch(i){console.error("[InsightsPanel] Error:",i),this.setContent('<div class="insights-error">Analysis failed - retrying...</div>')}}renderInsights(e,n,i){const s=i?this.renderWorldBrief(i):"",r=this.renderFocalPoints(),o=this.renderConvergenceZones(),c=this.renderSentimentOverview(n),l=this.renderBreakingStories(e,n),d=this.renderStats(e),m=this.renderMissedStories();this.setContent(`
      ${s}
      ${r}
      ${o}
      ${c}
      ${d}
      <div class="insights-section">
        <div class="insights-section-title">BREAKING & CONFIRMED</div>
        ${l}
      </div>
      ${m}
    `)}renderWorldBrief(e){return`
      <div class="insights-brief">
        <div class="insights-section-title">${L==="tech"?"🚀 TECH BRIEF":"🌍 WORLD BRIEF"}</div>
        <div class="insights-brief-text">${w(e)}</div>
      </div>
    `}renderBreakingStories(e,n){return e.map((i,s)=>{const r=n==null?void 0:n[s],o=(r==null?void 0:r.label)==="negative"?"negative":(r==null?void 0:r.label)==="positive"?"positive":"neutral",c=[];if(i.sourceCount>=3?c.push(`<span class="insight-badge confirmed">✓ ${i.sourceCount} sources</span>`):i.sourceCount>=2&&c.push(`<span class="insight-badge multi">${i.sourceCount} sources</span>`),i.velocity&&i.velocity.level!=="normal"){const l=i.velocity.trend==="rising"?"↑":"";c.push(`<span class="insight-badge velocity ${i.velocity.level}">${l}+${i.velocity.sourcesPerHour}/hr</span>`)}return i.isAlert&&c.push('<span class="insight-badge alert">⚠ ALERT</span>'),`
        <div class="insight-story">
          <div class="insight-story-header">
            <span class="insight-sentiment-dot ${o}"></span>
            <span class="insight-story-title">${w(i.primaryTitle.slice(0,100))}${i.primaryTitle.length>100?"...":""}</span>
          </div>
          ${c.length>0?`<div class="insight-badges">${c.join("")}</div>`:""}
        </div>
      `}).join("")}renderSentimentOverview(e){if(!e||e.length===0)return"";const n=e.filter(y=>y.label==="negative").length,i=e.filter(y=>y.label==="positive").length,s=e.length-n-i,r=e.length,o=Math.round(n/r*100),c=Math.round(s/r*100),l=100-o-c;let d="Mixed",m="neutral";return n>i+s?(d="Negative",m="negative"):i>n+s&&(d="Positive",m="positive"),`
      <div class="insights-sentiment-bar">
        <div class="sentiment-bar-track">
          <div class="sentiment-bar-negative" style="width: ${o}%"></div>
          <div class="sentiment-bar-neutral" style="width: ${c}%"></div>
          <div class="sentiment-bar-positive" style="width: ${l}%"></div>
        </div>
        <div class="sentiment-bar-labels">
          <span class="sentiment-label negative">${n}</span>
          <span class="sentiment-label neutral">${s}</span>
          <span class="sentiment-label positive">${i}</span>
        </div>
        <div class="sentiment-tone ${m}">Overall: ${d}</div>
      </div>
    `}renderStats(e){const n=e.filter(r=>r.sourceCount>=2).length,i=e.filter(r=>r.velocity&&r.velocity.level!=="normal").length,s=e.filter(r=>r.isAlert).length;return`
      <div class="insights-stats">
        <div class="insight-stat">
          <span class="insight-stat-value">${n}</span>
          <span class="insight-stat-label">Multi-source</span>
        </div>
        <div class="insight-stat">
          <span class="insight-stat-value">${i}</span>
          <span class="insight-stat-label">Fast-moving</span>
        </div>
        ${s>0?`
        <div class="insight-stat alert">
          <span class="insight-stat-value">${s}</span>
          <span class="insight-stat-label">Alerts</span>
        </div>
        `:""}
      </div>
    `}renderMissedStories(){return this.lastMissedStories.length===0?"":`
      <div class="insights-section insights-missed">
        <div class="insights-section-title">🎯 ML DETECTED</div>
        ${this.lastMissedStories.slice(0,3).map(n=>{const i=n.perspectives.filter(o=>o.name!=="keywords").sort((o,c)=>c.score-o.score)[0],s=(i==null?void 0:i.name)??"ml",r=(i==null?void 0:i.score)??0;return`
        <div class="insight-story missed">
          <div class="insight-story-header">
            <span class="insight-sentiment-dot ml-flagged"></span>
            <span class="insight-story-title">${w(n.title.slice(0,80))}${n.title.length>80?"...":""}</span>
          </div>
          <div class="insight-badges">
            <span class="insight-badge ml-detected">🔬 ${s}: ${(r*100).toFixed(0)}%</span>
          </div>
        </div>
      `}).join("")}
      </div>
    `}renderConvergenceZones(){return this.lastConvergenceZones.length===0?"":`
      <div class="insights-section insights-convergence">
        <div class="insights-section-title">📍 GEOGRAPHIC CONVERGENCE</div>
        ${this.lastConvergenceZones.slice(0,3).map(n=>{const i={internet_outage:"🌐",military_flight:"✈️",military_vessel:"🚢",protest:"🪧",ais_disruption:"⚓"};return`
        <div class="convergence-zone">
          <div class="convergence-region">${n.signalTypes.map(r=>i[r]||"📍").join("")} ${w(n.region)}</div>
          <div class="convergence-description">${w(n.description)}</div>
          <div class="convergence-stats">${n.signalTypes.length} signal types • ${n.totalSignals} events</div>
        </div>
      `}).join("")}
      </div>
    `}renderFocalPoints(){const e=this.lastFocalPoints.filter(s=>s.newsMentions>0&&s.signalCount>0).slice(0,5);if(e.length===0)return"";const n={internet_outage:"🌐",military_flight:"✈️",military_vessel:"⚓",protest:"📢",ais_disruption:"🚢"};return`
      <div class="insights-section insights-focal">
        <div class="insights-section-title">🎯 FOCAL POINTS</div>
        ${e.map(s=>{var m;const r=s.urgency,o=s.signalTypes.map(y=>n[y]||"").join(" "),c=s.topHeadlines[0],l=((m=c==null?void 0:c.title)==null?void 0:m.slice(0,60))||"",d=Re((c==null?void 0:c.url)||"");return`
        <div class="focal-point ${r}">
          <div class="focal-point-header">
            <span class="focal-point-name">${w(s.displayName)}</span>
            <span class="focal-point-urgency ${r}">${s.urgency.toUpperCase()}</span>
          </div>
          <div class="focal-point-signals">${o}</div>
          <div class="focal-point-stats">
            ${s.newsMentions} news • ${s.signalCount} signals
          </div>
          ${l&&d?`<a href="${d}" target="_blank" rel="noopener" class="focal-point-headline">"${w(l)}..."</a>`:""}
        </div>
      `}).join("")}
      </div>
    `}};h(H,"BRIEF_COOLDOWN_MS",12e4),h(H,"BRIEF_CACHE_KEY","summary:world-brief"),h(H,"MILITARY_KEYWORDS",["war","armada","invasion","airstrike","strike","missile","troops","deployed","offensive","artillery","bomb","combat","fleet","warship","carrier","navy","airforce","deployment","mobilization","attack"]),h(H,"VIOLENCE_KEYWORDS",["killed","dead","death","shot","blood","massacre","slaughter","fatalities","casualties","wounded","injured","murdered","execution","crackdown","violent","clashes","gunfire","shooting"]),h(H,"UNREST_KEYWORDS",["protest","protests","uprising","revolt","revolution","riot","riots","demonstration","unrest","dissent","rebellion","insurgent","overthrow","coup","martial law","curfew","shutdown","blackout"]),h(H,"FLASHPOINT_KEYWORDS",["iran","tehran","russia","moscow","china","beijing","taiwan","ukraine","kyiv","north korea","pyongyang","israel","gaza","west bank","syria","damascus","yemen","hezbollah","hamas","kremlin","pentagon","nato","wagner"]),h(H,"CRISIS_KEYWORDS",["crisis","emergency","catastrophe","disaster","collapse","humanitarian","sanctions","ultimatum","threat","retaliation","escalation","tensions","breaking","urgent","developing","exclusive"]),h(H,"DEMOTE_KEYWORDS",["ceo","earnings","stock","startup","data center","datacenter","revenue","quarterly","profit","investor","ipo","funding","valuation"]);let ks=H;const wS={USA:"🇺🇸",CHN:"🇨🇳",JPN:"🇯🇵",DEU:"🇩🇪",KOR:"🇰🇷",GBR:"🇬🇧",IND:"🇮🇳",ISR:"🇮🇱",SGP:"🇸🇬",TWN:"🇹🇼",FRA:"🇫🇷",CAN:"🇨🇦",SWE:"🇸🇪",NLD:"🇳🇱",CHE:"🇨🇭",FIN:"🇫🇮",IRL:"🇮🇪",AUS:"🇦🇺",BRA:"🇧🇷",IDN:"🇮🇩",ESP:"🇪🇸",ITA:"🇮🇹",MEX:"🇲🇽",RUS:"🇷🇺",TUR:"🇹🇷",SAU:"🇸🇦",ARE:"🇦🇪",POL:"🇵🇱",THA:"🇹🇭",MYS:"🇲🇾",VNM:"🇻🇳",PHL:"🇵🇭",NZL:"🇳🇿",AUT:"🇦🇹",BEL:"🇧🇪",DNK:"🇩🇰",NOR:"🇳🇴",PRT:"🇵🇹",CZE:"🇨🇿",ZAF:"🇿🇦",NGA:"🇳🇬",KEN:"🇰🇪",EGY:"🇪🇬",ARG:"🇦🇷",CHL:"🇨🇱",COL:"🇨🇴",PAK:"🇵🇰",BGD:"🇧🇩",UKR:"🇺🇦",ROU:"🇷🇴",EST:"🇪🇪",LVA:"🇱🇻",LTU:"🇱🇹",HUN:"🇭🇺",GRC:"🇬🇷",QAT:"🇶🇦",BHR:"🇧🇭",KWT:"🇰🇼",OMN:"🇴🇲",JOR:"🇯🇴"};class mb extends P{constructor(){super({id:"tech-readiness",title:u("panels.techReadiness"),showCount:!0,infoTooltip:u("components.techReadiness.infoTooltip")});h(this,"rankings",[]);h(this,"loading",!1);h(this,"lastFetch",0);h(this,"REFRESH_INTERVAL",360*60*1e3)}async refresh(){if(!this.loading&&!(Date.now()-this.lastFetch<this.REFRESH_INTERVAL&&this.rankings.length>0)){this.loading=!0,this.showFetchingState();try{this.rankings=await Jd(),this.lastFetch=Date.now(),this.setCount(this.rankings.length),this.render()}catch(e){console.error("[TechReadinessPanel] Error fetching data:",e),this.showError(u("common.failedTechReadiness"))}finally{this.loading=!1}}}showFetchingState(){this.setContent(`
      <div class="tech-fetch-progress">
        <div class="tech-fetch-icon">
          <div class="tech-globe-ring"></div>
          <span class="tech-globe">🌐</span>
        </div>
        <div class="tech-fetch-title">${u("components.techReadiness.fetchingData")}</div>
        <div class="tech-fetch-indicators">
          <div class="tech-indicator-item" style="animation-delay: 0s">
            <span class="tech-indicator-icon">🌐</span>
            <span class="tech-indicator-name">${u("components.techReadiness.internetUsersIndicator")}</span>
            <span class="tech-indicator-status"></span>
          </div>
          <div class="tech-indicator-item" style="animation-delay: 0.2s">
            <span class="tech-indicator-icon">📱</span>
            <span class="tech-indicator-name">${u("components.techReadiness.mobileSubscriptionsIndicator")}</span>
            <span class="tech-indicator-status"></span>
          </div>
          <div class="tech-indicator-item" style="animation-delay: 0.4s">
            <span class="tech-indicator-icon">📡</span>
            <span class="tech-indicator-name">${u("components.techReadiness.broadbandAccess")}</span>
            <span class="tech-indicator-status"></span>
          </div>
          <div class="tech-indicator-item" style="animation-delay: 0.6s">
            <span class="tech-indicator-icon">🔬</span>
            <span class="tech-indicator-name">${u("components.techReadiness.rdExpenditure")}</span>
            <span class="tech-indicator-status"></span>
          </div>
        </div>
        <div class="tech-fetch-note">${u("components.techReadiness.analyzingCountries")}</div>
      </div>
    `)}getFlag(e){return wS[e]||"🌐"}getScoreClass(e){return e>=70?"high":e>=40?"medium":"low"}formatComponent(e){return e===null?"—":Math.round(e).toString()}render(){if(this.rankings.length===0){this.showError(u("common.noDataAvailable"));return}const n=`
      <div class="tech-readiness-list">
        ${this.rankings.slice(0,25).map(i=>{const s=this.getScoreClass(i.score);return`
            <div class="readiness-item ${s}" data-country="${w(i.country)}">
              <div class="readiness-rank">#${i.rank}</div>
              <div class="readiness-flag">${this.getFlag(i.country)}</div>
              <div class="readiness-info">
                <div class="readiness-name">${w(i.countryName)}</div>
                <div class="readiness-components">
                  <span title="${u("components.techReadiness.internetUsers")}">🌐${this.formatComponent(i.components.internet)}</span>
                  <span title="${u("components.techReadiness.mobileSubscriptions")}">📱${this.formatComponent(i.components.mobile)}</span>
                  <span title="${u("components.techReadiness.rdSpending")}">🔬${this.formatComponent(i.components.rdSpend)}</span>
                </div>
              </div>
              <div class="readiness-score ${s}">${i.score}</div>
            </div>
          `}).join("")}
      </div>
      <div class="readiness-footer">
        <span class="readiness-source">${u("components.techReadiness.source")}</span>
        <span class="readiness-updated">${u("components.techReadiness.updated",{date:new Date(this.lastFetch).toLocaleDateString()})}</span>
      </div>
    `;this.setContent(n)}}const bS=new Ir("",{fetch:fetch.bind(globalThis)});function AS(t){var e,n,i,s,r,o,c,l,d,m,y,f,g,v,b,C,A,k,I,N,G,x,K;const a=t.signals;return{timestamp:t.timestamp,verdict:t.verdict,bullishCount:t.bullishCount,totalCount:t.totalCount,signals:{liquidity:{status:((e=a==null?void 0:a.liquidity)==null?void 0:e.status)??"UNKNOWN",value:((n=a==null?void 0:a.liquidity)==null?void 0:n.value)??null,sparkline:((i=a==null?void 0:a.liquidity)==null?void 0:i.sparkline)??[]},flowStructure:{status:((s=a==null?void 0:a.flowStructure)==null?void 0:s.status)??"UNKNOWN",btcReturn5:((r=a==null?void 0:a.flowStructure)==null?void 0:r.btcReturn5)??null,qqqReturn5:((o=a==null?void 0:a.flowStructure)==null?void 0:o.qqqReturn5)??null},macroRegime:{status:((c=a==null?void 0:a.macroRegime)==null?void 0:c.status)??"UNKNOWN",qqqRoc20:((l=a==null?void 0:a.macroRegime)==null?void 0:l.qqqRoc20)??null,xlpRoc20:((d=a==null?void 0:a.macroRegime)==null?void 0:d.xlpRoc20)??null},technicalTrend:{status:((m=a==null?void 0:a.technicalTrend)==null?void 0:m.status)??"UNKNOWN",btcPrice:((y=a==null?void 0:a.technicalTrend)==null?void 0:y.btcPrice)??null,sma50:((f=a==null?void 0:a.technicalTrend)==null?void 0:f.sma50)??null,sma200:((g=a==null?void 0:a.technicalTrend)==null?void 0:g.sma200)??null,vwap30d:((v=a==null?void 0:a.technicalTrend)==null?void 0:v.vwap30d)??null,mayerMultiple:((b=a==null?void 0:a.technicalTrend)==null?void 0:b.mayerMultiple)??null,sparkline:((C=a==null?void 0:a.technicalTrend)==null?void 0:C.sparkline)??[]},hashRate:{status:((A=a==null?void 0:a.hashRate)==null?void 0:A.status)??"UNKNOWN",change30d:((k=a==null?void 0:a.hashRate)==null?void 0:k.change30d)??null},miningCost:{status:((I=a==null?void 0:a.miningCost)==null?void 0:I.status)??"UNKNOWN"},fearGreed:{status:((N=a==null?void 0:a.fearGreed)==null?void 0:N.status)??"UNKNOWN",value:((G=a==null?void 0:a.fearGreed)==null?void 0:G.value)??null,history:((x=a==null?void 0:a.fearGreed)==null?void 0:x.history)??[]}},meta:{qqqSparkline:((K=t.meta)==null?void 0:K.qqqSparkline)??[]},unavailable:t.unavailable}}function Ra(t,a=80,e=24,n="#4fc3f7"){if(!t||t.length<2)return"";const i=Math.min(...t),r=Math.max(...t)-i||1,o=t.map((c,l)=>{const d=l/(t.length-1)*a,m=e-(c-i)/r*(e-2)-1;return`${d.toFixed(1)},${m.toFixed(1)}`}).join(" ");return`<svg width="${a}" height="${e}" viewBox="0 0 ${a} ${e}" class="signal-sparkline"><polyline points="${o}" fill="none" stroke="${n}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`}function CS(t,a=48){if(t===null)return'<span class="signal-value unknown">N/A</span>';const e=Math.max(0,Math.min(100,t)),n=(a-6)/2,i=2*Math.PI*n,s=i-e/100*i;let r="#f44336";return e>=75?r="#4caf50":e>=50?r="#ff9800":e>=25&&(r="#ff5722"),`<svg width="${a}" height="${a}" viewBox="0 0 ${a} ${a}" class="fg-donut">
    <circle cx="${a/2}" cy="${a/2}" r="${n}" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="5"/>
    <circle cx="${a/2}" cy="${a/2}" r="${n}" fill="none" stroke="${r}" stroke-width="5" stroke-dasharray="${i}" stroke-dashoffset="${s}" stroke-linecap="round" transform="rotate(-90 ${a/2} ${a/2})"/>
    <text x="${a/2}" y="${a/2+4}" text-anchor="middle" fill="${r}" font-size="12" font-weight="bold">${e}</text>
  </svg>`}function Is(t){const a=t.toUpperCase();return["BULLISH","RISK-ON","GROWING","PROFITABLE","ALIGNED","NORMAL","EXTREME GREED","GREED"].includes(a)?"badge-bullish":["BEARISH","DEFENSIVE","DECLINING","SQUEEZE","PASSIVE GAP","EXTREME FEAR","FEAR"].includes(a)?"badge-bearish":"badge-neutral"}function Fe(t,a="%"){return t===null?"N/A":`${t>0?"+":""}${t.toFixed(1)}${a}`}class hb extends P{constructor(){super({id:"macro-signals",title:u("panels.macroSignals"),showCount:!1});h(this,"data",null);h(this,"loading",!0);h(this,"error",null);h(this,"refreshInterval",null);this.fetchData(),this.refreshInterval=setInterval(()=>this.fetchData(),3*6e4)}destroy(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}async fetchData(){try{const e=await bS.getMacroSignals({});this.data=AS(e),this.error=null}catch(e){if(this.isAbortError(e))return;this.error=e instanceof Error?e.message:"Failed to fetch"}finally{this.loading=!1,this.renderPanel()}}renderPanel(){var r,o,c;if(this.loading){this.showLoading(u("common.computingSignals"));return}if(this.error||!this.data){this.showError(this.error||u("common.noDataShort"));return}if(this.data.unavailable){this.showError(u("common.upstreamUnavailable"));return}const e=this.data,n=e.signals,s=`
      <div class="macro-signals-container">
        <div class="macro-verdict ${e.verdict==="BUY"?"verdict-buy":e.verdict==="CASH"?"verdict-cash":"verdict-unknown"}">
          <span class="verdict-label">${u("components.macroSignals.overall")}</span>
          <span class="verdict-value">${e.verdict==="BUY"?u("components.macroSignals.verdict.buy"):e.verdict==="CASH"?u("components.macroSignals.verdict.cash"):w(e.verdict)}</span>
          <span class="verdict-detail">${u("components.macroSignals.bullish",{count:String(e.bullishCount),total:String(e.totalCount)})}</span>
        </div>
        <div class="signals-grid">
          ${this.renderSignalCard(u("components.macroSignals.signals.liquidity"),n.liquidity.status,Fe(n.liquidity.value),Ra(n.liquidity.sparkline,60,20,"#4fc3f7"),"JPY 30d ROC","https://www.tradingview.com/symbols/JPYUSD/")}
          ${this.renderSignalCard(u("components.macroSignals.signals.flow"),n.flowStructure.status,`BTC ${Fe(n.flowStructure.btcReturn5)} / QQQ ${Fe(n.flowStructure.qqqReturn5)}`,"","5d returns",null)}
          ${this.renderSignalCard(u("components.macroSignals.signals.regime"),n.macroRegime.status,`QQQ ${Fe(n.macroRegime.qqqRoc20)} / XLP ${Fe(n.macroRegime.xlpRoc20)}`,Ra(e.meta.qqqSparkline,60,20,"#ab47bc"),"20d ROC","https://www.tradingview.com/symbols/QQQ/")}
          ${this.renderSignalCard(u("components.macroSignals.signals.btcTrend"),n.technicalTrend.status,`$${((r=n.technicalTrend.btcPrice)==null?void 0:r.toLocaleString())??"N/A"}`,Ra(n.technicalTrend.sparkline,60,20,"#ff9800"),`SMA50: $${((o=n.technicalTrend.sma50)==null?void 0:o.toLocaleString())??"-"} | VWAP: $${((c=n.technicalTrend.vwap30d)==null?void 0:c.toLocaleString())??"-"} | Mayer: ${n.technicalTrend.mayerMultiple??"-"}`,"https://www.tradingview.com/symbols/BTCUSD/")}
          ${this.renderSignalCard(u("components.macroSignals.signals.hashRate"),n.hashRate.status,Fe(n.hashRate.change30d),"","30d change","https://mempool.space/mining")}
          ${this.renderSignalCard(u("components.macroSignals.signals.mining"),n.miningCost.status,"","","Hashprice model",null)}
          ${this.renderFearGreedCard(n.fearGreed)}
        </div>
      </div>
    `;this.setContent(s)}renderSignalCard(e,n,i,s,r,o){const c=Is(n);return`
      <div class="signal-card${o?" signal-card-linked":""}">
        <div class="signal-header">
          ${o?`<a href="${w(o)}" target="_blank" rel="noopener" class="signal-name signal-card-link">${w(e)}</a>`:`<span class="signal-name">${w(e)}</span>`}
          <span class="signal-badge ${c}">${w(n)}</span>
        </div>
        <div class="signal-body">
          ${s?`<div class="signal-sparkline-wrap">${s}</div>`:""}
          ${i?`<span class="signal-value">${i}</span>`:""}
        </div>
        ${r?`<div class="signal-detail">${w(r)}</div>`:""}
      </div>
    `}renderFearGreedCard(e){const n=Is(e.status);return`
      <div class="signal-card signal-card-fg">
        <div class="signal-header">
          <span class="signal-name">${u("components.macroSignals.signals.fearGreed")}</span>
          <span class="signal-badge ${n}">${w(e.status)}</span>
        </div>
        <div class="signal-body signal-body-fg">
          ${CS(e.value)}
        </div>
        <div class="signal-detail">
          <a href="https://alternative.me/crypto/fear-and-greed-index/" target="_blank" rel="noopener">alternative.me</a>
        </div>
      </div>
    `}}function Mt(t){return Math.abs(t)>=1e9?`${(t/1e9).toFixed(1)}B`:Math.abs(t)>=1e6?`${(t/1e6).toFixed(1)}M`:Math.abs(t)>=1e3?`${(t/1e3).toFixed(0)}K`:t.toLocaleString()}function Ts(t){return t==="inflow"?"flow-inflow":t==="outflow"?"flow-outflow":"flow-neutral"}function kS(t){return t>.1?"change-positive":t<-.1?"change-negative":"change-neutral"}class yb extends P{constructor(){super({id:"etf-flows",title:u("panels.etfFlows"),showCount:!1});h(this,"data",null);h(this,"loading",!0);h(this,"error",null);h(this,"refreshInterval",null);setTimeout(()=>void this.fetchData(),8e3),this.refreshInterval=setInterval(()=>this.fetchData(),3*6e4)}destroy(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}async fetchData(){for(let e=0;e<3;e++)try{const n=new An("",{fetch:(...i)=>globalThis.fetch(...i)});if(this.data=await n.listEtfFlows({}),this.error=null,this.data&&this.data.etfs.length===0&&e<2){this.showRetrying(),await new Promise(i=>setTimeout(i,2e4));continue}break}catch(n){if(this.isAbortError(n))return;if(e<2){this.showRetrying(),await new Promise(i=>setTimeout(i,2e4));continue}this.error=n instanceof Error?n.message:"Failed to fetch"}this.loading=!1,this.renderPanel()}renderPanel(){if(this.loading){this.showLoading(u("common.loadingEtfData"));return}if(this.error||!this.data){this.showError(this.error||u("common.noDataShort"));return}const e=this.data;if(!e.etfs.length){this.setContent(`<div class="panel-loading-text">${u("components.etfFlows.unavailable")}</div>`);return}const n=e.summary||{totalVolume:0,totalEstFlow:0,netDirection:"NEUTRAL",inflowCount:0,outflowCount:0},i=n.netDirection.includes("INFLOW")?"flow-inflow":n.netDirection.includes("OUTFLOW")?"flow-outflow":"flow-neutral",s=e.etfs.map(o=>`
      <tr class="etf-row ${Ts(o.direction)}">
        <td class="etf-ticker">${w(o.ticker)}</td>
        <td class="etf-issuer">${w(o.issuer)}</td>
        <td class="etf-flow ${Ts(o.direction)}">${o.direction==="inflow"?"+":o.direction==="outflow"?"-":""}$${Mt(Math.abs(o.estFlow))}</td>
        <td class="etf-volume">${Mt(o.volume)}</td>
        <td class="etf-change ${kS(o.priceChange)}">${o.priceChange>0?"+":""}${o.priceChange.toFixed(2)}%</td>
      </tr>
    `).join(""),r=`
      <div class="etf-flows-container">
        <div class="etf-summary ${i}">
          <div class="etf-summary-item">
            <span class="etf-summary-label">${u("components.etfFlows.netFlow")}</span>
            <span class="etf-summary-value ${i}">${n.netDirection.includes("INFLOW")?u("components.etfFlows.netInflow"):u("components.etfFlows.netOutflow")}</span>
          </div>
          <div class="etf-summary-item">
            <span class="etf-summary-label">${u("components.etfFlows.estFlow")}</span>
            <span class="etf-summary-value">$${Mt(Math.abs(n.totalEstFlow))}</span>
          </div>
          <div class="etf-summary-item">
            <span class="etf-summary-label">${u("components.etfFlows.totalVol")}</span>
            <span class="etf-summary-value">${Mt(n.totalVolume)}</span>
          </div>
          <div class="etf-summary-item">
            <span class="etf-summary-label">${u("components.etfFlows.etfs")}</span>
            <span class="etf-summary-value">${n.inflowCount}↑ ${n.outflowCount}↓</span>
          </div>
        </div>
        <div class="etf-table-wrap">
          <table class="etf-table">
            <thead>
              <tr>
                <th>${u("components.etfFlows.table.ticker")}</th>
                <th>${u("components.etfFlows.table.issuer")}</th>
                <th>${u("components.etfFlows.table.estFlow")}</th>
                <th>${u("components.etfFlows.table.volume")}</th>
                <th>${u("components.etfFlows.table.change")}</th>
              </tr>
            </thead>
            <tbody>${s}</tbody>
          </table>
        </div>
      </div>
    `;this.setContent(r)}}function Nt(t){return t>=1e12?`$${(t/1e12).toFixed(1)}T`:t>=1e9?`$${(t/1e9).toFixed(1)}B`:t>=1e6?`$${(t/1e6).toFixed(0)}M`:`$${t.toLocaleString()}`}function IS(t){return t==="ON PEG"?"peg-on":t==="SLIGHT DEPEG"?"peg-slight":"peg-off"}function TS(t){return t==="HEALTHY"?"health-good":t==="CAUTION"?"health-caution":"health-warning"}class gb extends P{constructor(){super({id:"stablecoins",title:u("panels.stablecoins"),showCount:!1});h(this,"data",null);h(this,"loading",!0);h(this,"error",null);h(this,"refreshInterval",null);this.fetchData(),this.refreshInterval=setInterval(()=>this.fetchData(),3*6e4)}destroy(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}async fetchData(){try{const e=new An("",{fetch:fetch.bind(globalThis)});this.data=await e.listStablecoinMarkets({coins:[]}),this.error=null}catch(e){if(this.isAbortError(e))return;this.error=e instanceof Error?e.message:"Failed to fetch"}finally{this.loading=!1,this.renderPanel()}}renderPanel(){if(this.loading){this.showLoading(u("common.loadingStablecoins"));return}if(this.error||!this.data){this.showError(this.error||u("common.noDataShort"));return}const e=this.data;if(!e.stablecoins.length){this.setContent(`<div class="panel-loading-text">${u("components.stablecoins.unavailable")}</div>`);return}const n=e.summary||{totalMarketCap:0,totalVolume24h:0,healthStatus:"UNAVAILABLE"},i=e.stablecoins.map(o=>`
      <div class="stable-row">
        <div class="stable-info">
          <span class="stable-symbol">${w(o.symbol)}</span>
          <span class="stable-name">${w(o.name)}</span>
        </div>
        <div class="stable-price">$${o.price.toFixed(4)}</div>
        <div class="stable-peg ${IS(o.pegStatus)}">
          <span class="peg-badge">${w(o.pegStatus)}</span>
          <span class="peg-dev">${o.deviation.toFixed(2)}%</span>
        </div>
      </div>
    `).join(""),s=e.stablecoins.map(o=>`
      <div class="stable-supply-row">
        <span class="stable-symbol">${w(o.symbol)}</span>
        <span class="stable-mcap">${Nt(o.marketCap)}</span>
        <span class="stable-vol">${Nt(o.volume24h)}</span>
        <span class="stable-change ${o.change24h>=0?"change-positive":"change-negative"}">${o.change24h>=0?"+":""}${o.change24h.toFixed(2)}%</span>
      </div>
    `).join(""),r=`
      <div class="stablecoin-container">
        <div class="stable-health ${TS(n.healthStatus)}">
          <span class="health-label">${w(n.healthStatus)}</span>
          <span class="health-detail">MCap: ${Nt(n.totalMarketCap)} | Vol: ${Nt(n.totalVolume24h)}</span>
        </div>
        <div class="stable-section">
          <div class="stable-section-title">${u("components.stablecoins.pegHealth")}</div>
          <div class="stable-peg-list">${i}</div>
        </div>
        <div class="stable-section">
          <div class="stable-section-title">${u("components.stablecoins.supplyVolume")}</div>
          <div class="stable-supply-header">
            <span>${u("components.stablecoins.token")}</span><span>${u("components.stablecoins.mcap")}</span><span>${u("components.stablecoins.vol24h")}</span><span>${u("components.stablecoins.chg24h")}</span>
          </div>
          <div class="stable-supply-list">${s}</div>
        </div>
      </div>
    `;this.setContent(r)}}class fb extends P{constructor(){super({id:"ucdp-events",title:u("panels.ucdpEvents"),showCount:!0,trackActivity:!0,infoTooltip:u("components.ucdpEvents.infoTooltip")});h(this,"events",[]);h(this,"activeTab","state-based");h(this,"onEventClick");this.showLoading(u("common.loadingUcdpEvents"))}setEventClickHandler(e){this.onEventClick=e}setEvents(e){this.events=e,this.setCount(e.length),this.renderContent()}getEvents(){return this.events}renderContent(){const e=this.events.filter(d=>d.type_of_violence===this.activeTab),n=[{key:"state-based",label:u("components.ucdpEvents.stateBased")},{key:"non-state",label:u("components.ucdpEvents.nonState")},{key:"one-sided",label:u("components.ucdpEvents.oneSided")}],i={"state-based":0,"non-state":0,"one-sided":0};for(const d of this.events)i[d.type_of_violence]+=1;const s=e.reduce((d,m)=>d+m.deaths_best,0),r=n.map(d=>`<button class="ucdp-tab ${d.key===this.activeTab?"ucdp-tab-active":""}" data-tab="${d.key}">${d.label} <span class="ucdp-tab-count">${i[d.key]}</span></button>`).join(""),o=e.slice(0,50);let c;if(o.length===0)c=`<div class="panel-empty">${u("common.noEventsInCategory")}</div>`;else{const d=o.map(m=>{const y=m.type_of_violence==="state-based"?"ucdp-deaths-state":m.type_of_violence==="non-state"?"ucdp-deaths-nonstate":"ucdp-deaths-onesided",f=m.deaths_best>0?`<span class="${y}">${m.deaths_best}</span> <small class="ucdp-range">(${m.deaths_low}-${m.deaths_high})</small>`:'<span class="ucdp-deaths-zero">0</span>',g=`${w(m.side_a)} vs ${w(m.side_b)}`;return`<tr class="ucdp-row" data-lat="${m.latitude}" data-lon="${m.longitude}">
          <td class="ucdp-country">${w(m.country)}</td>
          <td class="ucdp-deaths">${f}</td>
          <td class="ucdp-date">${m.date_start}</td>
          <td class="ucdp-actors">${g}</td>
        </tr>`}).join("");c=`
        <table class="ucdp-table">
          <thead>
            <tr>
              <th>${u("components.ucdpEvents.country")}</th>
              <th>${u("components.ucdpEvents.deaths")}</th>
              <th>${u("components.ucdpEvents.date")}</th>
              <th>${u("components.ucdpEvents.actors")}</th>
            </tr>
          </thead>
          <tbody>${d}</tbody>
        </table>`}const l=e.length>50?`<div class="panel-more">${u("components.ucdpEvents.moreNotShown",{count:e.length-50})}</div>`:"";this.setContent(`
      <div class="ucdp-panel-content">
        <div class="ucdp-header">
          <div class="ucdp-tabs">${r}</div>
          ${s>0?`<span class="ucdp-total-deaths">${u("components.ucdpEvents.deathsCount",{count:s.toLocaleString()})}</span>`:""}
        </div>
        ${c}
        ${l}
      </div>
    `),this.content.querySelectorAll(".ucdp-tab").forEach(d=>{d.addEventListener("click",()=>{this.activeTab=d.dataset.tab,this.renderContent()})}),this.content.querySelectorAll(".ucdp-row").forEach(d=>{d.addEventListener("click",()=>{var f;const m=Number(d.dataset.lat),y=Number(d.dataset.lon);Number.isFinite(m)&&Number.isFinite(y)&&((f=this.onEventClick)==null||f.call(this,m,y))})})}}class Sb extends P{constructor(){super({id:"displacement",title:u("panels.displacement"),showCount:!0,trackActivity:!0,infoTooltip:u("components.displacement.infoTooltip")});h(this,"data",null);h(this,"activeTab","origins");h(this,"onCountryClick");this.showLoading(u("common.loadingDisplacement"))}setCountryClickHandler(e){this.onCountryClick=e}setData(e){this.data=e,this.setCount(e.countries.length),this.renderContent()}renderContent(){if(!this.data)return;const e=this.data.globalTotals,i=[{label:u("components.displacement.refugees"),value:Ze(e.refugees),cls:"disp-stat-refugees"},{label:u("components.displacement.asylumSeekers"),value:Ze(e.asylumSeekers),cls:"disp-stat-asylum"},{label:u("components.displacement.idps"),value:Ze(e.idps),cls:"disp-stat-idps"},{label:u("components.displacement.total"),value:Ze(e.total),cls:"disp-stat-total"}].map(l=>`<div class="disp-stat-box ${l.cls}">
        <span class="disp-stat-value">${l.value}</span>
        <span class="disp-stat-label">${l.label}</span>
      </div>`).join(""),s=`
      <div class="disp-tabs">
        <button class="disp-tab ${this.activeTab==="origins"?"disp-tab-active":""}" data-tab="origins">${u("components.displacement.origins")}</button>
        <button class="disp-tab ${this.activeTab==="hosts"?"disp-tab-active":""}" data-tab="hosts">${u("components.displacement.hosts")}</button>
      </div>
    `;let r;this.activeTab==="origins"?r=[...this.data.countries].filter(l=>l.refugees+l.asylumSeekers>0).sort((l,d)=>d.refugees+d.asylumSeekers-(l.refugees+l.asylumSeekers)):r=[...this.data.countries].filter(l=>(l.hostTotal||0)>0).sort((l,d)=>(d.hostTotal||0)-(l.hostTotal||0));const o=r.slice(0,30);let c;if(o.length===0)c=`<div class="panel-empty">${u("common.noDataShort")}</div>`;else{const l=o.map(d=>{const m=d.hostTotal||0,y=this.activeTab==="origins"?d.refugees+d.asylumSeekers:m,f=this.activeTab==="origins"?d.totalDisplaced:m,g=f>=1e6?"disp-crisis":f>=5e5?"disp-high":f>=1e5?"disp-elevated":"",v=f>=1e6?u("components.displacement.badges.crisis"):f>=5e5?u("components.displacement.badges.high"):f>=1e5?u("components.displacement.badges.elevated"):"",b=v?`<span class="disp-badge ${g}">${v}</span>`:"";return`<tr class="disp-row" data-lat="${d.lat||""}" data-lon="${d.lon||""}">
          <td class="disp-name">${w(d.name)}</td>
          <td class="disp-status">${b}</td>
          <td class="disp-count">${Ze(y)}</td>
        </tr>`}).join("");c=`
        <table class="disp-table">
          <thead>
            <tr>
              <th>${u("components.displacement.country")}</th>
              <th>${u("components.displacement.status")}</th>
              <th>${u("components.displacement.count")}</th>
            </tr>
          </thead>
          <tbody>${l}</tbody>
        </table>`}this.setContent(`
      <div class="disp-panel-content">
        <div class="disp-stats-grid">${i}</div>
        ${s}
        ${c}
      </div>
    `),this.content.querySelectorAll(".disp-tab").forEach(l=>{l.addEventListener("click",()=>{this.activeTab=l.dataset.tab,this.renderContent()})}),this.content.querySelectorAll(".disp-row").forEach(l=>{l.addEventListener("click",()=>{var y;const d=Number(l.dataset.lat),m=Number(l.dataset.lon);Number.isFinite(d)&&Number.isFinite(m)&&((y=this.onCountryClick)==null||y.call(this,d,m))})})}}class vb extends P{constructor(){super({id:"climate",title:u("panels.climate"),showCount:!0,trackActivity:!0,infoTooltip:u("components.climate.infoTooltip")});h(this,"anomalies",[]);h(this,"onZoneClick");this.showLoading(u("common.loadingClimateData"))}setZoneClickHandler(e){this.onZoneClick=e}setAnomalies(e){this.anomalies=e,this.setCount(e.length),this.renderContent()}renderContent(){if(this.anomalies.length===0){this.setContent(`<div class="panel-empty">${u("components.climate.noAnomalies")}</div>`);return}const n=[...this.anomalies].sort((i,s)=>{const r={extreme:0,moderate:1,normal:2};return(r[i.severity]||2)-(r[s.severity]||2)}).map(i=>{const s=Tm(i),r=i.tempDelta>0?"climate-warm":"climate-cold",o=i.precipDelta>0?"climate-wet":"climate-dry",c=`severity-${i.severity}`;return`<tr class="climate-row${i.severity==="extreme"?" climate-extreme-row":""}" data-lat="${i.lat}" data-lon="${i.lon}">
        <td class="climate-zone"><span class="climate-icon">${s}</span>${w(i.zone)}</td>
        <td class="climate-num ${r}">${Ui(i.tempDelta,"°C")}</td>
        <td class="climate-num ${o}">${Ui(i.precipDelta,"mm")}</td>
        <td><span class="climate-badge ${c}">${u(`components.climate.severity.${i.severity}`)}</span></td>
      </tr>`}).join("");this.setContent(`
      <div class="climate-panel-content">
        <table class="climate-table">
          <thead>
            <tr>
              <th>${u("components.climate.zone")}</th>
              <th>${u("components.climate.temp")}</th>
              <th>${u("components.climate.precip")}</th>
              <th>${u("components.climate.severityLabel")}</th>
            </tr>
          </thead>
          <tbody>${n}</tbody>
        </table>
      </div>
    `),this.content.querySelectorAll(".climate-row").forEach(i=>{i.addEventListener("click",()=>{var o;const s=Number(i.dataset.lat),r=Number(i.dataset.lon);Number.isFinite(s)&&Number.isFinite(r)&&((o=this.onZoneClick)==null||o.call(this,s,r))})})}}class wb extends P{constructor(){super({id:"population-exposure",title:u("panels.populationExposure"),showCount:!0,trackActivity:!0,infoTooltip:u("components.populationExposure.infoTooltip")});h(this,"exposures",[]);this.showLoading(u("common.calculatingExposure"))}setExposures(e){this.exposures=e,this.setCount(e.length),this.renderContent()}renderContent(){if(this.exposures.length===0){this.setContent(`<div class="panel-empty">${u("common.noDataAvailable")}</div>`);return}const e=this.exposures.reduce((i,s)=>i+s.exposedPopulation,0),n=this.exposures.slice(0,30).map(i=>{const s=this.getTypeIcon(i.eventType),r=i.exposedPopulation>=1e6?" popexp-pop-large":"";return`<div class="popexp-card">
        <div class="popexp-card-name">${s} ${w(i.eventName)}</div>
        <div class="popexp-card-meta">
          <span class="popexp-card-pop${r}">${u("components.populationExposure.affectedCount",{count:us(i.exposedPopulation)})}</span>
          <span class="popexp-card-radius">${u("components.populationExposure.radiusKm",{km:String(i.exposureRadiusKm)})}</span>
        </div>
      </div>`}).join("");this.setContent(`
      <div class="popexp-panel-content">
        <div class="popexp-summary">
          <span class="popexp-label">${u("components.populationExposure.totalAffected")}</span>
          <span class="popexp-total">${us(e)}</span>
        </div>
        <div class="popexp-list">${n}</div>
      </div>
    `)}getTypeIcon(e){switch(e){case"state-based":case"non-state":case"one-sided":case"conflict":case"battle":return"⚔️";case"earthquake":return"🌍";case"flood":return"🌊";case"fire":case"wildfire":return"🔥";default:return"📍"}}}function Es(t){return{ports:u("components.investments.sectors.ports"),pipelines:u("components.investments.sectors.pipelines"),energy:u("components.investments.sectors.energy"),datacenters:u("components.investments.sectors.datacenters"),airports:u("components.investments.sectors.airports"),railways:u("components.investments.sectors.railways"),telecoms:u("components.investments.sectors.telecoms"),water:u("components.investments.sectors.water"),logistics:u("components.investments.sectors.logistics"),mining:u("components.investments.sectors.mining"),"real-estate":u("components.investments.sectors.realEstate"),manufacturing:u("components.investments.sectors.manufacturing")}[t]||t}const ES={operational:"#22c55e","under-construction":"#f59e0b",announced:"#60a5fa",rumoured:"#a78bfa",cancelled:"#ef4444",divested:"#6b7280"},MS={SA:"🇸🇦",UAE:"🇦🇪"};function NS(t){return t===void 0?u("components.investments.undisclosed"):t>=1e5?`$${(t/1e3).toFixed(0)}B`:t>=1e3?`$${(t/1e3).toFixed(1)}B`:`$${t.toLocaleString()}M`}class bb extends P{constructor(e){super({id:"gcc-investments",title:u("panels.gccInvestments"),showCount:!0,infoTooltip:u("components.investments.infoTooltip")});h(this,"filters",{investingCountry:"ALL",sector:"ALL",entity:"ALL",status:"ALL",search:""});h(this,"sortKey","assetName");h(this,"sortAsc",!0);h(this,"onInvestmentClick");this.onInvestmentClick=e,this.setupEventDelegation(),this.render()}getFiltered(){const{investingCountry:e,sector:n,entity:i,status:s,search:r}=this.filters,o=r.toLowerCase();return gt.filter(c=>!(e!=="ALL"&&c.investingCountry!==e||n!=="ALL"&&c.sector!==n||i!=="ALL"&&c.investingEntity!==i||s!=="ALL"&&c.status!==s||o&&!c.assetName.toLowerCase().includes(o)&&!c.targetCountry.toLowerCase().includes(o)&&!c.description.toLowerCase().includes(o)&&!c.investingEntity.toLowerCase().includes(o))).sort((c,l)=>{const d=this.sortKey,m=c[d]??"",y=l[d]??"",f=m<y?-1:m>y?1:0;return this.sortAsc?f:-f})}render(){const e=this.getFiltered(),n=Array.from(new Set(gt.map(c=>c.investingEntity))).sort(),i=Array.from(new Set(gt.map(c=>c.sector))).sort(),s=c=>this.sortKey===c?this.sortAsc?" ↑":" ↓":"",r=e.map(c=>{const l=ES[c.status]||"#6b7280",d=MS[c.investingCountry]||"",m=Es(c.sector);return`
        <tr class="fdi-row" data-id="${w(c.id)}" style="cursor:pointer">
          <td class="fdi-asset">
            <span class="fdi-flag">${d}</span>
            <strong>${w(c.assetName)}</strong>
            <div class="fdi-entity-sub">${w(c.investingEntity)}</div>
          </td>
          <td>${w(c.targetCountry)}</td>
          <td><span class="fdi-sector-badge">${w(m)}</span></td>
          <td><span class="fdi-status-dot" style="background:${l}"></span>${w(c.status)}</td>
          <td class="fdi-usd">${w(NS(c.investmentUSD))}</td>
          <td>${c.yearAnnounced??c.yearOperational??"—"}</td>
        </tr>`}).join(""),o=`
      <div class="fdi-toolbar">
        <input
          class="fdi-search"
          type="text"
          placeholder="${u("components.investments.searchPlaceholder")}"
          value="${w(this.filters.search)}"
        />
        <select class="fdi-filter" data-filter="investingCountry">
          <option value="ALL">🌐 ${u("components.investments.allCountries")}</option>
          <option value="SA" ${this.filters.investingCountry==="SA"?"selected":""}>🇸🇦 ${u("components.investments.saudiArabia")}</option>
          <option value="UAE" ${this.filters.investingCountry==="UAE"?"selected":""}>🇦🇪 ${u("components.investments.uae")}</option>
        </select>
        <select class="fdi-filter" data-filter="sector">
          <option value="ALL">${u("components.investments.allSectors")}</option>
          ${i.map(c=>`<option value="${c}" ${this.filters.sector===c?"selected":""}>${w(Es(c))}</option>`).join("")}
        </select>
        <select class="fdi-filter" data-filter="entity">
          <option value="ALL">${u("components.investments.allEntities")}</option>
          ${n.map(c=>`<option value="${w(c)}" ${this.filters.entity===c?"selected":""}>${w(c)}</option>`).join("")}
        </select>
        <select class="fdi-filter" data-filter="status">
          <option value="ALL">${u("components.investments.allStatuses")}</option>
          <option value="operational" ${this.filters.status==="operational"?"selected":""}>${u("components.investments.operational")}</option>
          <option value="under-construction" ${this.filters.status==="under-construction"?"selected":""}>${u("components.investments.underConstruction")}</option>
          <option value="announced" ${this.filters.status==="announced"?"selected":""}>${u("components.investments.announced")}</option>
          <option value="rumoured" ${this.filters.status==="rumoured"?"selected":""}>${u("components.investments.rumoured")}</option>
          <option value="divested" ${this.filters.status==="divested"?"selected":""}>${u("components.investments.divested")}</option>
        </select>
      </div>
      <div class="fdi-table-wrap">
        <table class="fdi-table">
          <thead>
            <tr>
              <th class="fdi-sort" data-sort="assetName">${u("components.investments.asset")}${s("assetName")}</th>
              <th class="fdi-sort" data-sort="targetCountry">${u("components.investments.country")}${s("targetCountry")}</th>
              <th class="fdi-sort" data-sort="sector">${u("components.investments.sector")}${s("sector")}</th>
              <th class="fdi-sort" data-sort="status">${u("components.investments.status")}${s("status")}</th>
              <th class="fdi-sort" data-sort="investmentUSD">${u("components.investments.investment")}${s("investmentUSD")}</th>
              <th class="fdi-sort" data-sort="yearAnnounced">${u("components.investments.year")}${s("yearAnnounced")}</th>
            </tr>
          </thead>
          <tbody>${r||`<tr><td colspan="6" class="fdi-empty">${u("components.investments.noMatch")}</td></tr>`}</tbody>
        </table>
      </div>`;this.setContent(o),this.countEl&&(this.countEl.textContent=String(e.length))}setupEventDelegation(){this.content.addEventListener("input",e=>{const n=e.target;n.classList.contains("fdi-search")&&(this.filters.search=n.value,this.render())}),this.content.addEventListener("change",e=>{const n=e.target.closest(".fdi-filter");if(n){const i=n.dataset.filter;this.filters[i]=n.value,this.render()}}),this.content.addEventListener("click",e=>{const n=e.target,i=n.closest(".fdi-sort");if(i){const r=i.dataset.sort;this.sortKey===r?this.sortAsc=!this.sortAsc:(this.sortKey=r,this.sortAsc=!0),this.render();return}const s=n.closest(".fdi-row");if(s){const r=gt.find(o=>o.id===s.dataset.id);r&&this.onInvestmentClick&&this.onInvestmentClick(r)}})}}export{X0 as $,Eo as A,C0 as B,mn as C,b0 as D,xS as E,k0 as F,JS as G,I0 as H,Mr as I,T0 as J,E0 as K,na as L,BS as M,To as N,FS as O,fn as P,Vy as Q,Nw as R,L as S,A0 as T,ye as U,l0 as V,p0 as W,m0 as X,gt as Y,Py as Z,Pw as _,pv as a,nb as a$,c0 as a0,Sv as a1,gv as a2,O0 as a3,S as a4,U as a5,H0 as a6,vv as a7,Mg as a8,J as a9,fw as aA,Sw as aB,V as aC,i0 as aD,YS as aE,L0 as aF,co as aG,_0 as aH,D0 as aI,F as aJ,An as aK,ov as aL,ua as aM,Gc as aN,Uw as aO,Ow as aP,Lw as aQ,f0 as aR,S0 as aS,v0 as aT,B0 as aU,z0 as aV,Qw as aW,eb as aX,Zw as aY,ib as aZ,tb as a_,t0 as aa,ZS as ab,Un as ac,e0 as ad,h0 as ae,qS as af,jS as ag,VS as ah,KS as ai,y0 as aj,s0 as ak,bd as al,QS as am,O as an,ze as ao,Ep as ap,Rw as aq,fv as ar,D as as,j0 as at,P0 as au,$0 as av,Z as aw,G0 as ax,V0 as ay,sb as az,a0 as b,Aw as b$,ab as b0,rb as b1,zS as b2,ob as b3,Ss as b4,cb as b5,Ww as b6,lb as b7,ub as b8,fb as b9,OS as bA,LS as bB,DS as bC,nv as bD,rv as bE,uv as bF,ww as bG,kw as bH,Fr as bI,bv as bJ,Rv as bK,Vw as bL,uw as bM,bw as bN,Fw as bO,dw as bP,Vv as bQ,_w as bR,zv as bS,Bw as bT,Wv as bU,xw as bV,gw as bW,Kh as bX,yw as bY,qh as bZ,Nh as b_,Sb as ba,vb as bb,wb as bc,bb as bd,gs as be,fs as bf,db as bg,pb as bh,dn as bi,mb as bj,hb as bk,yb as bl,gb as bm,ks as bn,u0 as bo,F0 as bp,r0 as bq,x0 as br,WS as bs,Z0 as bt,Q0 as bu,mv as bv,hv as bw,dv as bx,my as by,av as bz,n0 as c,Cw as c0,Gw as c1,Ly as c2,Kw as c3,Yw as c4,wv as c5,jw as c6,qw as c7,Kv as c8,jv as c9,Dw as cA,Nv as cB,Ov as cC,R0 as cD,XS as cE,Xs as cF,U0 as cG,d0 as cH,Tw as cI,Mw as cJ,Ew as cK,Be as cL,Ut as cM,ue as cN,Ps as cO,Jv as ca,Hw as cb,ow as cc,$w as cd,Jw as ce,_v as cf,Fv as cg,Bv as ch,xv as ci,hw as cj,Yg as ck,o0 as cl,Iv as cm,B as cn,Tv as co,zw as cp,Hy as cq,wy as cr,Iw as cs,J0 as ct,tw as cu,nw as cv,aw as cw,iw as cx,GS as cy,yv as cz,gn as d,w as e,W0 as f,E as g,ld as h,R as i,K0 as j,pn as k,Xw as l,Vf as m,Gf as n,Hv as o,vw as p,la as q,g0 as r,Re as s,u as t,_S as u,Io as v,Av as w,HS as x,$S as y,w0 as z};
